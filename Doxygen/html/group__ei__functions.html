<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Machine Vision using Portenta H7: Functions</title>
<link rel="icon" href="logo.png" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Machine Vision using Portenta H7<span id="projectnumber">&#160;2</span>
   </div>
   <div id="projectbrief">This project aims to develop a face recognition-based access control system using the Arduino Portenta H7 and Vision Shield, leveraging Edge Impulse for machine learning. The system captures facial images, processes them locally using an AI model deployed on the Portenta H7 and determines access based on authorised personnel.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="doc-content">
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">Functions</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga1f01a5a562ec8528c0b5fe61aa9dacc3" id="r_ga1f01a5a562ec8528c0b5fe61aa9dacc3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1f01a5a562ec8528c0b5fe61aa9dacc3">run_classifier_init</a> (void)</td></tr>
<tr class="memdesc:ga1f01a5a562ec8528c0b5fe61aa9dacc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize static variables for running preprocessing and inference continuously.  <br /></td></tr>
<tr class="separator:ga1f01a5a562ec8528c0b5fe61aa9dacc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8f5c7143bf386c91e3210280ebc152d6" id="r_ga8f5c7143bf386c91e3210280ebc152d6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga8f5c7143bf386c91e3210280ebc152d6">__attribute__</a> ((unused)) void display_results(<a class="el" href="classei__impulse__handle__t.html">ei_impulse_handle_t</a> *<a class="el" href="ei__run__dsp_8h.html#a701ab73428c38eac35ba17226b628ffa">handle</a></td></tr>
<tr class="memdesc:ga8f5c7143bf386c91e3210280ebc152d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Display the results of the inference.  <br /></td></tr>
<tr class="separator:ga8f5c7143bf386c91e3210280ebc152d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6c5d3f11303dbc8ba3a3f72e24c0079d" id="r_ga6c5d3f11303dbc8ba3a3f72e24c0079d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga6c5d3f11303dbc8ba3a3f72e24c0079d">run_classifier_deinit</a> (void)</td></tr>
<tr class="memdesc:ga6c5d3f11303dbc8ba3a3f72e24c0079d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes static variables when running preprocessing and inference continuously.  <br /></td></tr>
<tr class="separator:ga6c5d3f11303dbc8ba3a3f72e24c0079d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacf3414ec2ec4639e982fc966144a02ec" id="r_gacf3414ec2ec4639e982fc966144a02ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ei__returntypes.html#gad9580b47a6cd5e74cfc31a03bdfecebe">EI_IMPULSE_ERROR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gacf3414ec2ec4639e982fc966144a02ec">run_classifier_continuous</a> (<a class="el" href="group__ei__structs.html#gaa11c321d559d65dd1adff6af0edf54e4">signal_t</a> *<a class="el" href="classei_1_1signal.html">signal</a>, <a class="el" href="structei__impulse__result__t.html">ei_impulse_result_t</a> *<a class="el" href="#gaf4ad914acba713176b1f00a800e781ba">result</a>, bool <a class="el" href="ei__fill__result__struct_8h.html#a881f62341b5a41a3c5707268bd537be1">debug</a>=false, bool enable_maf_unused=<a class="el" href="ei__fill__result__struct_8h.html#a930920b2bc42824a5c03be681830f4b2">true</a>)</td></tr>
<tr class="memdesc:gacf3414ec2ec4639e982fc966144a02ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run preprocessing (DSP) on new slice of raw features. Add output features to rolling matrix and run inference on full sample.  <br /></td></tr>
<tr class="separator:gacf3414ec2ec4639e982fc966144a02ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga46d130150ef0ce589284705bdc4c8b69" id="r_ga46d130150ef0ce589284705bdc4c8b69"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ei__structs.html#gaa11c321d559d65dd1adff6af0edf54e4">signal_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga46d130150ef0ce589284705bdc4c8b69">signal</a></td></tr>
<tr class="separator:ga46d130150ef0ce589284705bdc4c8b69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga13eb9155f59e00a4ca0bc9aaebd14733" id="r_ga13eb9155f59e00a4ca0bc9aaebd14733"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structei__impulse__result__t.html">ei_impulse_result_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga13eb9155f59e00a4ca0bc9aaebd14733">result</a></td></tr>
<tr class="separator:ga13eb9155f59e00a4ca0bc9aaebd14733"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafdfda4c8506d9909518cc30338fc0646" id="r_gafdfda4c8506d9909518cc30338fc0646"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ei__structs.html#gaa11c321d559d65dd1adff6af0edf54e4">signal_t</a> <a class="el" href="structei__impulse__result__t.html">ei_impulse_result_t</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gafdfda4c8506d9909518cc30338fc0646">debug</a> = false</td></tr>
<tr class="separator:gafdfda4c8506d9909518cc30338fc0646"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf4ad914acba713176b1f00a800e781ba" id="r_gaf4ad914acba713176b1f00a800e781ba"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structei__learning__block__config__tflite__graph__t.html">ei_learning_block_config_tflite_graph_t</a> <a class="el" href="structei__impulse__result__t.html">ei_impulse_result_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf4ad914acba713176b1f00a800e781ba">result</a></td></tr>
<tr class="separator:gaf4ad914acba713176b1f00a800e781ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Public-facing functions for running inference using the Edge Impulse C++ library.</p>
<p><b>Source</b>: <a href="https://github.com/edgeimpulse/inferencing-sdk-cpp/blob/master/classifier/ei_run_classifier.h">classifier/ei_run_classifier.h</a></p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga8f5c7143bf386c91e3210280ebc152d6" name="ga8f5c7143bf386c91e3210280ebc152d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8f5c7143bf386c91e3210280ebc152d6">&#9670;&#160;</a></span>__attribute__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__attribute__ </td>
          <td>(</td>
          <td class="paramtype">(unused)</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Display the results of the inference. </p>
<p>Run preprocessing (DSP) on new slice of raw features. Add output features to rolling matrix and run inference on full sample.</p>
<p>Initialize static variables for running preprocessing and inference continuously.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">result</td><td>The result</td></tr>
  </table>
  </dd>
</dl>
<p>Check if the current impulse could be used by 'run_classifier_image_quantized'</p>
<p>Initializes and clears any internal static variables needed by <code><a class="el" href="#gacf3414ec2ec4639e982fc966144a02ec" title="Run preprocessing (DSP) on new slice of raw features. Add output features to rolling matrix and run i...">run_classifier_continuous()</a></code>. This includes the moving average filter (MAF). This function should be called prior to calling <code><a class="el" href="#gacf3414ec2ec4639e982fc966144a02ec" title="Run preprocessing (DSP) on new slice of raw features. Add output features to rolling matrix and run i...">run_classifier_continuous()</a></code>.</p>
<p><b>Blocking</b>: yes</p>
<p><b>Example</b>: <a href="https://github.com/edgeimpulse/example-lacuna-ls200/blob/main/nano_ble33_sense_microphone_continous/nano_ble33_sense_microphone_continuous.ino">nano_ble33_sense_microphone_continuous.ino</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>struct with information about model and DSP</td></tr>
  </table>
  </dd>
</dl>
<p>Accepts a new slice of features give by the callback defined in the <code>signal</code> parameter. It performs preprocessing (DSP) on this new slice of features and appends the output to a sliding window of pre-processed features (stored in a static features matrix). The matrix stores the new slice and as many old slices as necessary to make up one full sample for performing inference.</p>
<p><code><a class="el" href="#ga1f01a5a562ec8528c0b5fe61aa9dacc3" title="Initialize static variables for running preprocessing and inference continuously.">run_classifier_init()</a></code> must be called before making any calls to <code><a class="el" href="#gacf3414ec2ec4639e982fc966144a02ec" title="Run preprocessing (DSP) on new slice of raw features. Add output features to rolling matrix and run i...">run_classifier_continuous()</a>.</code></p>
<p>For example, if you are doing keyword spotting on 1-second slices of audio and you want to perform inference 4 times per second (given by <code>EI_CLASSIFIER_SLICES_PER_MODEL_WINDOW</code>), you would collect 0.25 seconds of audio and call <a class="el" href="#gacf3414ec2ec4639e982fc966144a02ec" title="Run preprocessing (DSP) on new slice of raw features. Add output features to rolling matrix and run i...">run_classifier_continuous()</a>. The function would compute the Mel-Frequency Cepstral Coefficients (MFCCs) for that 0.25 second slice of audio, drop the oldest 0.25 seconds' worth of MFCCs from its internal matrix, and append the newest slice of MFCCs. This process allows the library to keep track of the pre-processed features (e.g. MFCCs) in the window instead of the entire set of raw features (e.g. raw audio data), which can potentially save a lot of space in RAM. After updating the static matrix, inference is performed using the whole matrix, which acts as a sliding window of pre-processed features.</p>
<p>Additionally, a moving average filter (MAF) can be enabled for <code><a class="el" href="#gacf3414ec2ec4639e982fc966144a02ec" title="Run preprocessing (DSP) on new slice of raw features. Add output features to rolling matrix and run i...">run_classifier_continuous()</a></code>, which averages (arithmetic mean) the last <em>n</em> inference results for each class. <em>n</em> is <code>EI_CLASSIFIER_SLICES_PER_MODEL_WINDOW / 2</code>. In our example above, if we enabled the MAF, the values in <code>result</code> would contain predictions averaged from the previous 2 inferences.</p>
<p>To learn more about <code><a class="el" href="#gacf3414ec2ec4639e982fc966144a02ec" title="Run preprocessing (DSP) on new slice of raw features. Add output features to rolling matrix and run i...">run_classifier_continuous()</a></code>, see <a href="https://docs.edgeimpulse.com/docs/tutorials/advanced-inferencing/continuous-audio-sampling">this guide</a> on continuous audio sampling. While the guide is written for audio signals, the concepts of continuous sampling and inference can be extrapolated to any time-series data.</p>
<p><b>Blocking</b>: yes</p>
<p><b>Example</b>: <a href="https://github.com/edgeimpulse/example-lacuna-ls200/blob/main/nano_ble33_sense_microphone_continous/nano_ble33_sense_microphone_continuous.ino">nano_ble33_sense_microphone_continuous.ino</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">impulse</td><td><code><a class="el" href="classei__impulse__handle__t.html">ei_impulse_handle_t</a></code> struct with information about preprocessing and model. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">signal</td><td>Pointer to a signal_t struct that contains the number of elements in the slice of raw features (e.g. <code>EI_CLASSIFIER_SLICE_SIZE</code>) and a pointer to a callback that reads in the slice of raw features. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">result</td><td>Pointer to an <code><a class="el" href="structei__impulse__result__t.html" title="Holds the output of inference, anomaly results, and timing information.">ei_impulse_result_t</a></code> struct that contains the various output results from inference after run_classifier() returns. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">debug</td><td>Print internal preprocessing and inference debugging information via <code><a class="el" href="ei__run__classifier_8h.html#adda641ea28ba092cca93ceb401fe0807">ei_printf()</a></code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">enable_maf_unused</td><td>Enable the moving average filter (MAF) for the classifier - deprecated, replaced with Performance Calibration</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code as defined by <code>EI_IMPULSE_ERROR</code> enum. Will be <code>EI_IMPULSE_OK</code> if inference completed successfully. </dd></dl>

</div>
</div>
<a id="gacf3414ec2ec4639e982fc966144a02ec" name="gacf3414ec2ec4639e982fc966144a02ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacf3414ec2ec4639e982fc966144a02ec">&#9670;&#160;</a></span>run_classifier_continuous()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ei__returntypes.html#gad9580b47a6cd5e74cfc31a03bdfecebe">EI_IMPULSE_ERROR</a> run_classifier_continuous </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ei__structs.html#gaa11c321d559d65dd1adff6af0edf54e4">signal_t</a> *</td>          <td class="paramname"><span class="paramname"><em>signal</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structei__impulse__result__t.html">ei_impulse_result_t</a> *</td>          <td class="paramname"><span class="paramname"><em>result</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>debug</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>enable_maf_unused</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="ei__fill__result__struct_8h.html#a930920b2bc42824a5c03be681830f4b2">true</a></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run preprocessing (DSP) on new slice of raw features. Add output features to rolling matrix and run inference on full sample. </p>
<p>Accepts a new slice of features give by the callback defined in the <code>signal</code> parameter. It performs preprocessing (DSP) on this new slice of features and appends the output to a sliding window of pre-processed features (stored in a static features matrix). The matrix stores the new slice and as many old slices as necessary to make up one full sample for performing inference.</p>
<p><code><a class="el" href="#ga1f01a5a562ec8528c0b5fe61aa9dacc3" title="Initialize static variables for running preprocessing and inference continuously.">run_classifier_init()</a></code> must be called before making any calls to <code><a class="el" href="#gacf3414ec2ec4639e982fc966144a02ec" title="Run preprocessing (DSP) on new slice of raw features. Add output features to rolling matrix and run i...">run_classifier_continuous()</a>.</code></p>
<p>For example, if you are doing keyword spotting on 1-second slices of audio and you want to perform inference 4 times per second (given by <code>EI_CLASSIFIER_SLICES_PER_MODEL_WINDOW</code>), you would collect 0.25 seconds of audio and call <a class="el" href="#gacf3414ec2ec4639e982fc966144a02ec" title="Run preprocessing (DSP) on new slice of raw features. Add output features to rolling matrix and run i...">run_classifier_continuous()</a>. The function would compute the Mel-Frequency Cepstral Coefficients (MFCCs) for that 0.25 second slice of audio, drop the oldest 0.25 seconds' worth of MFCCs from its internal matrix, and append the newest slice of MFCCs. This process allows the library to keep track of the pre-processed features (e.g. MFCCs) in the window instead of the entire set of raw features (e.g. raw audio data), which can potentially save a lot of space in RAM. After updating the static matrix, inference is performed using the whole matrix, which acts as a sliding window of pre-processed features.</p>
<p>Additionally, a moving average filter (MAF) can be enabled for <code><a class="el" href="#gacf3414ec2ec4639e982fc966144a02ec" title="Run preprocessing (DSP) on new slice of raw features. Add output features to rolling matrix and run i...">run_classifier_continuous()</a></code>, which averages (arithmetic mean) the last <em>n</em> inference results for each class. <em>n</em> is <code>EI_CLASSIFIER_SLICES_PER_MODEL_WINDOW / 2</code>. In our example above, if we enabled the MAF, the values in <code>result</code> would contain predictions averaged from the previous 2 inferences.</p>
<p>To learn more about <code><a class="el" href="#gacf3414ec2ec4639e982fc966144a02ec" title="Run preprocessing (DSP) on new slice of raw features. Add output features to rolling matrix and run i...">run_classifier_continuous()</a></code>, see <a href="https://docs.edgeimpulse.com/docs/tutorials/advanced-inferencing/continuous-audio-sampling">this guide</a> on continuous audio sampling. While the guide is written for audio signals, the concepts of continuous sampling and inference can be extrapolated to any time-series data.</p>
<p><b>Blocking</b>: yes</p>
<p><b>Example</b>: <a href="https://github.com/edgeimpulse/example-lacuna-ls200/blob/main/nano_ble33_sense_microphone_continous/nano_ble33_sense_microphone_continuous.ino">nano_ble33_sense_microphone_continuous.ino</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">signal</td><td>Pointer to a signal_t struct that contains the number of elements in the slice of raw features (e.g. <code>EI_CLASSIFIER_SLICE_SIZE</code>) and a pointer to a callback that reads in the slice of raw features. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">result</td><td>Pointer to an <code><a class="el" href="structei__impulse__result__t.html" title="Holds the output of inference, anomaly results, and timing information.">ei_impulse_result_t</a></code> struct that contains the various output results from inference after run_classifier() returns. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">debug</td><td>Print internal preprocessing and inference debugging information via <code><a class="el" href="ei__run__classifier_8h.html#adda641ea28ba092cca93ceb401fe0807">ei_printf()</a></code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">enable_maf_unused</td><td>Enable the moving average filter (MAF) for the classifier - deprecated, replaced with Performance Calibration</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code as defined by <code>EI_IMPULSE_ERROR</code> enum. Will be <code>EI_IMPULSE_OK</code> if inference completed successfully. </dd></dl>

</div>
</div>
<a id="ga6c5d3f11303dbc8ba3a3f72e24c0079d" name="ga6c5d3f11303dbc8ba3a3f72e24c0079d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6c5d3f11303dbc8ba3a3f72e24c0079d">&#9670;&#160;</a></span>run_classifier_deinit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void run_classifier_deinit </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes static variables when running preprocessing and inference continuously. </p>
<p>Deletes internal static variables used by <code><a class="el" href="#gacf3414ec2ec4639e982fc966144a02ec" title="Run preprocessing (DSP) on new slice of raw features. Add output features to rolling matrix and run i...">run_classifier_continuous()</a></code>, which includes the moving average filter (MAF). This function should be called when you are done running continuous classification.</p>
<p><b>Blocking</b>: yes</p>
<p><b>Example</b>: <a href="https://github.com/edgeimpulse/firmware-nordic-thingy53/blob/main/src/inference/ei_run_audio_impulse.cpp">ei_run_audio_impulse.cpp</a> </p>

</div>
</div>
<a id="ga1f01a5a562ec8528c0b5fe61aa9dacc3" name="ga1f01a5a562ec8528c0b5fe61aa9dacc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1f01a5a562ec8528c0b5fe61aa9dacc3">&#9670;&#160;</a></span>run_classifier_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void run_classifier_init </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize static variables for running preprocessing and inference continuously. </p>
<p>Initializes and clears any internal static variables needed by <code><a class="el" href="#gacf3414ec2ec4639e982fc966144a02ec" title="Run preprocessing (DSP) on new slice of raw features. Add output features to rolling matrix and run i...">run_classifier_continuous()</a></code>. This includes the moving average filter (MAF). This function should be called prior to calling <code><a class="el" href="#gacf3414ec2ec4639e982fc966144a02ec" title="Run preprocessing (DSP) on new slice of raw features. Add output features to rolling matrix and run i...">run_classifier_continuous()</a></code>.</p>
<p><b>Blocking</b>: yes</p>
<p><b>Example</b>: <a href="https://github.com/edgeimpulse/example-lacuna-ls200/blob/main/nano_ble33_sense_microphone_continous/nano_ble33_sense_microphone_continuous.ino">nano_ble33_sense_microphone_continuous.ino</a> </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="gafdfda4c8506d9909518cc30338fc0646" name="gafdfda4c8506d9909518cc30338fc0646"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafdfda4c8506d9909518cc30338fc0646">&#9670;&#160;</a></span>debug</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ei__structs.html#gaa11c321d559d65dd1adff6af0edf54e4">signal_t</a> <a class="el" href="structei__impulse__result__t.html">ei_impulse_result_t</a> bool debug = false</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gaf4ad914acba713176b1f00a800e781ba" name="gaf4ad914acba713176b1f00a800e781ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf4ad914acba713176b1f00a800e781ba">&#9670;&#160;</a></span>result <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ei__structs.html#gaa11c321d559d65dd1adff6af0edf54e4">signal_t</a> <a class="el" href="structei__impulse__result__t.html">ei_impulse_result_t</a> * result</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga13eb9155f59e00a4ca0bc9aaebd14733" name="ga13eb9155f59e00a4ca0bc9aaebd14733"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga13eb9155f59e00a4ca0bc9aaebd14733">&#9670;&#160;</a></span>result <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ei__structs.html#gaa11c321d559d65dd1adff6af0edf54e4">signal_t</a> <a class="el" href="structei__impulse__result__t.html">ei_impulse_result_t</a>* result</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">{</div>
<div class="line">    </div>
<div class="line">    <a class="code hl_function" href="ei__run__classifier_8h.html#adda641ea28ba092cca93ceb401fe0807">ei_printf</a>(<span class="stringliteral">&quot;Predictions (DSP: &quot;</span>)</div>
<div class="ttc" id="aei__run__classifier_8h_html_adda641ea28ba092cca93ceb401fe0807"><div class="ttname"><a href="ei__run__classifier_8h.html#adda641ea28ba092cca93ceb401fe0807">ei_printf</a></div><div class="ttdeci">result timing dsp_us ei_printf_float((float) result-&gt;timing.dsp_us/1000) ei_printf(&quot; ms., Classification: &quot;)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga46d130150ef0ce589284705bdc4c8b69" name="ga46d130150ef0ce589284705bdc4c8b69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga46d130150ef0ce589284705bdc4c8b69">&#9670;&#160;</a></span>signal</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ei__structs.html#gaa11c321d559d65dd1adff6af0edf54e4">signal_t</a>* <a class="el" href="classei_1_1signal.html">signal</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
