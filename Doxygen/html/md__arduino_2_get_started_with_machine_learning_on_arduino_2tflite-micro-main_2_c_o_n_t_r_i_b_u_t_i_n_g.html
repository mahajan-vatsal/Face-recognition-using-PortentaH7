<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Machine Vision using Portenta H7: CONTRIBUTING</title>
<link rel="icon" href="logo.png" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Machine Vision using Portenta H7<span id="projectnumber">&#160;2</span>
   </div>
   <div id="projectbrief">This project aims to develop a face recognition-based access control system using the Arduino Portenta H7 and Vision Shield, leveraging Edge Impulse for machine learning. The system captures facial images, processes them locally using an AI model deployed on the Portenta H7 and determines access based on authorised personnel.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">CONTRIBUTING</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ul>
<li>How to Contribute<ul>
<li>Contributor License Agreement</li>
<li>Community Guidelines</li>
</ul>
</li>
<li>Code Contribution Guidelines<ul>
<li>General Pull Request Guidelines</li>
<li>Guidelines for Specific Contribution Categories<ul>
<li>Bug Fixes</li>
<li>Reference Kernel Implementations</li>
<li>Optimized Kernel Implementations</li>
<li>New Target / Platform / IDE / Examples</li>
</ul>
</li>
</ul>
</li>
<li>Development Workflow Notes<ul>
<li>Initial Setup</li>
<li>Before submitting your PR</li>
<li>During the PR review</li>
<li>Reviewer notes</li>
<li>Python notes</li>
</ul>
</li>
<li>Continuous Integration System</li>
</ul>
<h1><a class="anchor" id="autotoc_md68"></a>
How to Contribute</h1>
<p>We'd love to accept your patches and contributions to this project. There are just a few small guidelines you need to follow.</p>
<h2><a class="anchor" id="autotoc_md69"></a>
Contributor License Agreement</h2>
<p>Contributions to this project must be accompanied by a Contributor License Agreement (CLA). You (or your employer) retain the copyright to your contribution; this simply gives us permission to use and redistribute your contributions as part of the project. Head over to <a href="https://cla.developers.google.com/">https://cla.developers.google.com/</a> to see your current agreements on file or to sign a new one.</p>
<p>You generally only need to submit a CLA once, so if you've already submitted one (even if it was for a different project), you probably don't need to do it again.</p>
<h2><a class="anchor" id="autotoc_md70"></a>
Community Guidelines</h2>
<p>This project follows <a href="https://opensource.google/conduct/">Google's Open Source Community Guidelines</a>.</p>
<h1><a class="anchor" id="autotoc_md71"></a>
Code Contribution Guidelines</h1>
<p>We provide some general guidelines with the goal of enabling community contributions while still maintaining code health, maintainability, and consistency in style.</p>
<p>Please note that while these guidelines may seem onerous to some developers, they are derived from Google's software engineering best practices.</p>
<p>Before we describe project-specific guidelines, we recommend that external contributors read these tips from the Google Testing Blog:</p>
<ul>
<li><a href="https://testing.googleblog.com/2017/09/code-health-providing-context-with.html">Code Health: Providing Context with Commit Messages and Bug Reports</a></li>
<li><a href="https://testing.googleblog.com/2018/05/code-health-understanding-code-in-review.html">Code Health: Understanding Code In Review</a></li>
<li><a href="https://testing.googleblog.com/2017/06/code-health-too-many-comments-on-your.html">Code Health: Too Many Comments on Your Code Reviews?</a></li>
<li><a href="https://testing.googleblog.com/2017/07/code-health-to-comment-or-not-to-comment.html">Code Health: To Comment or Not to Comment?</a></li>
</ul>
<p>We also recommend that contributors take a look at the <a href="https://github.com/tensorflow/tensorflow/blob/master/CONTRIBUTING.md">Tensorflow Contributing Guidelines</a>.</p>
<h2><a class="anchor" id="autotoc_md72"></a>
General Pull Request Guidelines</h2>
<p>We strongly recommend that contributors:</p>
<ol type="1">
<li>Initiate a conversation with the TFLM team via a <a href="https://github.com/tensorflow/tensorflow/issues/new?labels=comp%3Amicro&amp;template=70-tflite-micro-issue.md">TF Lite Micro Github issue</a> as early as possible.<ul>
<li>This enables us to give guidance on how to proceed, prevent duplicated effort and also point to alternatives as well as context if we are not able to accept a particular contribution at a given time.</li>
<li>Ideally, you should make an issue <em><b>before</b></em> starting to work on a pull request and provide context on both what you want to contribute and why.</li>
</ul>
</li>
</ol>
<ol type="1">
<li>Once step 1. is complete and it is determined that a PR from an external contributor is the way to go, please follow these guidelines from <a href="https://google.github.io/eng-practices/">Google's Engineering Practices documentation</a>:<ul>
<li><a href="https://google.github.io/eng-practices/review/developer/small-cls.html">Send Small Pull Requests</a><ul>
<li>If a pull request is doing more than one thing, the reviewer will request that it be broken up into two or more PRs.</li>
</ul>
</li>
<li><a href="https://google.github.io/eng-practices/review/developer/cl-descriptions.html">Write Good Pull Request Descriptions</a><ul>
<li><p class="startli">We require that all PR descriptions link to the GitHub issue created in step 1 via the text <code>BUG=#nn</code> on a line by itself [^1]. This is enforced by CI.</p>
<p class="startli">[^1]: This despite GitHub having additional forms of <a href="https://docs.github.com/en/get-started/writing-on-github/working-with-advanced-formatting/autolinked-references-and-urls">linked references</a>.</p>
</li>
</ul>
</li>
</ul>
</li>
</ol>
<ol type="1">
<li>Unit tests are critical to a healthy codebase. PRs without tests should be the exception rather than the norm. And contributions to improve, simplify, or make the unit tests more exhaustive are welcome! Please refer to <a href="https://google.github.io/eng-practices/review/developer/small-cls.html#test_code">this guideline</a> on how test code and writing small PRs should be reconciled.</li>
</ol>
<h2><a class="anchor" id="autotoc_md73"></a>
Guidelines for Specific Contribution Categories</h2>
<p>We provide some additional guidelines for different categories of contributions.</p>
<h3><a class="anchor" id="autotoc_md74"></a>
Bug Fixes</h3>
<p>Pull requests that fix bugs are always welcome and often uncontroversial, unless there is a conflict between different requirements from the platform, or if fixing a bug needs a bigger architectural change.</p>
<ol type="1">
<li>Create a <a href="https://github.com/tensorflow/tflite-micro/issues/new/choose">Github issue</a> to determine the scope of the bug fix.</li>
</ol>
<ol type="1">
<li>Send a PR (if that is determined to be the best path forward).</li>
</ol>
<ol type="1">
<li>Bugfix PRs should be accompanied by a test case that fails prior to the fix and passes with the fix. This validates that the fix works as expected, and helps prevent future regressions.</li>
</ol>
<h3><a class="anchor" id="autotoc_md75"></a>
Reference Kernel Implementations</h3>
<p>Pull requests that port reference kernels from TF Lite Mobile to TF Lite Micro are welcome once we have context from the contributor on why the additional kernel is needed.</p>
<p>Please see the <a class="el" href="md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2tensorflow_2lite_e2cc8d602e76088df71202fcf3d8bf60.html">reference kernel porting guide</a> for more details of that process.</p>
<h3><a class="anchor" id="autotoc_md76"></a>
Optimized Kernel Implementations</h3>
<p>Please see the <a class="el" href="md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2tensorflow_2lite_3952fae331b4acfd9647a397f96b4a4e.html">optimized kernel implementations guide</a>.</p>
<h3><a class="anchor" id="autotoc_md77"></a>
New Target / Platform / IDE / Examples</h3>
<p>Please see the <a class="el" href="md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2tensorflow_2lite_6cbbd7b866c44efe308573f729f516bd.html">new platform support guide</a> for documentation on how to add TFLM support for your particular platform.</p>
<h1><a class="anchor" id="autotoc_md78"></a>
Development Workflow Notes</h1>
<h2><a class="anchor" id="autotoc_md79"></a>
Initial Setup</h2>
<p>Below are some tips that might be useful and improve the development experience.</p>
<ul>
<li>Add the <a href="https://github.com/sindresorhus/refined-github">Refined GitHub</a> plugin to make the github experience even better.</li>
<li>Code search the <a href="https://sourcegraph.com/github.com/tensorflow/tflite-micro@main">TfLite Micro codebase</a> on Sourcegraph. And optionally install the <a href="https://docs.sourcegraph.com/integration/github#github-integration-with-sourcegraph">plugin that enables GitHub integration</a>.</li>
<li>Install <a href="ci/install_bazelisk.sh">bazel</a> and <a href="ci/install_buildifier.sh">buildifier</a>.</li>
<li>Install the latest clang and clang-format. For example, <a href="ci/Dockerfile.micro">here</a> is the what we do for the TFLM continuous integration Docker container.</li>
<li>Get a copy of <a href="https://github.com/google/styleguide/tree/gh-pages/cpplint">cpplint</a> or install it:</li>
<li><p class="startli">Install Pillow and Wave. For example, <a href="ci/Dockerfile.micro">here</a> is what we do for the TFLM continuous integration Docker container.</p>
<div class="fragment"><div class="line">pip install cpplint</div>
</div><!-- fragment --></li>
<li><p class="startli"><a href="https://github.com/google/yapf/">yapf</a> should be used for formatting Python code. For example:</p>
<div class="fragment"><div class="line">pip install yapf</div>
<div class="line">yapf log_parser.py -i --style=&#39;{based_on_style: pep8, indent_width: 2}&#39;</div>
</div><!-- fragment --></li>
<li>Add a git hook to check for code style etc. prior to creating a pull request: <div class="fragment"><div class="line">cp tensorflow/lite/micro/tools/dev_setup/pre-push.tflm .git/hooks/pre-push</div>
</div><!-- fragment --></li>
</ul>
<h2><a class="anchor" id="autotoc_md80"></a>
Before submitting your PR</h2>
<ol type="1">
<li><p class="startli">Run in-place clang-format on all the files that are modified in your git tree with</p>
<p class="startli"><code> clang-format -i -style=google `git ls-files -m | grep "\.cc"` clang-format -i -style=google `git ls-files -m | grep "\.h"` </code></p>
</li>
</ol>
<ol type="1">
<li><p class="startli">Make sure your code is lint-free.</p>
<p class="startli"><code> cpplint `git ls-files -m` </code></p>
</li>
</ol>
<ol type="1">
<li><p class="startli">Run all the tests for x86, and any other platform that you are modifying.</p>
<p class="startli"><code> tensorflow/lite/micro/tools/ci_build/test_x86_default.sh </code></p>
<p class="startli">Please check the READMEs in the optimized kernel directories for specific instructions.</p>
</li>
</ol>
<ol type="1">
<li><p class="startli">Sometimes, bugs are caught by the sanitizers that can go unnoticed via the Makefile. To run a test with the different sanitizers, use the following commands (replace <code>micro_interpreter_test</code> with the target that you want to test:</p>
<p class="startli"><code> CC=clang bazel run --config=asan tensorflow/lite/micro:micro_interpreter_test CC=clang bazel run --config=msan tensorflow/lite/micro:micro_interpreter_test CC=clang bazel run --config=ubsan tensorflow/lite/micro:micro_interpreter_test </code></p>
</li>
</ol>
<h2><a class="anchor" id="autotoc_md81"></a>
During the PR review</h2>
<ol type="1">
<li><p class="startli">Do not change the git version history.</p><ul>
<li>Always merge upstream/main (<em><b>do not rebase</b></em>) and no force-pushes please.</li>
<li>Having an extra merge commit is ok as the github review tool handles that gracefully.</li>
</ul>
<p class="startli">Assuming that you forked tensorflow and added a remote called upstream with:</p>
<p class="startli"><code> git remote add upstream <a href="https://github.com/tensorflow/tflite-micro.git">https://github.com/tensorflow/tflite-micro.git</a> </code></p>
<p class="startli">Fetch the latest changes from upstream and merge into your local branch.</p>
<p class="startli"><code> git fetch upstream git merge upstream/main </code></p>
<p class="startli">In case of a merge conflict, resolve via:</p>
<p class="startli">``` git mergetool</p>
</li>
</ol>
<h1><a class="anchor" id="autotoc_md82"></a>
Use your favorite diff tools (e.g. meld) to resolve the conflicts.</h1>
<p>git add &lt;files that were manually resolved&gt;</p>
<p>git commit ```</p>
<ol type="1">
<li>If a force push seems to be the only path forward, please stop and let your PR reviewer know <em><b>before</b></em> force pushing. We will attempt to do the merge for you. This will also help us better understand in what conditions a force-push may be unavoidable.</li>
</ol>
<h2><a class="anchor" id="autotoc_md83"></a>
Reviewer notes</h2>
<ul>
<li><p class="startli"><a href="https://cli.github.com">GIthub CLI</a> can be useful to quickly checkout a PR to test locally.</p>
<p class="startli"><code>gh pr checkout &lt;PR number&gt;</code></p>
</li>
<li><p class="startli">Google engineers on the Tensorflow team will have the permissions to push edits to most PRs. This can be useful to make some small fixes as a result of errors due to internal checks that are not easily reproducible via github.</p>
<p class="startli">One example of this is <a href="https://github.com/tensorflow/tensorflow/pull/38634#issuecomment-683190474">this comment</a>.</p>
<p class="startli">And a sketch of the steps:</p>
<p class="startli">``` git remote add &lt;remote_name&gt; <a href="#" onclick="location.href='mai'+'lto:'+'git'+'@g'+'ith'+'ub'+'.co'+'m'; return false;">git@g<span class="obfuscator">.nosp@m.</span>ithu<span class="obfuscator">.nosp@m.</span>b.com</a>:&lt;PR author&gt;/tflite-micro.git git fetch &lt;remote_name&gt;</p>
<p class="startli">git checkout -b &lt;local-branch-name&gt; &lt;remote_name&gt;/&lt;PR branch name&gt;</p>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md84"></a>
make changes and commit to local branch</h1>
<h1><a class="anchor" id="autotoc_md85"></a>
push changes to remove branch</h1>
<p>git push &lt;remote_name&gt; &lt;PR branch name&gt;</p>
<h1><a class="anchor" id="autotoc_md86"></a>
remove the temp remote to clean up your git environment.</h1>
<p>git remote rm &lt;remote_name&gt; ```</p>
<h2><a class="anchor" id="autotoc_md87"></a>
Python notes</h2>
<ul>
<li><a class="el" href="md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2docs_2python.html">TFLM Python guide</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md88"></a>
Continuous Integration System</h1>
<ul>
<li>Some <a class="el" href="md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2docs_2continuous__integration.html">additional documentation</a> on the TFLM CI. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
