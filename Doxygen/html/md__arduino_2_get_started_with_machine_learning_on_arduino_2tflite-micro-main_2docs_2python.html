<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Machine Vision using Portenta H7: python</title>
<link rel="icon" href="logo.png" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Machine Vision using Portenta H7<span id="projectnumber">&#160;2</span>
   </div>
   <div id="projectbrief">This project aims to develop a face recognition-based access control system using the Arduino Portenta H7 and Vision Shield, leveraging Edge Impulse for machine learning. The system captures facial images, processes them locally using an AI model deployed on the Portenta H7 and determines access based on authorised personnel.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">python</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ul>
<li>Using Bazel</li>
<li>Manual Setup Illustration</li>
</ul>
<p>Writing and using Python scripts from the TFLM repository is currently in the prototyping stage. As such, the instructions below are somewhat sparse and subject to change.</p>
<ul>
<li><a href="https://www.tensorflow.org/community/contribute/code_style#python_style">TensorFlow Python style guide</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md111"></a>
Using Bazel</h1>
<p>We use Bazel as our default build system for Python and the continuous integration infrastrucutre only runs the Python unit tests via Bazel.</p>
<p>When using Bazel with Python, all the environment setup is handled as part of the build.</p>
<p>Some example commands: </p><div class="fragment"><div class="line">bazel test tensorflow/lite/tools:flatbuffer_utils_test</div>
<div class="line">bazel build tensorflow/lite/tools:visualize</div>
<div class="line"> </div>
<div class="line">bazel-bin/tensorflow/lite/tools/visualize tensorflow/lite/micro/models/person_detect.tflite tensorflow/lite/micro/models/person_detect.tflite.html</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md112"></a>
Manual Setup Illustration</h1>
<p>For advanced users that would like to use the Python code in the TFLM repository independent of bazel, here is one approach.</p>
<p>Please note that this setup is unsupported and will need users to debug various issues on their own. It is described here for illustrative purposes only.</p>
<div class="fragment"><div class="line"># The cloned tflite-micro folder needs to be renamed to tflite_micro</div>
<div class="line">mv tflite-micro tflite_micro</div>
<div class="line"># To set up a specific Python version, make sure `python` is pointed to the</div>
<div class="line"># desired version. For example, call `python3.11 -m venv tflite_micro/venv`.</div>
<div class="line">python -m venv tflite_micro/venv</div>
<div class="line">echo &quot;export PYTHONPATH=\${PYTHONPATH}:${PWD}&quot; &gt;&gt; tflite_micro/venv/bin/activate</div>
<div class="line">cd tflite_micro</div>
<div class="line">source venv/bin/activate</div>
<div class="line">pip install --upgrade pip</div>
<div class="line">pip install -r third_party/python_requirements.txt</div>
<div class="line"> </div>
<div class="line"># (Optional)</div>
<div class="line">pip install ipython</div>
</div><!-- fragment --><p>Run some tests and binaries: </p><div class="fragment"><div class="line">python tensorflow/lite/tools/flatbuffer_utils_test.py</div>
<div class="line">python tensorflow/lite/tools/visualize.py tensorflow/lite/micro/models/person_detect.tflite tensorflow/lite/micro/models/person_detect.tflite.html</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
