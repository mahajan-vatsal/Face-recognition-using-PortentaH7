<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Machine Vision using Portenta H7: Arduino/GetStartedWithMachineLearningOnArduino/tflite-micro-main/tensorflow/lite/micro/kernels/lstm_eval.h Source File</title>
<link rel="icon" href="logo.png" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Machine Vision using Portenta H7<span id="projectnumber">&#160;2</span>
   </div>
   <div id="projectbrief">This project aims to develop a face recognition-based access control system using the Arduino Portenta H7 and Vision Shield, leveraging Edge Impulse for machine learning. The system captures facial images, processes them locally using an AI model deployed on the Portenta H7 and determines access based on authorised personnel.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_a991eec27578c865874ede3d8ec657c2.html">Arduino</a></li><li class="navelem"><a class="el" href="dir_5b434fadadbc73afff09af364c4592fa.html">GetStartedWithMachineLearningOnArduino</a></li><li class="navelem"><a class="el" href="dir_37328d0195f4d1497edc6914cc71a1c6.html">tflite-micro-main</a></li><li class="navelem"><a class="el" href="dir_e5bdcbd8b9c0fefb7a2e0f3ea674e16e.html">tensorflow</a></li><li class="navelem"><a class="el" href="dir_503634df472a76a989a31bcd8d94bcd0.html">lite</a></li><li class="navelem"><a class="el" href="dir_b8cffeb19aff853b8801b5d330607df8.html">micro</a></li><li class="navelem"><a class="el" href="dir_b6c0238bf43bfd1d4dcb41e0547317f7.html">kernels</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="headertitle"><div class="title">lstm_eval.h</div></div>
</div><!--header-->
<div class="contents">
<a href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2tensorflow_2lite_2micro_2kernels_2lstm__eval_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">/* Copyright 2023 The TensorFlow Authors. All Rights Reserved.</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment"></span> </div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment">you may not use this file except in compliance with the License.</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment">You may obtain a copy of the License at</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment"></span> </div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment">    http://www.apache.org/licenses/LICENSE-2.0</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment"></span> </div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment">Unless required by applicable law or agreed to in writing, software</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment">distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment">WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment">See the License for the specific language governing permissions and</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment">limitations under the License.</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="comment">==============================================================================*/</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span> </div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="comment">// Functions to perform integer evaulation for standard LSTM (e.g., defined in</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="comment">// the keras lstm layer, no peephole etc.). Currently used by the 16 bits</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="comment">// activation case only</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span> </div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#ifndef TENSORFLOW_LITE_MICRO_KERNELS_LSTM_EVAL_GENERAL_H_</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#define TENSORFLOW_LITE_MICRO_KERNELS_LSTM_EVAL_GENERAL_H_</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &lt;cstdint&gt;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span> </div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#include &quot;tensorflow/lite/c/builtin_op_data.h&quot;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#include &quot;tensorflow/lite/c/common.h&quot;</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#include &quot;tensorflow/lite/micro/kernels/kernel_util.h&quot;</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#include &quot;tensorflow/lite/micro/kernels/lstm_shared.h&quot;</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="preprocessor">#include &quot;tensorflow/lite/micro/micro_log.h&quot;</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span> </div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="keyword">namespace </span><a class="code hl_namespace" href="namespacetflite.html">tflite</a> {</div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span> </div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="comment">// Interface to access all the TempTfLiteTensors of the LSTM kernel during the</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="comment">// preparation phase. Can only be constructed through the constructor to avoid</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="comment">// memory leakage. All TempTfLiteTensors will be deallocated through the</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="comment">// destructor.</span></div>
<div class="foldopen" id="foldopen00037" data-start="{" data-end="};">
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno"><a class="line" href="classtflite_1_1_lstm_tensors.html">   37</a></span><span class="keyword">class </span>LstmTensors {</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span> <span class="keyword">public</span>:</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno"><a class="line" href="classtflite_1_1_lstm_tensors.html#ac3f884870a83ca81b0fc00f88134f99e">   39</a></span>  <a class="code hl_function" href="classtflite_1_1_lstm_tensors.html#ac3f884870a83ca81b0fc00f88134f99e">LstmTensors</a>(<span class="keyword">const</span> LstmTensors&amp; other) = <span class="keyword">delete</span>;</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno"><a class="line" href="classtflite_1_1_lstm_tensors.html#ae6fa8f0a074b05e81603d2584bb570f4">   40</a></span>  LstmTensors&amp; <a class="code hl_function" href="classtflite_1_1_lstm_tensors.html#ae6fa8f0a074b05e81603d2584bb570f4">operator=</a>(<span class="keyword">const</span> LstmTensors&amp; other) = <span class="keyword">delete</span>;</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span> </div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>  LstmTensors(<a class="code hl_struct" href="struct_tf_lite_context.html">TfLiteContext</a>* context, <a class="code hl_struct" href="struct_tf_lite_node.html">TfLiteNode</a>* node);</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>  ~LstmTensors();</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span> </div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>  <span class="comment">// Verify the LSTM internal tensor properties (e.g., type checks)</span></div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>  <span class="comment">// Input/output/states/fc weights tensors are required for kernel evaulation.</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>  <span class="comment">// The state tensors should be variables. Variants of the standard LSTM</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>  <span class="comment">// are not supported here, therefore their corresponding tensors should be</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>  <span class="comment">// invalid</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>  <a class="code hl_enumeration" href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2srcf7df9e575f8a1f1a49c58fb0f49428b8.html#acf79d2fb5fa520303014d1303f1f6361">TfLiteStatus</a> <a class="code hl_function" href="classtflite_1_1_lstm_tensors.html#a962e04e9be827aecb98e015f31619158">ValidateTensorStatus</a>(<a class="code hl_struct" href="struct_tf_lite_context.html">TfLiteContext</a>* context) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span> </div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>  <span class="comment">// Internal tensors. see lstm_shared.h for tensor names</span></div>
<div class="foldopen" id="foldopen00053" data-start="{" data-end="}">
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno"><a class="line" href="classtflite_1_1_lstm_tensors.html#ae48b01aaabc171df9075abbd355530b7">   53</a></span>  <span class="keyword">const</span> <a class="code hl_struct" href="struct_tf_lite_tensor.html">TfLiteTensor</a>* <a class="code hl_function" href="classtflite_1_1_lstm_tensors.html#ae48b01aaabc171df9075abbd355530b7">GetInternalTensor</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> tensor_index)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classtflite_1_1_lstm_tensors.html#a614c9733a3fe06ee997cb07ce9b3b34c">internal_tensors_</a>[tensor_index];</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>  }</div>
</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span> </div>
<div class="foldopen" id="foldopen00057" data-start="{" data-end="}">
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno"><a class="line" href="classtflite_1_1_lstm_tensors.html#a41d5e327d2e7f3a291e9ca3667c4a847">   57</a></span>  <span class="keyword">const</span> <a class="code hl_struct" href="struct_tf_lite_tensor.html">TfLiteTensor</a>* <a class="code hl_function" href="classtflite_1_1_lstm_tensors.html#a41d5e327d2e7f3a291e9ca3667c4a847">HiddenStateTensor</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classtflite_1_1_lstm_tensors.html#a614c9733a3fe06ee997cb07ce9b3b34c">internal_tensors_</a>[<a class="code hl_variable" href="namespacetflite.html#aae0ff0c18408d6ef583741da24e612e4">kLstmOutputStateTensor</a>];</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>  }</div>
</div>
<div class="foldopen" id="foldopen00060" data-start="{" data-end="}">
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno"><a class="line" href="classtflite_1_1_lstm_tensors.html#a72b60b12289c341bdc69cca99d3c1f3a">   60</a></span>  <span class="keyword">const</span> <a class="code hl_struct" href="struct_tf_lite_tensor.html">TfLiteTensor</a>* <a class="code hl_function" href="classtflite_1_1_lstm_tensors.html#a72b60b12289c341bdc69cca99d3c1f3a">CellStateTensor</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classtflite_1_1_lstm_tensors.html#a614c9733a3fe06ee997cb07ce9b3b34c">internal_tensors_</a>[<a class="code hl_variable" href="namespacetflite.html#a7068c4580fa7e971c41c9f1c60b978d5">kLstmCellStateTensor</a>];</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>  }</div>
</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno"><a class="line" href="classtflite_1_1_lstm_tensors.html#ad108914736835df314a8da88d8ffb0dd">   63</a></span>  <span class="keyword">const</span> <a class="code hl_struct" href="struct_tf_lite_tensor.html">TfLiteTensor</a>* <a class="code hl_function" href="classtflite_1_1_lstm_tensors.html#ad108914736835df314a8da88d8ffb0dd">OutputTensor</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classtflite_1_1_lstm_tensors.html#af95bb693a1f3a39ed2ec1d8762be66b4">output_tensor_</a>; }</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span> </div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span> <span class="keyword">private</span>:</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>  <span class="comment">// see lstm_shared.h for tensor names</span></div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno"><a class="line" href="classtflite_1_1_lstm_tensors.html#a76bff63d8bd663b9313a8d67981967cb">   67</a></span>  <a class="code hl_class" href="classtflite_1_1_micro_context.html">MicroContext</a>* <a class="code hl_variable" href="classtflite_1_1_lstm_tensors.html#a76bff63d8bd663b9313a8d67981967cb">micro_context_</a>;</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno"><a class="line" href="classtflite_1_1_lstm_tensors.html#a614c9733a3fe06ee997cb07ce9b3b34c">   68</a></span>  <a class="code hl_struct" href="struct_tf_lite_tensor.html">TfLiteTensor</a>* <a class="code hl_variable" href="classtflite_1_1_lstm_tensors.html#a614c9733a3fe06ee997cb07ce9b3b34c">internal_tensors_</a>[24];</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno"><a class="line" href="classtflite_1_1_lstm_tensors.html#af95bb693a1f3a39ed2ec1d8762be66b4">   69</a></span>  <a class="code hl_struct" href="struct_tf_lite_tensor.html">TfLiteTensor</a>* <a class="code hl_variable" href="classtflite_1_1_lstm_tensors.html#af95bb693a1f3a39ed2ec1d8762be66b4">output_tensor_</a>;</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>};</div>
</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span> </div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span><span class="comment">// Deduce the size information (Batch (B), Time Steps (T), Input dimension (I),</span></div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span><span class="comment">// State dimension (S)) that defines the LSTM using the input and hidden state</span></div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span><span class="comment">// tensor</span></div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span><a class="code hl_struct" href="structtflite_1_1_lstm_size_info.html">LstmSizeInfo</a> <a class="code hl_function" href="namespacetflite.html#aebfb366f3bf5db7f0284e0c112ee178a">CreateLstmSizeInfo</a>(</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> time_major, <span class="keyword">const</span> <a class="code hl_struct" href="struct_tf_lite_int_array.html">TfLiteIntArray</a>* input_tensor_shape,</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>    <span class="keyword">const</span> <a class="code hl_struct" href="struct_tf_lite_int_array.html">TfLiteIntArray</a>* hidden_state_tensor_shape);</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span> </div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span><a class="code hl_enumeration" href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2srcf7df9e575f8a1f1a49c58fb0f49428b8.html#acf79d2fb5fa520303014d1303f1f6361">TfLiteStatus</a> <a class="code hl_function" href="namespacetflite.html#a35d4b5184fd9a45639dfafedb8ba4d6e">ValidateWeightTensorSize</a>(<a class="code hl_struct" href="struct_tf_lite_context.html">TfLiteContext</a>* context,</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>                                      <span class="keyword">const</span> <a class="code hl_struct" href="struct_tf_lite_tensor.html">TfLiteTensor</a>* <a class="code hl_namespace" href="namespacetensor.html">tensor</a>, <span class="keywordtype">int</span> dim1_size,</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>                                      <span class="keywordtype">int</span> dim2_size);</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span> </div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span><a class="code hl_enumeration" href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2srcf7df9e575f8a1f1a49c58fb0f49428b8.html#acf79d2fb5fa520303014d1303f1f6361">TfLiteStatus</a> <a class="code hl_function" href="namespacetflite.html#a5d1f16ee8005910bfbe35e20b69ada0d">ValidateBiasTensorSize</a>(<a class="code hl_struct" href="struct_tf_lite_context.html">TfLiteContext</a>* context,</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>                                    <span class="keyword">const</span> <a class="code hl_struct" href="struct_tf_lite_tensor.html">TfLiteTensor</a>* <a class="code hl_namespace" href="namespacetensor.html">tensor</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="hello__world__model_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>);</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span> </div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span><span class="comment">// Go through every tensors and make sure their shape match the kernel</span></div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span><span class="comment">// configuration</span></div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span><a class="code hl_enumeration" href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2srcf7df9e575f8a1f1a49c58fb0f49428b8.html#acf79d2fb5fa520303014d1303f1f6361">TfLiteStatus</a> <a class="code hl_function" href="namespacetflite.html#a5f867b643a7704e8861ff4b39c170a5e">ValidateTensorSize</a>(<a class="code hl_struct" href="struct_tf_lite_context.html">TfLiteContext</a>* context,</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>                                <span class="keyword">const</span> LstmTensors&amp; tensors,</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>                                <span class="keyword">const</span> <a class="code hl_struct" href="structtflite_1_1_lstm_size_info.html">LstmSizeInfo</a>&amp; size_info);</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span> </div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span><span class="comment">// Wrapper function to create gate parameters for the four internal LSTM gates</span></div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno"><a class="line" href="namespacetflite.html#a543b95f6d582d7fb3f372b0450fc04f5">   93</a></span><a class="code hl_enumeration" href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2srcf7df9e575f8a1f1a49c58fb0f49428b8.html#acf79d2fb5fa520303014d1303f1f6361">TfLiteStatus</a> <a class="code hl_function" href="namespacetflite.html#a543b95f6d582d7fb3f372b0450fc04f5">CreateGateParams</a>(</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>    <a class="code hl_struct" href="struct_tf_lite_context.html">TfLiteContext</a>* context,</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>    <span class="comment">/*Input tensors*/</span></div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>    <span class="keyword">const</span> <a class="code hl_struct" href="struct_tf_lite_tensor.html">TfLiteTensor</a>* <a class="code hl_variable" href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2src5afb18c45f6346167aa977a363205143.html#a9cebfb3d6ddd692fbdd268cf4b9ad024">input</a>, <span class="keyword">const</span> <a class="code hl_struct" href="struct_tf_lite_tensor.html">TfLiteTensor</a>* input_weight,</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>    <span class="keyword">const</span> <a class="code hl_struct" href="struct_tf_lite_tensor.html">TfLiteTensor</a>* input_bias,</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>    <span class="comment">/*Hidden state tensors*/</span></div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>    <span class="keyword">const</span> <a class="code hl_struct" href="struct_tf_lite_tensor.html">TfLiteTensor</a>* hidden_state, <span class="keyword">const</span> <a class="code hl_struct" href="struct_tf_lite_tensor.html">TfLiteTensor</a>* hidden_state_weight,</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>    <span class="keyword">const</span> <a class="code hl_struct" href="struct_tf_lite_tensor.html">TfLiteTensor</a>* hidden_state_bias,</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>    <span class="comment">/*Scale of the fc output (input to non-linear activation)*/</span></div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> nonlinear_activation_input_scale, <span class="keyword">const</span> <a class="code hl_enumeration" href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2srcf7df9e575f8a1f1a49c58fb0f49428b8.html#a8a47ba81bdef28b5c479ee7928a7d123">TfLiteType</a> cell_type,</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtflite_1_1_gate_parameters.html">tflite::GateParameters</a>&amp; gate_params);</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span> </div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span><span class="comment">// Create parameters for element wise multiplication that happens in a) cell</span></div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span><span class="comment">// state update ; b) hidden state update</span></div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span><span class="comment">// Note that all the output of gates are symmetrically quantized so only scales</span></div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span><span class="comment">// are required for input. However, during the hidden state update phase, the</span></div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span><span class="comment">// output is the updated hidden state, which is asymmetrically quantized. Thus</span></div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span><span class="comment">// output may require zero point</span></div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span><a class="code hl_struct" href="structtflite_1_1_arithmetic_params.html">tflite::ArithmeticParams</a> <a class="code hl_function" href="namespacetflite.html#a265df358624795b03961403933f6d100">CreateInterGateMulParams</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> input1_scale,</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>                                                  <span class="keyword">const</span> <span class="keywordtype">float</span> input2_scale,</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>                                                  <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code hl_variable" href="micro_2kernels_2filter__bank__log_8cc.html#aad7699ab55cc1f497d8d2861fd2d0dd2">output_scale</a>,</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>                                                  <span class="keyword">const</span> <a class="code hl_enumeration" href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2srcf7df9e575f8a1f1a49c58fb0f49428b8.html#a8a47ba81bdef28b5c479ee7928a7d123">TfLiteType</a> output_type,</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>                                                  <span class="keyword">const</span> <span class="keywordtype">int</span> output_zp = 0);</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span> </div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span><span class="comment">// Create the additional information about the cell state, which include:</span></div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span><span class="comment">// cell_state_scale_power: used in integer nonlinear function (e.g., tanh)</span></div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span><span class="comment">// quantized_cell_clip: quantized cell clip range</span></div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span><a class="code hl_struct" href="structtflite_1_1_cell_state_info.html">CellStateInfo</a> <a class="code hl_function" href="namespacetflite.html#a9e52539d8a6b8bd120245885b4285faa">CreateLstmCellStateInfo</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> cell_state_scale,</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>                                      <span class="keyword">const</span> <span class="keywordtype">float</span> cell_clip);</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span> </div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span><a class="code hl_struct" href="structtflite_1_1_cell_state_info.html">CellStateInfo</a> <a class="code hl_function" href="namespacetflite.html#a62d7cbfbd9d5aa64aef5034443798de8">CreateLstmCellStateInfoFloat</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> cell_clip);</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span><a class="code hl_struct" href="structtflite_1_1_fully_connected_params.html">tflite::FullyConnectedParams</a> <a class="code hl_function" href="namespacetflite.html#ab6c98c91bcf5e781bc38e806d2d86ef7">CreateFCParamsFloat</a>();</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span> </div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span><a class="code hl_struct" href="structtflite_1_1_gate_parameters.html">tflite::GateParameters</a> <a class="code hl_function" href="namespacetflite.html#a7b11c0f10ecca41dd21697593b6e7b66">CreateGateParamsFloat</a>();</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span> </div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span><a class="code hl_struct" href="structtflite_1_1_arithmetic_params.html">tflite::ArithmeticParams</a> <a class="code hl_function" href="namespacetflite.html#a8ebdb8c76cc20ddd29c2d6b9944e5fbe">CreateInterGateMulParamsFloat</a>();</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span> </div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span><a class="code hl_enumeration" href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2srcf7df9e575f8a1f1a49c58fb0f49428b8.html#acf79d2fb5fa520303014d1303f1f6361">TfLiteStatus</a> <a class="code hl_function" href="namespacetflite.html#a00555a9f4a6723557e3f2765ec4380fd">PrepareGateParametersFloat</a>(<a class="code hl_struct" href="struct_tf_lite_context.html">TfLiteContext</a>* context,</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>                                        <span class="keyword">const</span> LstmTensors&amp; lstm_tensors,</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>                                        <a class="code hl_struct" href="structtflite_1_1_op_data_l_s_t_m.html">OpDataLSTM</a>* op_data_lstm);</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span> </div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span><a class="code hl_enumeration" href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2srcf7df9e575f8a1f1a49c58fb0f49428b8.html#acf79d2fb5fa520303014d1303f1f6361">TfLiteStatus</a> <a class="code hl_function" href="namespacetflite.html#a2f5876476a2cf63840ad092a15ebae7b">PrepareGateParametersInteger</a>(<a class="code hl_struct" href="struct_tf_lite_context.html">TfLiteContext</a>* context,</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>                                          <span class="keyword">const</span> LstmTensors&amp; lstm_tensors,</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>                                          <a class="code hl_struct" href="structtflite_1_1_op_data_l_s_t_m.html">OpDataLSTM</a>* op_data_lstm);</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span> </div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span><a class="code hl_struct" href="structtflite_1_1_l_s_t_m_kernel_contents.html">LSTMKernelContents</a> <a class="code hl_function" href="namespacetflite.html#a89814271b442c561e088bf235e545e50">CreateLSTMKernelContent</a>(<a class="code hl_struct" href="struct_tf_lite_context.html">TfLiteContext</a>* context,</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>                                           <a class="code hl_struct" href="struct_tf_lite_node.html">TfLiteNode</a>* node);</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span> </div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> CellType&gt;</div>
<div class="foldopen" id="foldopen00142" data-start="{" data-end="}">
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno"><a class="line" href="namespacetflite.html#a98e45f92f0c85d0e4b518cbb57e417f3">  142</a></span><a class="code hl_struct" href="structtflite_1_1_l_s_t_m_buffers.html">LSTMBuffers&lt;CellType&gt;</a> <a class="code hl_function" href="namespacetflite.html#a98e45f92f0c85d0e4b518cbb57e417f3">CreateLSTMBuffers</a>(<a class="code hl_struct" href="struct_tf_lite_context.html">TfLiteContext</a>* context,</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>                                        <span class="keyword">const</span> <span class="keywordtype">int</span>* buffer_indices) {</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>  <a class="code hl_struct" href="structtflite_1_1_l_s_t_m_buffers.html">LSTMBuffers&lt;CellType&gt;</a> buffers;</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>  buffers.<a class="code hl_variable" href="structtflite_1_1_l_s_t_m_buffers.html#a4d9144196d473e154c3f662e038a9dc9">buffer0</a> = <span class="keyword">reinterpret_cast&lt;</span>CellType*<span class="keyword">&gt;</span>(</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>      context-&gt;<a class="code hl_variable" href="struct_tf_lite_context.html#a79a5ae043ca55b703fe6f4cf8c571217">GetScratchBuffer</a>(context, buffer_indices[0]));</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>  buffers.<a class="code hl_variable" href="structtflite_1_1_l_s_t_m_buffers.html#a4ba62782cd42abef526312a4f23585bf">buffer1</a> = <span class="keyword">reinterpret_cast&lt;</span>CellType*<span class="keyword">&gt;</span>(</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>      context-&gt;<a class="code hl_variable" href="struct_tf_lite_context.html#a79a5ae043ca55b703fe6f4cf8c571217">GetScratchBuffer</a>(context, buffer_indices[1]));</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>  buffers.<a class="code hl_variable" href="structtflite_1_1_l_s_t_m_buffers.html#a5d4eee348dc5cd04c28c62d6fc955e2f">buffer2</a> = <span class="keyword">reinterpret_cast&lt;</span>CellType*<span class="keyword">&gt;</span>(</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>      context-&gt;<a class="code hl_variable" href="struct_tf_lite_context.html#a79a5ae043ca55b703fe6f4cf8c571217">GetScratchBuffer</a>(context, buffer_indices[2]));</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>  buffers.<a class="code hl_variable" href="structtflite_1_1_l_s_t_m_buffers.html#a7a80066ceb619414b3c518d45e164b6c">buffer3</a> = <span class="keyword">reinterpret_cast&lt;</span>CellType*<span class="keyword">&gt;</span>(</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>      context-&gt;<a class="code hl_variable" href="struct_tf_lite_context.html#a79a5ae043ca55b703fe6f4cf8c571217">GetScratchBuffer</a>(context, buffer_indices[3]));</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>  <span class="keywordflow">return</span> buffers;</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>}</div>
</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span> </div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span><span class="comment">// Since LSTM includes multiple intermediate stages, introducing the internal</span></div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span><span class="comment">// namespace to expose them for testing</span></div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span><span class="keyword">namespace </span>lstm_internal {</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span> </div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacetflite_1_1lstm__internal.html#a2ab5b518daf335bf4b9a64d454f28b77">Sigmoid</a>(<span class="keyword">const</span> RuntimeShape&amp; data_shape, int16_t* <a class="code hl_variable" href="hello__world__model_8cc.html#ab2a9259b73b53c0bb06a6b242aa7ae32">data</a>);</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span> </div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacetflite_1_1lstm__internal.html#a2ab5b518daf335bf4b9a64d454f28b77">Sigmoid</a>(<span class="keyword">const</span> RuntimeShape&amp; data_shape, <span class="keywordtype">float</span>* <a class="code hl_variable" href="hello__world__model_8cc.html#ab2a9259b73b53c0bb06a6b242aa7ae32">data</a>);</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span> </div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacetflite_1_1lstm__internal.html#a8fbb23414ca480074319492882242bf3">Tanh</a>(int32_t cell_state_scale_power, <span class="keyword">const</span> RuntimeShape&amp; input_data_shape,</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>          int16_t* <a class="code hl_variable" href="add__n__test_8cc.html#a5612ba79d1f0b544c7aeae4621166fea">input_data</a>, <span class="keyword">const</span> RuntimeShape&amp; output_data_shape,</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>          int16_t* <a class="code hl_variable" href="add__n__test_8cc.html#a3305b43869c4b837b0a33c12cff5069b">output_data</a>);</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span> </div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacetflite_1_1lstm__internal.html#a8fbb23414ca480074319492882242bf3">Tanh</a>(int32_t cell_state_scale_power, <span class="keyword">const</span> RuntimeShape&amp; input_data_shape,</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>          <span class="keywordtype">float</span>* <a class="code hl_variable" href="add__n__test_8cc.html#a5612ba79d1f0b544c7aeae4621166fea">input_data</a>, <span class="keyword">const</span> RuntimeShape&amp; output_data_shape,</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>          <span class="keywordtype">float</span>* <a class="code hl_variable" href="add__n__test_8cc.html#a3305b43869c4b837b0a33c12cff5069b">output_data</a>);</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span> </div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacetflite_1_1lstm__internal.html#a0830563b6c438d7d5951324edaef9910">Mul</a>(<span class="keyword">const</span> RuntimeShape&amp; shape, <span class="keyword">const</span> ArithmeticParams&amp; <a class="code hl_variable" href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2src4cbee0bfdfed30e8771023cedb1bab0d.html#a434686eb00eea897154eb5c3f9364ef7">params</a>,</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>         <span class="keyword">const</span> int16_t* <a class="code hl_variable" href="div__test_8cc.html#aaa3dc5d0e541e598f33e079b201185f9">input1_data</a>, <span class="keyword">const</span> int16_t* <a class="code hl_variable" href="div__test_8cc.html#a70b003e7ad90ac4daa3f400c2a022d50">input2_data</a>,</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>         int8_t* <a class="code hl_variable" href="add__n__test_8cc.html#a3305b43869c4b837b0a33c12cff5069b">output_data</a>);</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span> </div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacetflite_1_1lstm__internal.html#a0830563b6c438d7d5951324edaef9910">Mul</a>(<span class="keyword">const</span> RuntimeShape&amp; shape, <span class="keyword">const</span> ArithmeticParams&amp; <a class="code hl_variable" href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2src4cbee0bfdfed30e8771023cedb1bab0d.html#a434686eb00eea897154eb5c3f9364ef7">params</a>,</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>         <span class="keyword">const</span> int16_t* <a class="code hl_variable" href="div__test_8cc.html#aaa3dc5d0e541e598f33e079b201185f9">input1_data</a>, <span class="keyword">const</span> int16_t* <a class="code hl_variable" href="div__test_8cc.html#a70b003e7ad90ac4daa3f400c2a022d50">input2_data</a>,</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>         int16_t* <a class="code hl_variable" href="add__n__test_8cc.html#a3305b43869c4b837b0a33c12cff5069b">output_data</a>);</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span> </div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacetflite_1_1lstm__internal.html#a0830563b6c438d7d5951324edaef9910">Mul</a>(<span class="keyword">const</span> RuntimeShape&amp; shape, <span class="keyword">const</span> ArithmeticParams&amp; <a class="code hl_variable" href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2src4cbee0bfdfed30e8771023cedb1bab0d.html#a434686eb00eea897154eb5c3f9364ef7">params</a>,</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>         <span class="keyword">const</span> <span class="keywordtype">float</span>* <a class="code hl_variable" href="div__test_8cc.html#aaa3dc5d0e541e598f33e079b201185f9">input1_data</a>, <span class="keyword">const</span> <span class="keywordtype">float</span>* <a class="code hl_variable" href="div__test_8cc.html#a70b003e7ad90ac4daa3f400c2a022d50">input2_data</a>,</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>         <span class="keywordtype">float</span>* <a class="code hl_variable" href="add__n__test_8cc.html#a3305b43869c4b837b0a33c12cff5069b">output_data</a>);</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span> </div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacetflite_1_1lstm__internal.html#a40804f45071c0d614c8aa91f5a223508">FullyConnected</a>(<span class="keyword">const</span> FullyConnectedParams&amp; <a class="code hl_variable" href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2src4cbee0bfdfed30e8771023cedb1bab0d.html#a434686eb00eea897154eb5c3f9364ef7">params</a>,</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>                    <span class="keyword">const</span> RuntimeShape&amp; <a class="code hl_variable" href="akida_8h.html#a0792621910eb31f95019ddc94eb3dece">input_shape</a>, <span class="keyword">const</span> int8_t* <a class="code hl_variable" href="add__n__test_8cc.html#a5612ba79d1f0b544c7aeae4621166fea">input_data</a>,</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>                    <span class="keyword">const</span> RuntimeShape&amp; filter_shape, <span class="keyword">const</span> int8_t* filter_data,</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>                    <span class="keyword">const</span> RuntimeShape&amp; bias_shape, <span class="keyword">const</span> int32_t* bias_data,</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>                    <span class="keyword">const</span> RuntimeShape&amp; output_shape, int16_t* <a class="code hl_variable" href="add__n__test_8cc.html#a3305b43869c4b837b0a33c12cff5069b">output_data</a>);</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span> </div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacetflite_1_1lstm__internal.html#a40804f45071c0d614c8aa91f5a223508">FullyConnected</a>(<span class="keyword">const</span> FullyConnectedParams&amp; <a class="code hl_variable" href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2src4cbee0bfdfed30e8771023cedb1bab0d.html#a434686eb00eea897154eb5c3f9364ef7">params</a>,</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>                    <span class="keyword">const</span> RuntimeShape&amp; <a class="code hl_variable" href="akida_8h.html#a0792621910eb31f95019ddc94eb3dece">input_shape</a>, <span class="keyword">const</span> int16_t* <a class="code hl_variable" href="add__n__test_8cc.html#a5612ba79d1f0b544c7aeae4621166fea">input_data</a>,</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>                    <span class="keyword">const</span> RuntimeShape&amp; filter_shape, <span class="keyword">const</span> int8_t* filter_data,</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>                    <span class="keyword">const</span> RuntimeShape&amp; bias_shape, <span class="keyword">const</span> int64_t* bias_data,</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>                    <span class="keyword">const</span> RuntimeShape&amp; output_shape, int16_t* <a class="code hl_variable" href="add__n__test_8cc.html#a3305b43869c4b837b0a33c12cff5069b">output_data</a>);</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span> </div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacetflite_1_1lstm__internal.html#a40804f45071c0d614c8aa91f5a223508">FullyConnected</a>(<span class="keyword">const</span> FullyConnectedParams&amp; <a class="code hl_variable" href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2src4cbee0bfdfed30e8771023cedb1bab0d.html#a434686eb00eea897154eb5c3f9364ef7">params</a>,</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>                    <span class="keyword">const</span> RuntimeShape&amp; <a class="code hl_variable" href="akida_8h.html#a0792621910eb31f95019ddc94eb3dece">input_shape</a>, <span class="keyword">const</span> <span class="keywordtype">float</span>* <a class="code hl_variable" href="add__n__test_8cc.html#a5612ba79d1f0b544c7aeae4621166fea">input_data</a>,</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>                    <span class="keyword">const</span> RuntimeShape&amp; filter_shape, <span class="keyword">const</span> <span class="keywordtype">float</span>* filter_data,</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>                    <span class="keyword">const</span> RuntimeShape&amp; bias_shape, <span class="keyword">const</span> <span class="keywordtype">float</span>* bias_data,</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>                    <span class="keyword">const</span> RuntimeShape&amp; output_shape, <span class="keywordtype">float</span>* <a class="code hl_variable" href="add__n__test_8cc.html#a3305b43869c4b837b0a33c12cff5069b">output_data</a>);</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span> </div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacetflite_1_1lstm__internal.html#a389edc4b1c9bd4c32ef107ae22cc6627">AddElementWise</a>(<span class="keyword">const</span> int16_t* input_1, <span class="keyword">const</span> int16_t* input_2, <span class="keywordtype">int</span> n_batch,</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>                    <span class="keywordtype">int</span> n_input, int16_t* <a class="code hl_variable" href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2srcbcd3bbe90c4644d53fde1ce4e312f437.html#a7a2a916a8059078c2d7a05f46c7126fd">output</a>);</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span> </div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacetflite_1_1lstm__internal.html#a389edc4b1c9bd4c32ef107ae22cc6627">AddElementWise</a>(<span class="keyword">const</span> <span class="keywordtype">float</span>* input_1, <span class="keyword">const</span> <span class="keywordtype">float</span>* input_2, <span class="keywordtype">int</span> n_batch,</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>                    <span class="keywordtype">int</span> n_input, <span class="keywordtype">float</span>* <a class="code hl_variable" href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2srcbcd3bbe90c4644d53fde1ce4e312f437.html#a7a2a916a8059078c2d7a05f46c7126fd">output</a>);</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span> </div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacetflite_1_1lstm__internal.html#a774c4ad3bc70673b78e206cafcab2311">Clipping</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> v_size, <span class="keyword">const</span> CellStateInfo&amp; cell_state_info,</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>              int16_t* vector);</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span> </div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacetflite_1_1lstm__internal.html#a774c4ad3bc70673b78e206cafcab2311">Clipping</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> v_size, <span class="keyword">const</span> CellStateInfo&amp; cell_state_info,</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>              <span class="keywordtype">float</span>* vector);</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span> </div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span><span class="comment">// Manages the slice position (offset), slice length (sliced tensor shape),</span></div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span><span class="comment">// and update rules for input/output/hidden state/cell state tensors at each</span></div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span><span class="comment">// time step.</span></div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span><span class="keyword">class </span>LstmStepManager {</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span> <span class="keyword">public</span>:</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno"><a class="line" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#ad05cd13445fb46fb82914ba52a1a2650">  219</a></span>  <a class="code hl_function" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#ad05cd13445fb46fb82914ba52a1a2650">LstmStepManager</a>() = <span class="keyword">delete</span>;</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>  <span class="comment">// Does not take any ownership, and all pointers must refer to valid objects</span></div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>  <span class="comment">// that outlive the one constructed.</span></div>
<div class="foldopen" id="foldopen00222" data-start="{" data-end="}">
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno"><a class="line" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#a506c981d50ecd7d6a28238e9deefa611">  222</a></span>  <span class="keyword">explicit</span> <a class="code hl_function" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#a506c981d50ecd7d6a28238e9deefa611">LstmStepManager</a>(<span class="keyword">const</span> <a class="code hl_struct" href="structtflite_1_1_lstm_size_info.html">LstmSizeInfo</a>* size_info)</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>      : <a class="code hl_variable" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#ab1bc7c8ba2b4726bab9d93160ce8aa8e">size_info_</a>(*size_info) {}</div>
</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span> </div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno"><a class="line" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#aab817304266cafc306951f3b80742891">  225</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#aab817304266cafc306951f3b80742891">UpdateTime</a>();</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno"><a class="line" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#a31fc36486a01a153abe8d26f7470bd4f">  226</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#a31fc36486a01a153abe8d26f7470bd4f">UpdateBatch</a>();</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span> </div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno"><a class="line" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#add4d1f0c1be11645e50e36731df28039">  228</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#add4d1f0c1be11645e50e36731df28039">ResetTime</a>() { <a class="code hl_variable" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#a76d0322d2708ffd7726377efac1dea5c">current_time_</a> = 0; }</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno"><a class="line" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#ab4414f8f24ad580a8a575745c3918680">  229</a></span>  <a class="code hl_class" href="classtflite_1_1_runtime_shape.html">RuntimeShape</a> <a class="code hl_function" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#ab4414f8f24ad580a8a575745c3918680">InputShape</a>() <span class="keyword">const</span>;</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno"><a class="line" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#ac1f3f91e4f217341497c122a6435458c">  230</a></span>  <a class="code hl_class" href="classtflite_1_1_runtime_shape.html">RuntimeShape</a> <a class="code hl_function" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#ac1f3f91e4f217341497c122a6435458c">StateShape</a>() <span class="keyword">const</span>;</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span> </div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno"><a class="line" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#ac3fe9ec3ca348d54a50d9b5ea568393b">  232</a></span>  <span class="keywordtype">int</span> <a class="code hl_function" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#ac3fe9ec3ca348d54a50d9b5ea568393b">InputOffset</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#ad1713d1145bfaa8433470cce9c70c153">input_offset_</a>; }</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno"><a class="line" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#ac768554134a80611df0af319c2580d59">  233</a></span>  <span class="keywordtype">int</span> <a class="code hl_function" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#ac768554134a80611df0af319c2580d59">OutputOffset</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#af6269a2d2c0fd797381aa142c707ca07">output_offset_</a>; }</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno"><a class="line" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#ad365550d4fdab0eb5a01b5f6c606cf7d">  234</a></span>  <span class="keywordtype">int</span> <a class="code hl_function" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#ad365550d4fdab0eb5a01b5f6c606cf7d">HiddenStateOffset</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#acf58a666f9b99548766087738fe258f3">hidden_state_offset_</a>; }</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno"><a class="line" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#ad15087baea46dd019cd69450c5851832">  235</a></span>  <span class="keywordtype">int</span> <a class="code hl_function" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#ad15087baea46dd019cd69450c5851832">CellStateOffset</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#ae66a02519386ed2dc4d08c44ea0d0f75">cell_state_offset_</a>; }</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span> </div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span> <span class="keyword">private</span>:</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#a76d0322d2708ffd7726377efac1dea5c">current_time_</a> = 0;</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#a352b41f76db8eaac5205276c054cb6ab">current_batch_</a> = 0;</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#ad1713d1145bfaa8433470cce9c70c153">input_offset_</a> = 0;</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#af6269a2d2c0fd797381aa142c707ca07">output_offset_</a> = 0;</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#acf58a666f9b99548766087738fe258f3">hidden_state_offset_</a> = 0;</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#ae66a02519386ed2dc4d08c44ea0d0f75">cell_state_offset_</a> = 0;</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>  <span class="comment">// Sizeinfo is from LstmOpData, which reside in the memory arena</span></div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>  <span class="comment">// (guarante to outlast LSTMStepManager, which reside in stack)</span></div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>  <span class="keyword">const</span> <a class="code hl_struct" href="structtflite_1_1_lstm_size_info.html">LstmSizeInfo</a>&amp; <a class="code hl_variable" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#ab1bc7c8ba2b4726bab9d93160ce8aa8e">size_info_</a>;</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>};</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span> </div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span><span class="comment">// Calculates a single LSTM gate.</span></div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span><span class="comment">// Implements the following formula:</span></div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span><span class="comment">//   gate = activate(FC(input) + FC(recurrent))</span></div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span><span class="comment">// Activation is sigmoid except for the &quot;cell&quot; gate (configurable, usually tanh)</span></div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> ActivationType, <span class="keyword">typename</span> WeightType, <span class="keyword">typename</span> CellType,</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>          <span class="keyword">typename</span> BiasType&gt;</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacetflite_1_1lstm__internal.html#a42929f9e8d019e307f936322363a2ed7">CalculateLstmGate</a>(</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>    <span class="keyword">const</span> LstmStepManager&amp; step_info, <span class="keyword">const</span> <a class="code hl_struct" href="structtflite_1_1_gate_parameters.html">GateParameters</a>&amp; gate_params,</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>    <span class="comment">// Input FC</span></div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>    <span class="keyword">const</span> <a class="code hl_struct" href="struct_tf_lite_eval_tensor.html">TfLiteEvalTensor</a>* <a class="code hl_variable" href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2src5afb18c45f6346167aa977a363205143.html#a9cebfb3d6ddd692fbdd268cf4b9ad024">input</a>, <span class="keyword">const</span> <a class="code hl_struct" href="struct_tf_lite_eval_tensor.html">TfLiteEvalTensor</a>* input_weight,</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>    <span class="keyword">const</span> <a class="code hl_struct" href="struct_tf_lite_eval_tensor.html">TfLiteEvalTensor</a>* input_bias,</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>    <span class="comment">// Recurrent FC</span></div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>    <span class="keyword">const</span> <a class="code hl_struct" href="struct_tf_lite_eval_tensor.html">TfLiteEvalTensor</a>* recurrent, <span class="keyword">const</span> <a class="code hl_struct" href="struct_tf_lite_eval_tensor.html">TfLiteEvalTensor</a>* recurrent_weight,</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>    <span class="keyword">const</span> <a class="code hl_struct" href="struct_tf_lite_eval_tensor.html">TfLiteEvalTensor</a>* recurrent_bias,</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>    <span class="comment">// Output</span></div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>    CellType* gate_output,</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>    <span class="comment">// Scratch arrays</span></div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>    CellType* fc_output_buffer, <span class="keyword">const</span> <a class="code hl_enumeration" href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2src7f67a4373e2a0d20daf1d1ff4e1f4339.html#acc9e377dbc009d68bbfa5480d2559565">TfLiteFusedActivation</a> <a class="code hl_variable" href="l2__pool__2d__test_8cc.html#a77ea056afd837c816867a0a9887131b6">activation</a>) {</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>  <span class="keyword">const</span> <span class="keyword">auto</span> gate_output_shape = step_info.StateShape();</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>  <span class="comment">// Check offset validity to avoid memory overflow</span></div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>  <a class="code hl_define" href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2src82599f02174ce2f1c2fd003f3eee8b73.html#a153a4c7bc866139ad88ebf7cb7f4c400">TFLITE_DCHECK_LE</a>(step_info.InputOffset() + step_info.InputShape().FlatSize(),</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>                   <a class="code hl_function" href="namespacetflite_1_1micro.html#ae8825f2d7a82d8f1c2194e05b929e1cb">tflite::micro::GetTensorShape</a>(<a class="code hl_variable" href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2src5afb18c45f6346167aa977a363205143.html#a9cebfb3d6ddd692fbdd268cf4b9ad024">input</a>).<a class="code hl_function" href="classtflite_1_1_runtime_shape.html#a73fb2c2df1c833850d88faf428c65630">FlatSize</a>());</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>  <a class="code hl_define" href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2src82599f02174ce2f1c2fd003f3eee8b73.html#a153a4c7bc866139ad88ebf7cb7f4c400">TFLITE_DCHECK_LE</a>(</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>      step_info.HiddenStateOffset() + step_info.StateShape().FlatSize(),</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>      <a class="code hl_function" href="namespacetflite_1_1micro.html#ae8825f2d7a82d8f1c2194e05b929e1cb">tflite::micro::GetTensorShape</a>(recurrent).<a class="code hl_function" href="classtflite_1_1_runtime_shape.html#a73fb2c2df1c833850d88faf428c65630">FlatSize</a>());</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span> </div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>  <span class="comment">// Input FC</span></div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>  <a class="code hl_function" href="namespacetflite_1_1lstm__internal.html#a40804f45071c0d614c8aa91f5a223508">FullyConnected</a>(gate_params.<a class="code hl_variable" href="structtflite_1_1_gate_parameters.html#aab65796622836af884d2f10c8924924d">input_fc_params</a>, step_info.InputShape(),</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>                 <a class="code hl_function" href="namespacetflite_1_1micro.html#a0e66bf95a19a5f5522df24cc23afc68f">tflite::micro::GetTensorData&lt;ActivationType&gt;</a>(<a class="code hl_variable" href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2src5afb18c45f6346167aa977a363205143.html#a9cebfb3d6ddd692fbdd268cf4b9ad024">input</a>) +</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>                     step_info.InputOffset(),</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>                 <a class="code hl_function" href="namespacetflite_1_1micro.html#ae8825f2d7a82d8f1c2194e05b929e1cb">micro::GetTensorShape</a>(input_weight),</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>                 <a class="code hl_function" href="namespacetflite_1_1micro.html#a0e66bf95a19a5f5522df24cc23afc68f">tflite::micro::GetTensorData&lt;WeightType&gt;</a>(input_weight),</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>                 <a class="code hl_function" href="namespacetflite_1_1micro.html#ae8825f2d7a82d8f1c2194e05b929e1cb">tflite::micro::GetTensorShape</a>(input_bias),</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>                 <a class="code hl_function" href="namespacetflite_1_1micro.html#a4e2b1594676312ed778976adc0f243ab">tflite::micro::GetOptionalTensorData&lt;BiasType&gt;</a>(input_bias),</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>                 gate_output_shape, gate_output);</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span> </div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>  <span class="comment">// Recurrent FC</span></div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>  <a class="code hl_function" href="namespacetflite_1_1lstm__internal.html#a40804f45071c0d614c8aa91f5a223508">FullyConnected</a>(gate_params.<a class="code hl_variable" href="structtflite_1_1_gate_parameters.html#ab86410c8768e1d39ae70b7cf87eca425">recurrent_fc_params</a>, step_info.StateShape(),</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>                 <a class="code hl_function" href="namespacetflite_1_1micro.html#a0e66bf95a19a5f5522df24cc23afc68f">tflite::micro::GetTensorData&lt;ActivationType&gt;</a>(recurrent) +</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>                     step_info.HiddenStateOffset(),</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>                 <a class="code hl_function" href="namespacetflite_1_1micro.html#ae8825f2d7a82d8f1c2194e05b929e1cb">tflite::micro::GetTensorShape</a>(recurrent_weight),</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>                 <a class="code hl_function" href="namespacetflite_1_1micro.html#a0e66bf95a19a5f5522df24cc23afc68f">tflite::micro::GetTensorData&lt;WeightType&gt;</a>(recurrent_weight),</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>                 <a class="code hl_function" href="namespacetflite_1_1micro.html#ae8825f2d7a82d8f1c2194e05b929e1cb">tflite::micro::GetTensorShape</a>(recurrent_bias),</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>                 <a class="code hl_function" href="namespacetflite_1_1micro.html#a4e2b1594676312ed778976adc0f243ab">tflite::micro::GetOptionalTensorData&lt;BiasType&gt;</a>(recurrent_bias),</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>                 gate_output_shape, fc_output_buffer);</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span> </div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>  <a class="code hl_function" href="namespacetflite_1_1lstm__internal.html#a389edc4b1c9bd4c32ef107ae22cc6627">AddElementWise</a>(gate_output, fc_output_buffer,</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>                 <span class="comment">/*n_batch=*/</span>gate_output_shape.DimsData()[0],</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>                 <span class="comment">/*n_state=*/</span>gate_output_shape.DimsData()[1], gate_output);</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>  <span class="comment">// Apply activation</span></div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>  <span class="keywordflow">switch</span> (<a class="code hl_variable" href="l2__pool__2d__test_8cc.html#a77ea056afd837c816867a0a9887131b6">activation</a>) {</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2src7f67a4373e2a0d20daf1d1ff4e1f4339.html#acc9e377dbc009d68bbfa5480d2559565ad6bc4e430896a61a0b2f789ba5e8d4ba">kTfLiteActSigmoid</a>:</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>      <a class="code hl_function" href="namespacetflite_1_1lstm__internal.html#a2ab5b518daf335bf4b9a64d454f28b77">Sigmoid</a>(gate_output_shape, gate_output);</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2src7f67a4373e2a0d20daf1d1ff4e1f4339.html#acc9e377dbc009d68bbfa5480d2559565a7e8b7d2496b796e132239ab5dea5835d">kTfLiteActTanh</a>: {</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>      <span class="comment">// Set the scale power to -12 to avoid shift</span></div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>      <a class="code hl_function" href="namespacetflite_1_1lstm__internal.html#a8fbb23414ca480074319492882242bf3">Tanh</a>(<span class="comment">/*cell_state_scale_power=*/</span>-12, gate_output_shape, gate_output,</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>           gate_output_shape, gate_output);</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>    } <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>      <span class="comment">// Only Sigmoid or Tanh is used.</span></div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>      <a class="code hl_define" href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2src42c086e4473e7d05e4bf9eb4ee8591b1.html#aa99af520330799bd4a06c056ec8f7113">TFLITE_ASSERT_FALSE</a>;</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>  }</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>}</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span> </div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span><span class="comment">// Update the cell state using the output from the forget gate, input gate, and</span></div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span><span class="comment">// cell gate Formula: updated_cell_state = forget_gate_output*cell_state +</span></div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span><span class="comment">// input_gate_output * cell_gate_output, where * denotes element wise</span></div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span><span class="comment">// multiplication</span></div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> CellType&gt;</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacetflite_1_1lstm__internal.html#acb42394e584f69ccf4fb07c30707b7c2">UpdateLstmCell</a>(<span class="keyword">const</span> LstmStepManager&amp; step_info,</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>                    <a class="code hl_struct" href="struct_tf_lite_eval_tensor.html">TfLiteEvalTensor</a>* cell_state,</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>                    <span class="comment">// Gate outputs</span></div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>                    CellType* forget_gate_output,</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>                    <span class="keyword">const</span> CellType* input_gate_output,</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>                    <span class="keyword">const</span> CellType* cell_gate_output,</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>                    <span class="comment">// Mul parameters</span></div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>                    <span class="keyword">const</span> ArithmeticParams&amp; forget_cell_mul_params,</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>                    <span class="keyword">const</span> ArithmeticParams&amp; input_mul_params,</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>                    <span class="keyword">const</span> CellStateInfo&amp; cell_state_info, CellType* <a class="code hl_variable" href="nano__ble33__sense__accelerometer__continuous_8ino.html#a221f01f29c6cba77d9479aba615283f5">buffer</a>) {</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>  <span class="comment">// Check offset validity to avoid memory overflow</span></div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>  <a class="code hl_define" href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2src82599f02174ce2f1c2fd003f3eee8b73.html#a153a4c7bc866139ad88ebf7cb7f4c400">TFLITE_DCHECK_LE</a>(</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>      step_info.CellStateOffset() + step_info.StateShape().FlatSize(),</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>      <a class="code hl_function" href="namespacetflite_1_1micro.html#ae8825f2d7a82d8f1c2194e05b929e1cb">tflite::micro::GetTensorShape</a>(cell_state).<a class="code hl_function" href="classtflite_1_1_runtime_shape.html#a73fb2c2df1c833850d88faf428c65630">FlatSize</a>());</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span> </div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>  <span class="keyword">auto</span> cell_state_shape = step_info.StateShape();</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>  <span class="comment">// Forget Gate x Cell State</span></div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>  <a class="code hl_function" href="namespacetflite_1_1lstm__internal.html#a0830563b6c438d7d5951324edaef9910">Mul</a>(cell_state_shape, forget_cell_mul_params, forget_gate_output,</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>      <a class="code hl_function" href="namespacetflite_1_1micro.html#a0e66bf95a19a5f5522df24cc23afc68f">tflite::micro::GetTensorData&lt;CellType&gt;</a>(cell_state) +</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>          step_info.CellStateOffset(),</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>      <a class="code hl_function" href="namespacetflite_1_1micro.html#a0e66bf95a19a5f5522df24cc23afc68f">tflite::micro::GetTensorData&lt;CellType&gt;</a>(cell_state) +</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>          step_info.CellStateOffset());</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>  <span class="comment">// Input Gate x Cell Gate</span></div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>  <a class="code hl_function" href="namespacetflite_1_1lstm__internal.html#a0830563b6c438d7d5951324edaef9910">Mul</a>(cell_state_shape, input_mul_params, input_gate_output, cell_gate_output,</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>      <a class="code hl_variable" href="nano__ble33__sense__accelerometer__continuous_8ino.html#a221f01f29c6cba77d9479aba615283f5">buffer</a>);</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span> </div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>  <span class="comment">// Update the cell state</span></div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>  <a class="code hl_function" href="namespacetflite_1_1lstm__internal.html#a389edc4b1c9bd4c32ef107ae22cc6627">AddElementWise</a>(<a class="code hl_function" href="namespacetflite_1_1micro.html#a0e66bf95a19a5f5522df24cc23afc68f">tflite::micro::GetTensorData&lt;CellType&gt;</a>(cell_state) +</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>                     step_info.CellStateOffset(),</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>                 <a class="code hl_variable" href="nano__ble33__sense__accelerometer__continuous_8ino.html#a221f01f29c6cba77d9479aba615283f5">buffer</a>,</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>                 <span class="comment">/*n_batch=*/</span>cell_state_shape.DimsData()[0],</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>                 <span class="comment">/*n_state=*/</span>cell_state_shape.DimsData()[1],</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>                 <a class="code hl_function" href="namespacetflite_1_1micro.html#a0e66bf95a19a5f5522df24cc23afc68f">tflite::micro::GetTensorData&lt;CellType&gt;</a>(cell_state) +</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>                     step_info.CellStateOffset());</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span> </div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>  <span class="keywordflow">if</span> (cell_state_info.cell_clip &gt; 0) {</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>    <a class="code hl_function" href="namespacetflite_1_1lstm__internal.html#a774c4ad3bc70673b78e206cafcab2311">Clipping</a>(cell_state_shape.FlatSize(), cell_state_info,</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>             <a class="code hl_function" href="namespacetflite_1_1micro.html#a0e66bf95a19a5f5522df24cc23afc68f">tflite::micro::GetTensorData&lt;CellType&gt;</a>(cell_state) +</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>                 step_info.CellStateOffset());</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>  }</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>}</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span> </div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span><span class="comment">// Update the hidden state of the LSTM kernel using the following formula:</span></div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span><span class="comment">// updated_hidden_state = Tanh(updated_cell_state) * output_gate_output, * means</span></div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span><span class="comment">// element wise multiplication</span></div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> CellType, <span class="keyword">typename</span> ActivationType&gt;</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacetflite_1_1lstm__internal.html#ab9e01015b847c8876960057591f8f3ae">UpdateLstmHidden</a>(<span class="keyword">const</span> LstmStepManager&amp; step_info,</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>                      <a class="code hl_struct" href="struct_tf_lite_eval_tensor.html">TfLiteEvalTensor</a>* cell_state,</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>                      <a class="code hl_struct" href="struct_tf_lite_eval_tensor.html">TfLiteEvalTensor</a>* hidden_state,</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>                      <span class="keyword">const</span> CellType* output_gate_output,</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>                      <span class="keyword">const</span> ArithmeticParams&amp; mul_params,</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>                      int32_t cell_state_scale_power, CellType* <a class="code hl_variable" href="nano__ble33__sense__accelerometer__continuous_8ino.html#a221f01f29c6cba77d9479aba615283f5">buffer</a>) {</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>  <span class="comment">// Check offset validity to avoid memory overflow</span></div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>  <a class="code hl_define" href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2src82599f02174ce2f1c2fd003f3eee8b73.html#a153a4c7bc866139ad88ebf7cb7f4c400">TFLITE_DCHECK_LE</a>(</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>      step_info.CellStateOffset() + step_info.StateShape().FlatSize(),</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>      <a class="code hl_function" href="namespacetflite_1_1micro.html#ae8825f2d7a82d8f1c2194e05b929e1cb">tflite::micro::GetTensorShape</a>(cell_state).<a class="code hl_function" href="classtflite_1_1_runtime_shape.html#a73fb2c2df1c833850d88faf428c65630">FlatSize</a>());</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>  <a class="code hl_define" href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2src82599f02174ce2f1c2fd003f3eee8b73.html#a153a4c7bc866139ad88ebf7cb7f4c400">TFLITE_DCHECK_LE</a>(</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>      step_info.HiddenStateOffset() + step_info.StateShape().FlatSize(),</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>      <a class="code hl_function" href="namespacetflite_1_1micro.html#ae8825f2d7a82d8f1c2194e05b929e1cb">tflite::micro::GetTensorShape</a>(hidden_state).<a class="code hl_function" href="classtflite_1_1_runtime_shape.html#a73fb2c2df1c833850d88faf428c65630">FlatSize</a>());</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span> </div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>  <span class="keyword">auto</span> cell_state_shape = step_info.StateShape();</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>  CellType* cell_state_data =</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>      <a class="code hl_function" href="namespacetflite_1_1micro.html#a0e66bf95a19a5f5522df24cc23afc68f">tflite::micro::GetTensorData&lt;CellType&gt;</a>(cell_state) +</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>      step_info.CellStateOffset();</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>  <span class="comment">// Tanh(cell_state)</span></div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>  <a class="code hl_function" href="namespacetflite_1_1lstm__internal.html#a8fbb23414ca480074319492882242bf3">Tanh</a>(cell_state_scale_power, cell_state_shape, cell_state_data,</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>       cell_state_shape, <a class="code hl_variable" href="nano__ble33__sense__accelerometer__continuous_8ino.html#a221f01f29c6cba77d9479aba615283f5">buffer</a>);</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>  <span class="comment">// Update the hidden state</span></div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>  <a class="code hl_function" href="namespacetflite_1_1lstm__internal.html#a0830563b6c438d7d5951324edaef9910">Mul</a>(cell_state_shape, mul_params, <a class="code hl_variable" href="nano__ble33__sense__accelerometer__continuous_8ino.html#a221f01f29c6cba77d9479aba615283f5">buffer</a>, output_gate_output,</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>      <a class="code hl_function" href="namespacetflite_1_1micro.html#a0e66bf95a19a5f5522df24cc23afc68f">tflite::micro::GetTensorData&lt;ActivationType&gt;</a>(hidden_state) +</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>          step_info.HiddenStateOffset());</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>}</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span> </div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> ActivationType, <span class="keyword">typename</span> WeightType, <span class="keyword">typename</span> CellType,</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>          <span class="keyword">typename</span> BiasType&gt;</div>
<div class="foldopen" id="foldopen00394" data-start="{" data-end="}">
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno"><a class="line" href="namespacetflite_1_1lstm__internal.html#a3f2c48d496fce9a1e7510a395caf2c12">  394</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacetflite_1_1lstm__internal.html#ad50254b56d53794905b0647d002911e4">LstmStep</a>(<span class="keyword">const</span> <a class="code hl_class" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html">LstmStepManager</a>&amp; step_info, <span class="keyword">const</span> <a class="code hl_struct" href="structtflite_1_1_op_data_l_s_t_m.html">OpDataLSTM</a>&amp; <a class="code hl_variable" href="batch__matmul_8cc.html#a0f851164a16c8d772c43d8da3ec4be95">op_data</a>,</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>              <a class="code hl_struct" href="structtflite_1_1_l_s_t_m_kernel_contents.html">LSTMKernelContents</a>&amp; kernel_content,</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>              <span class="keyword">const</span> <a class="code hl_struct" href="structtflite_1_1_l_s_t_m_buffers.html">LSTMBuffers&lt;CellType&gt;</a>&amp; buffers) {</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>  <span class="comment">/*Step1: Calculate gate outputs to prepare cell state update*/</span></div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>  CellType* gate_internal_buffer = buffers.<a class="code hl_variable" href="structtflite_1_1_l_s_t_m_buffers.html#a7a80066ceb619414b3c518d45e164b6c">buffer3</a>;</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>  CellType* forget_gate_output = buffers.<a class="code hl_variable" href="structtflite_1_1_l_s_t_m_buffers.html#a4d9144196d473e154c3f662e038a9dc9">buffer0</a>;</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>  <a class="code hl_function" href="namespacetflite_1_1lstm__internal.html#a42929f9e8d019e307f936322363a2ed7">CalculateLstmGate&lt;ActivationType, WeightType, CellType, BiasType&gt;</a>(</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>      step_info, <a class="code hl_variable" href="batch__matmul_8cc.html#a0f851164a16c8d772c43d8da3ec4be95">op_data</a>.forget_gate_parameters,</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>      <span class="comment">// Input FC</span></div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>      kernel_content.<a class="code hl_function" href="structtflite_1_1_l_s_t_m_kernel_contents.html#a5e27d365bf34987cc50039dd5544caad">GetInternalTensor</a>(<a class="code hl_variable" href="namespacetflite.html#a0d543ffd50ba6ad339fbc52e8a794464">tflite::kLstmInputTensor</a>),</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>      kernel_content.<a class="code hl_function" href="structtflite_1_1_l_s_t_m_kernel_contents.html#a5e27d365bf34987cc50039dd5544caad">GetInternalTensor</a>(<a class="code hl_variable" href="namespacetflite.html#a925381bc9bd766738a79b6f283cddf30">tflite::kLstmInputToForgetWeightsTensor</a>),</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>      kernel_content.<a class="code hl_function" href="structtflite_1_1_l_s_t_m_kernel_contents.html#a5e27d365bf34987cc50039dd5544caad">GetInternalTensor</a>(<a class="code hl_variable" href="namespacetflite.html#aeb1e7ea3b1d025a81fd7e66e8a117fd4">tflite::kLstmForgetGateBiasTensor</a>),</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>      <span class="comment">// Recurrent FC</span></div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>      kernel_content.<a class="code hl_function" href="structtflite_1_1_l_s_t_m_kernel_contents.html#ab949e03ed5b4b581d6dab624cdcc3a3d">HiddenStateTensor</a>(),</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>      kernel_content.<a class="code hl_function" href="structtflite_1_1_l_s_t_m_kernel_contents.html#a5e27d365bf34987cc50039dd5544caad">GetInternalTensor</a>(</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>          <a class="code hl_variable" href="namespacetflite.html#a818c88048026b3f09e45c58f37642218">tflite::kLstmRecurrentToForgetWeightsTensor</a>),</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>      <span class="comment">/*recurrent_bias*/</span> <span class="keyword">nullptr</span>,</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>      <span class="comment">// Output</span></div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>      forget_gate_output,</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>      <span class="comment">// Scratch arrays</span></div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>      gate_internal_buffer, <a class="code hl_enumvalue" href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2src7f67a4373e2a0d20daf1d1ff4e1f4339.html#acc9e377dbc009d68bbfa5480d2559565ad6bc4e430896a61a0b2f789ba5e8d4ba">kTfLiteActSigmoid</a>);</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span> </div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>  <span class="comment">// Input Gate calculation;</span></div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>  CellType* input_gate_output = buffers.<a class="code hl_variable" href="structtflite_1_1_l_s_t_m_buffers.html#a4ba62782cd42abef526312a4f23585bf">buffer1</a>;</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>  <a class="code hl_function" href="namespacetflite_1_1lstm__internal.html#a42929f9e8d019e307f936322363a2ed7">CalculateLstmGate&lt;ActivationType, WeightType, CellType, BiasType&gt;</a>(</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>      step_info, <a class="code hl_variable" href="batch__matmul_8cc.html#a0f851164a16c8d772c43d8da3ec4be95">op_data</a>.input_gate_parameters,</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>      <span class="comment">// Input FC</span></div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>      kernel_content.<a class="code hl_function" href="structtflite_1_1_l_s_t_m_kernel_contents.html#a5e27d365bf34987cc50039dd5544caad">GetInternalTensor</a>(<a class="code hl_variable" href="namespacetflite.html#a0d543ffd50ba6ad339fbc52e8a794464">tflite::kLstmInputTensor</a>),</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>      kernel_content.<a class="code hl_function" href="structtflite_1_1_l_s_t_m_kernel_contents.html#a5e27d365bf34987cc50039dd5544caad">GetInternalTensor</a>(<a class="code hl_variable" href="namespacetflite.html#a70ac6f91cf3d2a90cdc2dec1ffef7721">tflite::kLstmInputToInputWeightsTensor</a>),</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>      kernel_content.<a class="code hl_function" href="structtflite_1_1_l_s_t_m_kernel_contents.html#a5e27d365bf34987cc50039dd5544caad">GetInternalTensor</a>(<a class="code hl_variable" href="namespacetflite.html#aa68401a0fd81bb1294d483da8e3cd3ee">tflite::kLstmInputGateBiasTensor</a>),</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>      <span class="comment">// Recurrent FC</span></div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>      kernel_content.<a class="code hl_function" href="structtflite_1_1_l_s_t_m_kernel_contents.html#ab949e03ed5b4b581d6dab624cdcc3a3d">HiddenStateTensor</a>(),</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>      kernel_content.<a class="code hl_function" href="structtflite_1_1_l_s_t_m_kernel_contents.html#a5e27d365bf34987cc50039dd5544caad">GetInternalTensor</a>(</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>          <a class="code hl_variable" href="namespacetflite.html#ad894a248e3c08cb48e79ccf07dd9e4af">tflite::kLstmRecurrentToInputWeightsTensor</a>),</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>      <span class="comment">/*recurrent_bias*/</span> <span class="keyword">nullptr</span>,</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>      <span class="comment">// Output</span></div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>      input_gate_output,</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>      <span class="comment">// Scratch arrays</span></div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>      gate_internal_buffer, <a class="code hl_enumvalue" href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2src7f67a4373e2a0d20daf1d1ff4e1f4339.html#acc9e377dbc009d68bbfa5480d2559565ad6bc4e430896a61a0b2f789ba5e8d4ba">kTfLiteActSigmoid</a>);</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span> </div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>  <span class="comment">// Cell Gate calculation</span></div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>  CellType* cell_gate_output = buffers.<a class="code hl_variable" href="structtflite_1_1_l_s_t_m_buffers.html#a5d4eee348dc5cd04c28c62d6fc955e2f">buffer2</a>;</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>  <a class="code hl_function" href="namespacetflite_1_1lstm__internal.html#a42929f9e8d019e307f936322363a2ed7">CalculateLstmGate&lt;ActivationType, WeightType, CellType, BiasType&gt;</a>(</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>      step_info, <a class="code hl_variable" href="batch__matmul_8cc.html#a0f851164a16c8d772c43d8da3ec4be95">op_data</a>.cell_gate_parameters,</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>      <span class="comment">// Input FC</span></div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>      kernel_content.<a class="code hl_function" href="structtflite_1_1_l_s_t_m_kernel_contents.html#a5e27d365bf34987cc50039dd5544caad">GetInternalTensor</a>(<a class="code hl_variable" href="namespacetflite.html#a0d543ffd50ba6ad339fbc52e8a794464">tflite::kLstmInputTensor</a>),</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>      kernel_content.<a class="code hl_function" href="structtflite_1_1_l_s_t_m_kernel_contents.html#a5e27d365bf34987cc50039dd5544caad">GetInternalTensor</a>(<a class="code hl_variable" href="namespacetflite.html#ac673b42d7a9a1c014a7e2a9f6006fa57">tflite::kLstmInputToCellWeightsTensor</a>),</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>      kernel_content.<a class="code hl_function" href="structtflite_1_1_l_s_t_m_kernel_contents.html#a5e27d365bf34987cc50039dd5544caad">GetInternalTensor</a>(<a class="code hl_variable" href="namespacetflite.html#a483156fb3ce48333d464c3cbdc220739">tflite::kLstmCellGateBiasTensor</a>),</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>      <span class="comment">// Recurrent FC</span></div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>      kernel_content.<a class="code hl_function" href="structtflite_1_1_l_s_t_m_kernel_contents.html#ab949e03ed5b4b581d6dab624cdcc3a3d">HiddenStateTensor</a>(),</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>      kernel_content.<a class="code hl_function" href="structtflite_1_1_l_s_t_m_kernel_contents.html#a5e27d365bf34987cc50039dd5544caad">GetInternalTensor</a>(</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>          <a class="code hl_variable" href="namespacetflite.html#a1e09e035ffa219ffae9554361910fd6d">tflite::kLstmRecurrentToCellWeightsTensor</a>),</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>      <span class="comment">/*recurrent_bias*/</span> <span class="keyword">nullptr</span>,</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>      <span class="comment">// Output</span></div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>      cell_gate_output,</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>      <span class="comment">// Scratch arrays</span></div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>      gate_internal_buffer, <a class="code hl_variable" href="batch__matmul_8cc.html#a0f851164a16c8d772c43d8da3ec4be95">op_data</a>.cell_gate_nonlinear_type);</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span> </div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>  <span class="comment">/*Step2: update the cell state */</span></div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>  <span class="keyword">const</span> <a class="code hl_struct" href="structtflite_1_1_inter_gate_parameters.html">InterGateParameters</a>&amp; inter_gate_params = <a class="code hl_variable" href="batch__matmul_8cc.html#a0f851164a16c8d772c43d8da3ec4be95">op_data</a>.inter_gate_parameters;</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>  CellType* updated_input_buffer = buffers.<a class="code hl_variable" href="structtflite_1_1_l_s_t_m_buffers.html#a4ba62782cd42abef526312a4f23585bf">buffer1</a>;  <span class="comment">// reuse buffer</span></div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span> </div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>  <a class="code hl_function" href="namespacetflite_1_1lstm__internal.html#acb42394e584f69ccf4fb07c30707b7c2">UpdateLstmCell&lt;CellType&gt;</a>(step_info, kernel_content.<a class="code hl_function" href="structtflite_1_1_l_s_t_m_kernel_contents.html#a8deed9ec1f3c5bfd7317dbd3854181fc">CellStateTensor</a>(),</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>                           forget_gate_output, input_gate_output,</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>                           cell_gate_output,</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>                           inter_gate_params.<a class="code hl_variable" href="structtflite_1_1_inter_gate_parameters.html#a05b187ed2b5c89992df6c055eaa082b5">forget_cell_mul_params</a>,</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>                           inter_gate_params.<a class="code hl_variable" href="structtflite_1_1_inter_gate_parameters.html#adbfc74c3008bc9f3e8c247bf95e92ccc">input_mul_params</a>,</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>                           <a class="code hl_variable" href="batch__matmul_8cc.html#a0f851164a16c8d772c43d8da3ec4be95">op_data</a>.cell_state_info, updated_input_buffer);</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span> </div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>  <span class="comment">/*Step3: update the hidden state */</span></div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>  CellType* output_gate_output = buffers.<a class="code hl_variable" href="structtflite_1_1_l_s_t_m_buffers.html#a4ba62782cd42abef526312a4f23585bf">buffer1</a>;  <span class="comment">// reuse buffer</span></div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>  <a class="code hl_function" href="namespacetflite_1_1lstm__internal.html#a42929f9e8d019e307f936322363a2ed7">CalculateLstmGate&lt;ActivationType, WeightType, CellType, BiasType&gt;</a>(</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>      step_info, <a class="code hl_variable" href="batch__matmul_8cc.html#a0f851164a16c8d772c43d8da3ec4be95">op_data</a>.output_gate_parameters,</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>      <span class="comment">// Input FC</span></div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>      kernel_content.<a class="code hl_function" href="structtflite_1_1_l_s_t_m_kernel_contents.html#a5e27d365bf34987cc50039dd5544caad">GetInternalTensor</a>(<a class="code hl_variable" href="namespacetflite.html#a0d543ffd50ba6ad339fbc52e8a794464">tflite::kLstmInputTensor</a>),</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>      kernel_content.<a class="code hl_function" href="structtflite_1_1_l_s_t_m_kernel_contents.html#a5e27d365bf34987cc50039dd5544caad">GetInternalTensor</a>(<a class="code hl_variable" href="namespacetflite.html#a43be7892b85e0722fdab31b8f46cb307">tflite::kLstmInputToOutputWeightsTensor</a>),</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>      kernel_content.<a class="code hl_function" href="structtflite_1_1_l_s_t_m_kernel_contents.html#a5e27d365bf34987cc50039dd5544caad">GetInternalTensor</a>(<a class="code hl_variable" href="namespacetflite.html#ac291e27747f1bcec3796f91332e247f5">tflite::kLstmOutputGateBiasTensor</a>),</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>      <span class="comment">// Recurrent FC</span></div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>      kernel_content.<a class="code hl_function" href="structtflite_1_1_l_s_t_m_kernel_contents.html#ab949e03ed5b4b581d6dab624cdcc3a3d">HiddenStateTensor</a>(),</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>      kernel_content.<a class="code hl_function" href="structtflite_1_1_l_s_t_m_kernel_contents.html#a5e27d365bf34987cc50039dd5544caad">GetInternalTensor</a>(</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>          <a class="code hl_variable" href="namespacetflite.html#af8bab5715b38a29112bd4fa262b466e2">tflite::kLstmRecurrentToOutputWeightsTensor</a>),</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>      <span class="comment">/*recurrent_bias*/</span> <span class="keyword">nullptr</span>,</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>      <span class="comment">// Output</span></div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>      output_gate_output,</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>      <span class="comment">// Scratch arrays</span></div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>      gate_internal_buffer, <a class="code hl_enumvalue" href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2src7f67a4373e2a0d20daf1d1ff4e1f4339.html#acc9e377dbc009d68bbfa5480d2559565ad6bc4e430896a61a0b2f789ba5e8d4ba">kTfLiteActSigmoid</a>);</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span> </div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>  CellType* tanh_activated_cell_buffer = buffers.<a class="code hl_variable" href="structtflite_1_1_l_s_t_m_buffers.html#a4d9144196d473e154c3f662e038a9dc9">buffer0</a>;  <span class="comment">// reuse buffer</span></div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>  <a class="code hl_function" href="namespacetflite_1_1lstm__internal.html#ab9e01015b847c8876960057591f8f3ae">tflite::lstm_internal::UpdateLstmHidden&lt;CellType, ActivationType&gt;</a>(</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>      step_info, kernel_content.<a class="code hl_function" href="structtflite_1_1_l_s_t_m_kernel_contents.html#a8deed9ec1f3c5bfd7317dbd3854181fc">CellStateTensor</a>(),</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>      kernel_content.<a class="code hl_function" href="structtflite_1_1_l_s_t_m_kernel_contents.html#ab949e03ed5b4b581d6dab624cdcc3a3d">HiddenStateTensor</a>(), output_gate_output,</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>      inter_gate_params.<a class="code hl_variable" href="structtflite_1_1_inter_gate_parameters.html#ad36d74da5dc77ff2384dd8f32341ee6d">output_mul_params</a>,</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>      <a class="code hl_variable" href="batch__matmul_8cc.html#a0f851164a16c8d772c43d8da3ec4be95">op_data</a>.cell_state_info.cell_state_scale_power,</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>      tanh_activated_cell_buffer);</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span> </div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>  <span class="comment">/*Step4: copy the update the hidden state to output*/</span></div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>  <span class="comment">// Check offset validity to avoid memory overflow</span></div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>  <a class="code hl_define" href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2src82599f02174ce2f1c2fd003f3eee8b73.html#a153a4c7bc866139ad88ebf7cb7f4c400">TFLITE_DCHECK_LE</a>(</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>      step_info.OutputOffset() + step_info.StateShape().FlatSize(),</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>      <a class="code hl_function" href="namespacetflite_1_1micro.html#ae8825f2d7a82d8f1c2194e05b929e1cb">tflite::micro::GetTensorShape</a>(kernel_content.<a class="code hl_variable" href="structtflite_1_1_l_s_t_m_kernel_contents.html#a11b0adf11bdab5d1598e395574ea9853">output_tensor</a>).<a class="code hl_function" href="classtflite_1_1_runtime_shape.html#a73fb2c2df1c833850d88faf428c65630">FlatSize</a>());</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>  <span class="comment">// record the output (from the updated hidden state)</span></div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>  ActivationType* output_ptr = <a class="code hl_function" href="namespacetflite_1_1micro.html#a0e66bf95a19a5f5522df24cc23afc68f">tflite::micro::GetTensorData&lt;ActivationType&gt;</a>(</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>      kernel_content.<a class="code hl_variable" href="structtflite_1_1_l_s_t_m_kernel_contents.html#a11b0adf11bdab5d1598e395574ea9853">output_tensor</a>);</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>  <span class="keyword">const</span> <span class="keyword">auto</span>* hidden_state = kernel_content.<a class="code hl_function" href="structtflite_1_1_l_s_t_m_kernel_contents.html#ab949e03ed5b4b581d6dab624cdcc3a3d">HiddenStateTensor</a>();</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>  std::memcpy(output_ptr + step_info.OutputOffset(),</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>              <a class="code hl_function" href="namespacetflite_1_1micro.html#a0e66bf95a19a5f5522df24cc23afc68f">tflite::micro::GetTensorData&lt;ActivationType&gt;</a>(hidden_state) +</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>                  step_info.HiddenStateOffset(),</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>              step_info.StateShape().FlatSize() * <span class="keyword">sizeof</span>(ActivationType));</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>}</div>
</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span> </div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>}  <span class="comment">// namespace lstm_internal</span></div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span> </div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span><span class="comment">// Evaulate the LSTM kernel with (potential) multi-steps and multi-batch input</span></div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span><span class="comment">// Since</span></div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> ActivationType, <span class="keyword">typename</span> WeightType, <span class="keyword">typename</span> CellType,</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>          <span class="keyword">typename</span> BiasType&gt;</div>
<div class="foldopen" id="foldopen00510" data-start="{" data-end="}">
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno"><a class="line" href="namespacetflite.html#ad3132462555c39136a33d4321df49f75">  510</a></span><a class="code hl_enumeration" href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2srcf7df9e575f8a1f1a49c58fb0f49428b8.html#acf79d2fb5fa520303014d1303f1f6361">TfLiteStatus</a> <a class="code hl_function" href="namespacetflite.html#a770a9c24334214a28286c0fd7765592f">EvalLstm</a>(<span class="keyword">const</span> <a class="code hl_struct" href="structtflite_1_1_op_data_l_s_t_m.html">OpDataLSTM</a>&amp; <a class="code hl_variable" href="batch__matmul_8cc.html#a0f851164a16c8d772c43d8da3ec4be95">op_data</a>,</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>                      <a class="code hl_struct" href="structtflite_1_1_l_s_t_m_kernel_contents.html">LSTMKernelContents</a>&amp; kernel_content,</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>                      <span class="keyword">const</span> <a class="code hl_struct" href="structtflite_1_1_l_s_t_m_buffers.html">LSTMBuffers&lt;CellType&gt;</a>&amp; buffers) {</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>  <a class="code hl_class" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html">lstm_internal::LstmStepManager</a> step_info(&amp;<a class="code hl_variable" href="batch__matmul_8cc.html#a0f851164a16c8d772c43d8da3ec4be95">op_data</a>.size_info);</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>  <span class="keyword">const</span> <span class="keyword">auto</span>&amp; size_info = <a class="code hl_variable" href="batch__matmul_8cc.html#a0f851164a16c8d772c43d8da3ec4be95">op_data</a>.size_info;</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>  <span class="comment">// time is the first dimention, enable batch computation</span></div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>  <span class="keywordflow">if</span> (size_info.time_major) {</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> t = 0; t &lt; size_info.time_steps; t++) {</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>      <a class="code hl_function" href="namespacetflite_1_1lstm__internal.html#ad50254b56d53794905b0647d002911e4">lstm_internal::LstmStep&lt;ActivationType, WeightType, CellType, BiasType&gt;</a>(</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>          step_info, <a class="code hl_variable" href="batch__matmul_8cc.html#a0f851164a16c8d772c43d8da3ec4be95">op_data</a>, kernel_content, buffers);</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>      <span class="comment">// prepare for the next time step</span></div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>      step_info.<a class="code hl_function" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#aab817304266cafc306951f3b80742891">UpdateTime</a>();</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>    }</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>    <span class="comment">// batch first, unable to size the input data. single batch inference</span></div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_variable" href="_test_a_p_d_s9960_color_8ino.html#a148e3876077787926724625411d6e7a9">b</a> = 0; <a class="code hl_variable" href="_test_a_p_d_s9960_color_8ino.html#a148e3876077787926724625411d6e7a9">b</a> &lt; size_info.batch_size; <a class="code hl_variable" href="_test_a_p_d_s9960_color_8ino.html#a148e3876077787926724625411d6e7a9">b</a>++) {</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> t = 0; t &lt; size_info.time_steps; t++) {</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>        <a class="code hl_function" href="namespacetflite_1_1lstm__internal.html#ad50254b56d53794905b0647d002911e4">lstm_internal::LstmStep&lt;ActivationType, WeightType, CellType, BiasType&gt;</a>(</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>            step_info, <a class="code hl_variable" href="batch__matmul_8cc.html#a0f851164a16c8d772c43d8da3ec4be95">op_data</a>, kernel_content, buffers);</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>        <span class="comment">// prepare for the next time step</span></div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>        step_info.<a class="code hl_function" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#aab817304266cafc306951f3b80742891">UpdateTime</a>();</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>      }</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>      <span class="comment">// prepare for the next batch</span></div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>      step_info.<a class="code hl_function" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#a31fc36486a01a153abe8d26f7470bd4f">UpdateBatch</a>();</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>      step_info.<a class="code hl_function" href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#add4d1f0c1be11645e50e36731df28039">ResetTime</a>();</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>    }</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>  }</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>  <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2srcf7df9e575f8a1f1a49c58fb0f49428b8.html#acf79d2fb5fa520303014d1303f1f6361ab25fe210808197f1b6601df8ccdcd699">kTfLiteOk</a>;</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>}</div>
</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>}  <span class="comment">// namespace tflite</span></div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span> </div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span><span class="preprocessor">#endif  </span><span class="comment">// TENSORFLOW_LITE_MICRO_KERNELS_LSTM_EVAL_16ACT_H_</span></div>
<div class="ttc" id="a_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2src42c086e4473e7d05e4bf9eb4ee8591b1_html_aa99af520330799bd4a06c056ec8f7113"><div class="ttname"><a href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2src42c086e4473e7d05e4bf9eb4ee8591b1.html#aa99af520330799bd4a06c056ec8f7113">TFLITE_ASSERT_FALSE</a></div><div class="ttdeci">#define TFLITE_ASSERT_FALSE</div><div class="ttdef"><b>Definition</b> op_macros.h:35</div></div>
<div class="ttc" id="a_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2src4cbee0bfdfed30e8771023cedb1bab0d_html_a434686eb00eea897154eb5c3f9364ef7"><div class="ttname"><a href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2src4cbee0bfdfed30e8771023cedb1bab0d.html#a434686eb00eea897154eb5c3f9364ef7">params</a></div><div class="ttdeci">ComparisonParams params</div><div class="ttdef"><b>Definition</b> comparisons.cpp:29</div></div>
<div class="ttc" id="a_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2src5afb18c45f6346167aa977a363205143_html_a9cebfb3d6ddd692fbdd268cf4b9ad024"><div class="ttname"><a href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2src5afb18c45f6346167aa977a363205143.html#a9cebfb3d6ddd692fbdd268cf4b9ad024">input</a></div><div class="ttdeci">TfLiteTensor * input</div><div class="ttdef"><b>Definition</b> squeeze.cpp:43</div></div>
<div class="ttc" id="a_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2src7f67a4373e2a0d20daf1d1ff4e1f4339_html_acc9e377dbc009d68bbfa5480d2559565"><div class="ttname"><a href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2src7f67a4373e2a0d20daf1d1ff4e1f4339.html#acc9e377dbc009d68bbfa5480d2559565">TfLiteFusedActivation</a></div><div class="ttdeci">TfLiteFusedActivation</div><div class="ttdef"><b>Definition</b> builtin_op_data.h:71</div></div>
<div class="ttc" id="a_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2src7f67a4373e2a0d20daf1d1ff4e1f4339_html_acc9e377dbc009d68bbfa5480d2559565a7e8b7d2496b796e132239ab5dea5835d"><div class="ttname"><a href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2src7f67a4373e2a0d20daf1d1ff4e1f4339.html#acc9e377dbc009d68bbfa5480d2559565a7e8b7d2496b796e132239ab5dea5835d">kTfLiteActTanh</a></div><div class="ttdeci">@ kTfLiteActTanh</div><div class="ttdef"><b>Definition</b> builtin_op_data.h:76</div></div>
<div class="ttc" id="a_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2src7f67a4373e2a0d20daf1d1ff4e1f4339_html_acc9e377dbc009d68bbfa5480d2559565ad6bc4e430896a61a0b2f789ba5e8d4ba"><div class="ttname"><a href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2src7f67a4373e2a0d20daf1d1ff4e1f4339.html#acc9e377dbc009d68bbfa5480d2559565ad6bc4e430896a61a0b2f789ba5e8d4ba">kTfLiteActSigmoid</a></div><div class="ttdeci">@ kTfLiteActSigmoid</div><div class="ttdef"><b>Definition</b> builtin_op_data.h:78</div></div>
<div class="ttc" id="a_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2src82599f02174ce2f1c2fd003f3eee8b73_html_a153a4c7bc866139ad88ebf7cb7f4c400"><div class="ttname"><a href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2src82599f02174ce2f1c2fd003f3eee8b73.html#a153a4c7bc866139ad88ebf7cb7f4c400">TFLITE_DCHECK_LE</a></div><div class="ttdeci">#define TFLITE_DCHECK_LE(x, y)</div><div class="ttdef"><b>Definition</b> compatibility.h:43</div></div>
<div class="ttc" id="a_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2srcbcd3bbe90c4644d53fde1ce4e312f437_html_a7a2a916a8059078c2d7a05f46c7126fd"><div class="ttname"><a href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2srcbcd3bbe90c4644d53fde1ce4e312f437.html#a7a2a916a8059078c2d7a05f46c7126fd">output</a></div><div class="ttdeci">TfLiteEvalTensor * output</div><div class="ttdef"><b>Definition</b> maximum_minimum.cpp:49</div></div>
<div class="ttc" id="a_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2srcf7df9e575f8a1f1a49c58fb0f49428b8_html_a8a47ba81bdef28b5c479ee7928a7d123"><div class="ttname"><a href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2srcf7df9e575f8a1f1a49c58fb0f49428b8.html#a8a47ba81bdef28b5c479ee7928a7d123">TfLiteType</a></div><div class="ttdeci">TfLiteType</div><div class="ttdef"><b>Definition</b> c_api_types.h:96</div></div>
<div class="ttc" id="a_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2srcf7df9e575f8a1f1a49c58fb0f49428b8_html_acf79d2fb5fa520303014d1303f1f6361"><div class="ttname"><a href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2srcf7df9e575f8a1f1a49c58fb0f49428b8.html#acf79d2fb5fa520303014d1303f1f6361">TfLiteStatus</a></div><div class="ttdeci">TfLiteStatus</div><div class="ttdef"><b>Definition</b> c_api_types.h:55</div></div>
<div class="ttc" id="a_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2srcf7df9e575f8a1f1a49c58fb0f49428b8_html_acf79d2fb5fa520303014d1303f1f6361ab25fe210808197f1b6601df8ccdcd699"><div class="ttname"><a href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2srcf7df9e575f8a1f1a49c58fb0f49428b8.html#acf79d2fb5fa520303014d1303f1f6361ab25fe210808197f1b6601df8ccdcd699">kTfLiteOk</a></div><div class="ttdeci">@ kTfLiteOk</div><div class="ttdef"><b>Definition</b> c_api_types.h:56</div></div>
<div class="ttc" id="a_test_a_p_d_s9960_color_8ino_html_a148e3876077787926724625411d6e7a9"><div class="ttname"><a href="_test_a_p_d_s9960_color_8ino.html#a148e3876077787926724625411d6e7a9">b</a></div><div class="ttdeci">int b</div><div class="ttdef"><b>Definition</b> TestAPDS9960Color.ino:12</div></div>
<div class="ttc" id="aadd__n__test_8cc_html_a3305b43869c4b837b0a33c12cff5069b"><div class="ttname"><a href="add__n__test_8cc.html#a3305b43869c4b837b0a33c12cff5069b">output_data</a></div><div class="ttdeci">T output_data[kOutputSize]</div><div class="ttdef"><b>Definition</b> add_n_test.cc:78</div></div>
<div class="ttc" id="aadd__n__test_8cc_html_a5612ba79d1f0b544c7aeae4621166fea"><div class="ttname"><a href="add__n__test_8cc.html#a5612ba79d1f0b544c7aeae4621166fea">input_data</a></div><div class="ttdeci">T input_data[kNumInputs][kOutputSize]</div><div class="ttdef"><b>Definition</b> add_n_test.cc:77</div></div>
<div class="ttc" id="aakida_8h_html_a0792621910eb31f95019ddc94eb3dece"><div class="ttname"><a href="akida_8h.html#a0792621910eb31f95019ddc94eb3dece">input_shape</a></div><div class="ttdeci">static std::vector&lt; size_t &gt; input_shape</div><div class="ttdef"><b>Definition</b> akida.h:85</div></div>
<div class="ttc" id="abatch__matmul_8cc_html_a0f851164a16c8d772c43d8da3ec4be95"><div class="ttname"><a href="batch__matmul_8cc.html#a0f851164a16c8d772c43d8da3ec4be95">op_data</a></div><div class="ttdeci">OpData * op_data</div><div class="ttdef"><b>Definition</b> batch_matmul.cc:71</div></div>
<div class="ttc" id="aclasstflite_1_1_lstm_tensors_html_a41d5e327d2e7f3a291e9ca3667c4a847"><div class="ttname"><a href="classtflite_1_1_lstm_tensors.html#a41d5e327d2e7f3a291e9ca3667c4a847">tflite::LstmTensors::HiddenStateTensor</a></div><div class="ttdeci">const TfLiteTensor * HiddenStateTensor() const</div><div class="ttdef"><b>Definition</b> lstm_eval.h:57</div></div>
<div class="ttc" id="aclasstflite_1_1_lstm_tensors_html_a614c9733a3fe06ee997cb07ce9b3b34c"><div class="ttname"><a href="classtflite_1_1_lstm_tensors.html#a614c9733a3fe06ee997cb07ce9b3b34c">tflite::LstmTensors::internal_tensors_</a></div><div class="ttdeci">TfLiteTensor * internal_tensors_[24]</div><div class="ttdef"><b>Definition</b> lstm_eval.h:68</div></div>
<div class="ttc" id="aclasstflite_1_1_lstm_tensors_html_a72b60b12289c341bdc69cca99d3c1f3a"><div class="ttname"><a href="classtflite_1_1_lstm_tensors.html#a72b60b12289c341bdc69cca99d3c1f3a">tflite::LstmTensors::CellStateTensor</a></div><div class="ttdeci">const TfLiteTensor * CellStateTensor() const</div><div class="ttdef"><b>Definition</b> lstm_eval.h:60</div></div>
<div class="ttc" id="aclasstflite_1_1_lstm_tensors_html_a76bff63d8bd663b9313a8d67981967cb"><div class="ttname"><a href="classtflite_1_1_lstm_tensors.html#a76bff63d8bd663b9313a8d67981967cb">tflite::LstmTensors::micro_context_</a></div><div class="ttdeci">MicroContext * micro_context_</div><div class="ttdef"><b>Definition</b> lstm_eval.h:67</div></div>
<div class="ttc" id="aclasstflite_1_1_lstm_tensors_html_a962e04e9be827aecb98e015f31619158"><div class="ttname"><a href="classtflite_1_1_lstm_tensors.html#a962e04e9be827aecb98e015f31619158">tflite::LstmTensors::ValidateTensorStatus</a></div><div class="ttdeci">TfLiteStatus ValidateTensorStatus(TfLiteContext *context) const</div><div class="ttdef"><b>Definition</b> lstm_eval.cc:55</div></div>
<div class="ttc" id="aclasstflite_1_1_lstm_tensors_html_ac3f884870a83ca81b0fc00f88134f99e"><div class="ttname"><a href="classtflite_1_1_lstm_tensors.html#ac3f884870a83ca81b0fc00f88134f99e">tflite::LstmTensors::LstmTensors</a></div><div class="ttdeci">LstmTensors(const LstmTensors &amp;other)=delete</div></div>
<div class="ttc" id="aclasstflite_1_1_lstm_tensors_html_ad108914736835df314a8da88d8ffb0dd"><div class="ttname"><a href="classtflite_1_1_lstm_tensors.html#ad108914736835df314a8da88d8ffb0dd">tflite::LstmTensors::OutputTensor</a></div><div class="ttdeci">const TfLiteTensor * OutputTensor() const</div><div class="ttdef"><b>Definition</b> lstm_eval.h:63</div></div>
<div class="ttc" id="aclasstflite_1_1_lstm_tensors_html_ae48b01aaabc171df9075abbd355530b7"><div class="ttname"><a href="classtflite_1_1_lstm_tensors.html#ae48b01aaabc171df9075abbd355530b7">tflite::LstmTensors::GetInternalTensor</a></div><div class="ttdeci">const TfLiteTensor * GetInternalTensor(const int tensor_index) const</div><div class="ttdef"><b>Definition</b> lstm_eval.h:53</div></div>
<div class="ttc" id="aclasstflite_1_1_lstm_tensors_html_ae6fa8f0a074b05e81603d2584bb570f4"><div class="ttname"><a href="classtflite_1_1_lstm_tensors.html#ae6fa8f0a074b05e81603d2584bb570f4">tflite::LstmTensors::operator=</a></div><div class="ttdeci">LstmTensors &amp; operator=(const LstmTensors &amp;other)=delete</div></div>
<div class="ttc" id="aclasstflite_1_1_lstm_tensors_html_af95bb693a1f3a39ed2ec1d8762be66b4"><div class="ttname"><a href="classtflite_1_1_lstm_tensors.html#af95bb693a1f3a39ed2ec1d8762be66b4">tflite::LstmTensors::output_tensor_</a></div><div class="ttdeci">TfLiteTensor * output_tensor_</div><div class="ttdef"><b>Definition</b> lstm_eval.h:69</div></div>
<div class="ttc" id="aclasstflite_1_1_micro_context_html"><div class="ttname"><a href="classtflite_1_1_micro_context.html">tflite::MicroContext</a></div><div class="ttdef"><b>Definition</b> micro_context.h:30</div></div>
<div class="ttc" id="aclasstflite_1_1_runtime_shape_html"><div class="ttname"><a href="classtflite_1_1_runtime_shape.html">tflite::RuntimeShape</a></div><div class="ttdef"><b>Definition</b> runtime_shape.h:26</div></div>
<div class="ttc" id="aclasstflite_1_1_runtime_shape_html_a73fb2c2df1c833850d88faf428c65630"><div class="ttname"><a href="classtflite_1_1_runtime_shape.html#a73fb2c2df1c833850d88faf428c65630">tflite::RuntimeShape::FlatSize</a></div><div class="ttdeci">int FlatSize() const</div><div class="ttdef"><b>Definition</b> runtime_shape.h:86</div></div>
<div class="ttc" id="aclasstflite_1_1lstm__internal_1_1_lstm_step_manager_html"><div class="ttname"><a href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html">tflite::lstm_internal::LstmStepManager</a></div><div class="ttdef"><b>Definition</b> lstm_eval.h:93</div></div>
<div class="ttc" id="aclasstflite_1_1lstm__internal_1_1_lstm_step_manager_html_a31fc36486a01a153abe8d26f7470bd4f"><div class="ttname"><a href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#a31fc36486a01a153abe8d26f7470bd4f">tflite::lstm_internal::LstmStepManager::UpdateBatch</a></div><div class="ttdeci">void UpdateBatch()</div></div>
<div class="ttc" id="aclasstflite_1_1lstm__internal_1_1_lstm_step_manager_html_a352b41f76db8eaac5205276c054cb6ab"><div class="ttname"><a href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#a352b41f76db8eaac5205276c054cb6ab">tflite::lstm_internal::LstmStepManager::current_batch_</a></div><div class="ttdeci">int current_batch_</div><div class="ttdef"><b>Definition</b> lstm_eval.h:115</div></div>
<div class="ttc" id="aclasstflite_1_1lstm__internal_1_1_lstm_step_manager_html_a506c981d50ecd7d6a28238e9deefa611"><div class="ttname"><a href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#a506c981d50ecd7d6a28238e9deefa611">tflite::lstm_internal::LstmStepManager::LstmStepManager</a></div><div class="ttdeci">LstmStepManager(const LstmSizeInfo *size_info)</div><div class="ttdef"><b>Definition</b> lstm_eval.h:222</div></div>
<div class="ttc" id="aclasstflite_1_1lstm__internal_1_1_lstm_step_manager_html_a76d0322d2708ffd7726377efac1dea5c"><div class="ttname"><a href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#a76d0322d2708ffd7726377efac1dea5c">tflite::lstm_internal::LstmStepManager::current_time_</a></div><div class="ttdeci">int current_time_</div><div class="ttdef"><b>Definition</b> lstm_eval.h:114</div></div>
<div class="ttc" id="aclasstflite_1_1lstm__internal_1_1_lstm_step_manager_html_aab817304266cafc306951f3b80742891"><div class="ttname"><a href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#aab817304266cafc306951f3b80742891">tflite::lstm_internal::LstmStepManager::UpdateTime</a></div><div class="ttdeci">void UpdateTime()</div></div>
<div class="ttc" id="aclasstflite_1_1lstm__internal_1_1_lstm_step_manager_html_ab1bc7c8ba2b4726bab9d93160ce8aa8e"><div class="ttname"><a href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#ab1bc7c8ba2b4726bab9d93160ce8aa8e">tflite::lstm_internal::LstmStepManager::size_info_</a></div><div class="ttdeci">const LstmSizeInfo &amp; size_info_</div><div class="ttdef"><b>Definition</b> lstm_eval.h:122</div></div>
<div class="ttc" id="aclasstflite_1_1lstm__internal_1_1_lstm_step_manager_html_ab4414f8f24ad580a8a575745c3918680"><div class="ttname"><a href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#ab4414f8f24ad580a8a575745c3918680">tflite::lstm_internal::LstmStepManager::InputShape</a></div><div class="ttdeci">RuntimeShape InputShape() const</div></div>
<div class="ttc" id="aclasstflite_1_1lstm__internal_1_1_lstm_step_manager_html_ac1f3f91e4f217341497c122a6435458c"><div class="ttname"><a href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#ac1f3f91e4f217341497c122a6435458c">tflite::lstm_internal::LstmStepManager::StateShape</a></div><div class="ttdeci">RuntimeShape StateShape() const</div></div>
<div class="ttc" id="aclasstflite_1_1lstm__internal_1_1_lstm_step_manager_html_ac3fe9ec3ca348d54a50d9b5ea568393b"><div class="ttname"><a href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#ac3fe9ec3ca348d54a50d9b5ea568393b">tflite::lstm_internal::LstmStepManager::InputOffset</a></div><div class="ttdeci">int InputOffset() const</div><div class="ttdef"><b>Definition</b> lstm_eval.h:232</div></div>
<div class="ttc" id="aclasstflite_1_1lstm__internal_1_1_lstm_step_manager_html_ac768554134a80611df0af319c2580d59"><div class="ttname"><a href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#ac768554134a80611df0af319c2580d59">tflite::lstm_internal::LstmStepManager::OutputOffset</a></div><div class="ttdeci">int OutputOffset() const</div><div class="ttdef"><b>Definition</b> lstm_eval.h:233</div></div>
<div class="ttc" id="aclasstflite_1_1lstm__internal_1_1_lstm_step_manager_html_acf58a666f9b99548766087738fe258f3"><div class="ttname"><a href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#acf58a666f9b99548766087738fe258f3">tflite::lstm_internal::LstmStepManager::hidden_state_offset_</a></div><div class="ttdeci">int hidden_state_offset_</div><div class="ttdef"><b>Definition</b> lstm_eval.h:118</div></div>
<div class="ttc" id="aclasstflite_1_1lstm__internal_1_1_lstm_step_manager_html_ad05cd13445fb46fb82914ba52a1a2650"><div class="ttname"><a href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#ad05cd13445fb46fb82914ba52a1a2650">tflite::lstm_internal::LstmStepManager::LstmStepManager</a></div><div class="ttdeci">LstmStepManager()=delete</div></div>
<div class="ttc" id="aclasstflite_1_1lstm__internal_1_1_lstm_step_manager_html_ad15087baea46dd019cd69450c5851832"><div class="ttname"><a href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#ad15087baea46dd019cd69450c5851832">tflite::lstm_internal::LstmStepManager::CellStateOffset</a></div><div class="ttdeci">int CellStateOffset() const</div><div class="ttdef"><b>Definition</b> lstm_eval.h:235</div></div>
<div class="ttc" id="aclasstflite_1_1lstm__internal_1_1_lstm_step_manager_html_ad1713d1145bfaa8433470cce9c70c153"><div class="ttname"><a href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#ad1713d1145bfaa8433470cce9c70c153">tflite::lstm_internal::LstmStepManager::input_offset_</a></div><div class="ttdeci">int input_offset_</div><div class="ttdef"><b>Definition</b> lstm_eval.h:116</div></div>
<div class="ttc" id="aclasstflite_1_1lstm__internal_1_1_lstm_step_manager_html_ad365550d4fdab0eb5a01b5f6c606cf7d"><div class="ttname"><a href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#ad365550d4fdab0eb5a01b5f6c606cf7d">tflite::lstm_internal::LstmStepManager::HiddenStateOffset</a></div><div class="ttdeci">int HiddenStateOffset() const</div><div class="ttdef"><b>Definition</b> lstm_eval.h:234</div></div>
<div class="ttc" id="aclasstflite_1_1lstm__internal_1_1_lstm_step_manager_html_add4d1f0c1be11645e50e36731df28039"><div class="ttname"><a href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#add4d1f0c1be11645e50e36731df28039">tflite::lstm_internal::LstmStepManager::ResetTime</a></div><div class="ttdeci">void ResetTime()</div><div class="ttdef"><b>Definition</b> lstm_eval.h:228</div></div>
<div class="ttc" id="aclasstflite_1_1lstm__internal_1_1_lstm_step_manager_html_ae66a02519386ed2dc4d08c44ea0d0f75"><div class="ttname"><a href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#ae66a02519386ed2dc4d08c44ea0d0f75">tflite::lstm_internal::LstmStepManager::cell_state_offset_</a></div><div class="ttdeci">int cell_state_offset_</div><div class="ttdef"><b>Definition</b> lstm_eval.h:119</div></div>
<div class="ttc" id="aclasstflite_1_1lstm__internal_1_1_lstm_step_manager_html_af6269a2d2c0fd797381aa142c707ca07"><div class="ttname"><a href="classtflite_1_1lstm__internal_1_1_lstm_step_manager.html#af6269a2d2c0fd797381aa142c707ca07">tflite::lstm_internal::LstmStepManager::output_offset_</a></div><div class="ttdeci">int output_offset_</div><div class="ttdef"><b>Definition</b> lstm_eval.h:117</div></div>
<div class="ttc" id="adiv__test_8cc_html_a70b003e7ad90ac4daa3f400c2a022d50"><div class="ttname"><a href="div__test_8cc.html#a70b003e7ad90ac4daa3f400c2a022d50">input2_data</a></div><div class="ttdeci">T * input2_data</div><div class="ttdef"><b>Definition</b> div_test.cc:87</div></div>
<div class="ttc" id="adiv__test_8cc_html_aaa3dc5d0e541e598f33e079b201185f9"><div class="ttname"><a href="div__test_8cc.html#aaa3dc5d0e541e598f33e079b201185f9">input1_data</a></div><div class="ttdeci">T * input1_data</div><div class="ttdef"><b>Definition</b> div_test.cc:86</div></div>
<div class="ttc" id="ahello__world__model_8cc_html_a439227feff9d7f55384e8780cfc2eb82"><div class="ttname"><a href="hello__world__model_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition</b> hello_world_model.cc:113</div></div>
<div class="ttc" id="ahello__world__model_8cc_html_ab2a9259b73b53c0bb06a6b242aa7ae32"><div class="ttname"><a href="hello__world__model_8cc.html#ab2a9259b73b53c0bb06a6b242aa7ae32">data</a></div><div class="ttdeci">int data[3]</div><div class="ttdef"><b>Definition</b> hello_world_model.cc:114</div></div>
<div class="ttc" id="al2__pool__2d__test_8cc_html_a77ea056afd837c816867a0a9887131b6"><div class="ttname"><a href="l2__pool__2d__test_8cc.html#a77ea056afd837c816867a0a9887131b6">activation</a></div><div class="ttdeci">TfLiteFusedActivation activation</div><div class="ttdef"><b>Definition</b> l2_pool_2d_test.cc:37</div></div>
<div class="ttc" id="amicro_2kernels_2filter__bank__log_8cc_html_aad7699ab55cc1f497d8d2861fd2d0dd2"><div class="ttname"><a href="micro_2kernels_2filter__bank__log_8cc.html#aad7699ab55cc1f497d8d2861fd2d0dd2">output_scale</a></div><div class="ttdeci">int output_scale</div><div class="ttdef"><b>Definition</b> filter_bank_log.cc:42</div></div>
<div class="ttc" id="anamespacetensor_html"><div class="ttname"><a href="namespacetensor.html">tensor</a></div><div class="ttdef"><b>Definition</b> tensor.py:1</div></div>
<div class="ttc" id="anamespacetflite_1_1lstm__internal_html_a0830563b6c438d7d5951324edaef9910"><div class="ttname"><a href="namespacetflite_1_1lstm__internal.html#a0830563b6c438d7d5951324edaef9910">tflite::lstm_internal::Mul</a></div><div class="ttdeci">void Mul(const RuntimeShape &amp;shape, const ArithmeticParams &amp;params, const int16_t *input1_data, const int16_t *input2_data, int8_t *output_data)</div><div class="ttdef"><b>Definition</b> lstm_eval.cpp:94</div></div>
<div class="ttc" id="anamespacetflite_1_1lstm__internal_html_a2ab5b518daf335bf4b9a64d454f28b77"><div class="ttname"><a href="namespacetflite_1_1lstm__internal.html#a2ab5b518daf335bf4b9a64d454f28b77">tflite::lstm_internal::Sigmoid</a></div><div class="ttdeci">void Sigmoid(const RuntimeShape &amp;data_shape, int16_t *data)</div><div class="ttdef"><b>Definition</b> lstm_eval.cpp:57</div></div>
<div class="ttc" id="anamespacetflite_1_1lstm__internal_html_a389edc4b1c9bd4c32ef107ae22cc6627"><div class="ttname"><a href="namespacetflite_1_1lstm__internal.html#a389edc4b1c9bd4c32ef107ae22cc6627">tflite::lstm_internal::AddElementWise</a></div><div class="ttdeci">void AddElementWise(const int16_t *input_1, const int16_t *input_2, int n_batch, int n_input, int16_t *output)</div><div class="ttdef"><b>Definition</b> lstm_eval.cpp:35</div></div>
<div class="ttc" id="anamespacetflite_1_1lstm__internal_html_a40804f45071c0d614c8aa91f5a223508"><div class="ttname"><a href="namespacetflite_1_1lstm__internal.html#a40804f45071c0d614c8aa91f5a223508">tflite::lstm_internal::FullyConnected</a></div><div class="ttdeci">void FullyConnected(const FullyConnectedParams &amp;params, const RuntimeShape &amp;input_shape, const int8_t *input_data, const RuntimeShape &amp;filter_shape, const int8_t *filter_data, const RuntimeShape &amp;bias_shape, const int32_t *bias_data, const RuntimeShape &amp;output_shape, int16_t *output_data)</div><div class="ttdef"><b>Definition</b> lstm_eval.cpp:117</div></div>
<div class="ttc" id="anamespacetflite_1_1lstm__internal_html_a42929f9e8d019e307f936322363a2ed7"><div class="ttname"><a href="namespacetflite_1_1lstm__internal.html#a42929f9e8d019e307f936322363a2ed7">tflite::lstm_internal::CalculateLstmGate</a></div><div class="ttdeci">void CalculateLstmGate(const LstmStepManager &amp;step_info, const GateParameters &amp;gate_params, const TfLiteEvalTensor *input, const TfLiteEvalTensor *input_weight, const TfLiteEvalTensor *input_bias, const TfLiteEvalTensor *recurrent, const TfLiteEvalTensor *recurrent_weight, const TfLiteEvalTensor *recurrent_bias, CellType *gate_output, CellType *fc_output_buffer, const TfLiteFusedActivation activation)</div><div class="ttdef"><b>Definition</b> lstm_eval.h:131</div></div>
<div class="ttc" id="anamespacetflite_1_1lstm__internal_html_a774c4ad3bc70673b78e206cafcab2311"><div class="ttname"><a href="namespacetflite_1_1lstm__internal.html#a774c4ad3bc70673b78e206cafcab2311">tflite::lstm_internal::Clipping</a></div><div class="ttdeci">void Clipping(const int v_size, const CellStateInfo &amp;cell_state_info, int16_t *vector)</div><div class="ttdef"><b>Definition</b> lstm_eval.cpp:147</div></div>
<div class="ttc" id="anamespacetflite_1_1lstm__internal_html_a8fbb23414ca480074319492882242bf3"><div class="ttname"><a href="namespacetflite_1_1lstm__internal.html#a8fbb23414ca480074319492882242bf3">tflite::lstm_internal::Tanh</a></div><div class="ttdeci">void Tanh(int32_t cell_state_scale_power, const RuntimeShape &amp;input_data_shape, int16_t *input_data, const RuntimeShape &amp;output_data_shape, int16_t *output_data)</div><div class="ttdef"><b>Definition</b> lstm_eval.cpp:69</div></div>
<div class="ttc" id="anamespacetflite_1_1lstm__internal_html_ab9e01015b847c8876960057591f8f3ae"><div class="ttname"><a href="namespacetflite_1_1lstm__internal.html#ab9e01015b847c8876960057591f8f3ae">tflite::lstm_internal::UpdateLstmHidden</a></div><div class="ttdeci">void UpdateLstmHidden(const LstmStepManager &amp;step_info, TfLiteEvalTensor *cell_state, TfLiteEvalTensor *hidden_state, const CellType *output_gate_output, const ArithmeticParams &amp;mul_params, int32_t cell_state_scale_power, CellType *buffer)</div><div class="ttdef"><b>Definition</b> lstm_eval.h:241</div></div>
<div class="ttc" id="anamespacetflite_1_1lstm__internal_html_acb42394e584f69ccf4fb07c30707b7c2"><div class="ttname"><a href="namespacetflite_1_1lstm__internal.html#acb42394e584f69ccf4fb07c30707b7c2">tflite::lstm_internal::UpdateLstmCell</a></div><div class="ttdeci">void UpdateLstmCell(const LstmStepManager &amp;step_info, TfLiteEvalTensor *cell_state, CellType *forget_gate_output, const CellType *input_gate_output, const CellType *cell_gate_output, const ArithmeticParams &amp;forget_cell_mul_params, const ArithmeticParams &amp;input_mul_params, const CellStateInfo &amp;cell_state_info, CellType *buffer)</div><div class="ttdef"><b>Definition</b> lstm_eval.h:195</div></div>
<div class="ttc" id="anamespacetflite_1_1lstm__internal_html_ad50254b56d53794905b0647d002911e4"><div class="ttname"><a href="namespacetflite_1_1lstm__internal.html#ad50254b56d53794905b0647d002911e4">tflite::lstm_internal::LstmStep</a></div><div class="ttdeci">void LstmStep(const LstmStepManager &amp;step_info, const OpDataLSTM &amp;op_data, LSTMKernelContents &amp;kernel_content, LSTMBuffers&lt; CellType &gt; &amp;buffers)</div><div class="ttdef"><b>Definition</b> lstm_eval.h:270</div></div>
<div class="ttc" id="anamespacetflite_1_1micro_html_a0e66bf95a19a5f5522df24cc23afc68f"><div class="ttname"><a href="namespacetflite_1_1micro.html#a0e66bf95a19a5f5522df24cc23afc68f">tflite::micro::GetTensorData</a></div><div class="ttdeci">T * GetTensorData(TfLiteEvalTensor *tensor)</div><div class="ttdef"><b>Definition</b> kernel_util.h:64</div></div>
<div class="ttc" id="anamespacetflite_1_1micro_html_a4e2b1594676312ed778976adc0f243ab"><div class="ttname"><a href="namespacetflite_1_1micro.html#a4e2b1594676312ed778976adc0f243ab">tflite::micro::GetOptionalTensorData</a></div><div class="ttdeci">T * GetOptionalTensorData(TfLiteEvalTensor *tensor)</div><div class="ttdef"><b>Definition</b> kernel_util.h:78</div></div>
<div class="ttc" id="anamespacetflite_1_1micro_html_ae8825f2d7a82d8f1c2194e05b929e1cb"><div class="ttname"><a href="namespacetflite_1_1micro.html#ae8825f2d7a82d8f1c2194e05b929e1cb">tflite::micro::GetTensorShape</a></div><div class="ttdeci">const RuntimeShape GetTensorShape(const TfLiteEvalTensor *tensor)</div><div class="ttdef"><b>Definition</b> kernel_util.cpp:94</div></div>
<div class="ttc" id="anamespacetflite_html"><div class="ttname"><a href="namespacetflite.html">tflite</a></div><div class="ttdef"><b>Definition</b> context_util.h:26</div></div>
<div class="ttc" id="anamespacetflite_html_a00555a9f4a6723557e3f2765ec4380fd"><div class="ttname"><a href="namespacetflite.html#a00555a9f4a6723557e3f2765ec4380fd">tflite::PrepareGateParametersFloat</a></div><div class="ttdeci">TfLiteStatus PrepareGateParametersFloat(TfLiteContext *context, const LstmTensors &amp;lstm_tensors, OpDataLSTM *op_data_lstm)</div><div class="ttdef"><b>Definition</b> lstm_eval_common.cc:229</div></div>
<div class="ttc" id="anamespacetflite_html_a0d543ffd50ba6ad339fbc52e8a794464"><div class="ttname"><a href="namespacetflite.html#a0d543ffd50ba6ad339fbc52e8a794464">tflite::kLstmInputTensor</a></div><div class="ttdeci">constexpr int kLstmInputTensor</div><div class="ttdef"><b>Definition</b> lstm_shared.h:24</div></div>
<div class="ttc" id="anamespacetflite_html_a1e09e035ffa219ffae9554361910fd6d"><div class="ttname"><a href="namespacetflite.html#a1e09e035ffa219ffae9554361910fd6d">tflite::kLstmRecurrentToCellWeightsTensor</a></div><div class="ttdeci">constexpr int kLstmRecurrentToCellWeightsTensor</div><div class="ttdef"><b>Definition</b> lstm_shared.h:35</div></div>
<div class="ttc" id="anamespacetflite_html_a265df358624795b03961403933f6d100"><div class="ttname"><a href="namespacetflite.html#a265df358624795b03961403933f6d100">tflite::CreateInterGateMulParams</a></div><div class="ttdeci">tflite::ArithmeticParams CreateInterGateMulParams(const float input1_scale, const float input2_scale, const float output_scale, const TfLiteType output_type, const int output_zp=0)</div><div class="ttdef"><b>Definition</b> lstm_eval_common.cc:151</div></div>
<div class="ttc" id="anamespacetflite_html_a2f5876476a2cf63840ad092a15ebae7b"><div class="ttname"><a href="namespacetflite.html#a2f5876476a2cf63840ad092a15ebae7b">tflite::PrepareGateParametersInteger</a></div><div class="ttdeci">TfLiteStatus PrepareGateParametersInteger(TfLiteContext *context, const LstmTensors &amp;lstm_tensors, OpDataLSTM *op_data_lstm)</div><div class="ttdef"><b>Definition</b> lstm_eval_common.cc:247</div></div>
<div class="ttc" id="anamespacetflite_html_a35d4b5184fd9a45639dfafedb8ba4d6e"><div class="ttname"><a href="namespacetflite.html#a35d4b5184fd9a45639dfafedb8ba4d6e">tflite::ValidateWeightTensorSize</a></div><div class="ttdeci">TfLiteStatus ValidateWeightTensorSize(TfLiteContext *context, const TfLiteTensor *tensor, int dim1_size, int dim2_size)</div><div class="ttdef"><b>Definition</b> lstm_eval_common.cc:40</div></div>
<div class="ttc" id="anamespacetflite_html_a43be7892b85e0722fdab31b8f46cb307"><div class="ttname"><a href="namespacetflite.html#a43be7892b85e0722fdab31b8f46cb307">tflite::kLstmInputToOutputWeightsTensor</a></div><div class="ttdeci">constexpr int kLstmInputToOutputWeightsTensor</div><div class="ttdef"><b>Definition</b> lstm_shared.h:30</div></div>
<div class="ttc" id="anamespacetflite_html_a483156fb3ce48333d464c3cbdc220739"><div class="ttname"><a href="namespacetflite.html#a483156fb3ce48333d464c3cbdc220739">tflite::kLstmCellGateBiasTensor</a></div><div class="ttdeci">constexpr int kLstmCellGateBiasTensor</div><div class="ttdef"><b>Definition</b> lstm_shared.h:46</div></div>
<div class="ttc" id="anamespacetflite_html_a543b95f6d582d7fb3f372b0450fc04f5"><div class="ttname"><a href="namespacetflite.html#a543b95f6d582d7fb3f372b0450fc04f5">tflite::CreateGateParams</a></div><div class="ttdeci">TfLiteStatus CreateGateParams(TfLiteContext *context, const TfLiteTensor *input, const TfLiteTensor *input_weight, const TfLiteTensor *input_bias, const TfLiteTensor *hidden_state, const TfLiteTensor *hidden_state_weight, const TfLiteTensor *hidden_state_bias, const float nonlinear_activation_input_scale, const TfLiteType cell_type, const tflite::GateParameters &amp;gate_params)</div></div>
<div class="ttc" id="anamespacetflite_html_a5d1f16ee8005910bfbe35e20b69ada0d"><div class="ttname"><a href="namespacetflite.html#a5d1f16ee8005910bfbe35e20b69ada0d">tflite::ValidateBiasTensorSize</a></div><div class="ttdeci">TfLiteStatus ValidateBiasTensorSize(TfLiteContext *context, const TfLiteTensor *tensor, int size)</div><div class="ttdef"><b>Definition</b> lstm_eval_common.cc:49</div></div>
<div class="ttc" id="anamespacetflite_html_a5f867b643a7704e8861ff4b39c170a5e"><div class="ttname"><a href="namespacetflite.html#a5f867b643a7704e8861ff4b39c170a5e">tflite::ValidateTensorSize</a></div><div class="ttdeci">TfLiteStatus ValidateTensorSize(TfLiteContext *context, const LstmTensors &amp;tensors, const LstmSizeInfo &amp;size_info)</div><div class="ttdef"><b>Definition</b> lstm_eval_common.cc:58</div></div>
<div class="ttc" id="anamespacetflite_html_a62d7cbfbd9d5aa64aef5034443798de8"><div class="ttname"><a href="namespacetflite.html#a62d7cbfbd9d5aa64aef5034443798de8">tflite::CreateLstmCellStateInfoFloat</a></div><div class="ttdeci">CellStateInfo CreateLstmCellStateInfoFloat(const float cell_clip)</div><div class="ttdef"><b>Definition</b> lstm_eval_common.cc:200</div></div>
<div class="ttc" id="anamespacetflite_html_a7068c4580fa7e971c41c9f1c60b978d5"><div class="ttname"><a href="namespacetflite.html#a7068c4580fa7e971c41c9f1c60b978d5">tflite::kLstmCellStateTensor</a></div><div class="ttdeci">constexpr int kLstmCellStateTensor</div><div class="ttdef"><b>Definition</b> lstm_shared.h:57</div></div>
<div class="ttc" id="anamespacetflite_html_a70ac6f91cf3d2a90cdc2dec1ffef7721"><div class="ttname"><a href="namespacetflite.html#a70ac6f91cf3d2a90cdc2dec1ffef7721">tflite::kLstmInputToInputWeightsTensor</a></div><div class="ttdeci">constexpr int kLstmInputToInputWeightsTensor</div><div class="ttdef"><b>Definition</b> lstm_shared.h:27</div></div>
<div class="ttc" id="anamespacetflite_html_a770a9c24334214a28286c0fd7765592f"><div class="ttname"><a href="namespacetflite.html#a770a9c24334214a28286c0fd7765592f">tflite::EvalLstm</a></div><div class="ttdeci">TfLiteStatus EvalLstm(const OpDataLSTM &amp;op_data, LSTMKernelContents &amp;kernel_content, LSTMBuffers&lt; CellType &gt; &amp;buffers)</div><div class="ttdef"><b>Definition</b> lstm_eval.h:386</div></div>
<div class="ttc" id="anamespacetflite_html_a7b11c0f10ecca41dd21697593b6e7b66"><div class="ttname"><a href="namespacetflite.html#a7b11c0f10ecca41dd21697593b6e7b66">tflite::CreateGateParamsFloat</a></div><div class="ttdeci">tflite::GateParameters CreateGateParamsFloat()</div><div class="ttdef"><b>Definition</b> lstm_eval_common.cc:215</div></div>
<div class="ttc" id="anamespacetflite_html_a818c88048026b3f09e45c58f37642218"><div class="ttname"><a href="namespacetflite.html#a818c88048026b3f09e45c58f37642218">tflite::kLstmRecurrentToForgetWeightsTensor</a></div><div class="ttdeci">constexpr int kLstmRecurrentToForgetWeightsTensor</div><div class="ttdef"><b>Definition</b> lstm_shared.h:34</div></div>
<div class="ttc" id="anamespacetflite_html_a89814271b442c561e088bf235e545e50"><div class="ttname"><a href="namespacetflite.html#a89814271b442c561e088bf235e545e50">tflite::CreateLSTMKernelContent</a></div><div class="ttdeci">LSTMKernelContents CreateLSTMKernelContent(TfLiteContext *context, TfLiteNode *node)</div><div class="ttdef"><b>Definition</b> lstm_eval_common.cc:313</div></div>
<div class="ttc" id="anamespacetflite_html_a8ebdb8c76cc20ddd29c2d6b9944e5fbe"><div class="ttname"><a href="namespacetflite.html#a8ebdb8c76cc20ddd29c2d6b9944e5fbe">tflite::CreateInterGateMulParamsFloat</a></div><div class="ttdeci">tflite::ArithmeticParams CreateInterGateMulParamsFloat()</div><div class="ttdef"><b>Definition</b> lstm_eval_common.cc:222</div></div>
<div class="ttc" id="anamespacetflite_html_a925381bc9bd766738a79b6f283cddf30"><div class="ttname"><a href="namespacetflite.html#a925381bc9bd766738a79b6f283cddf30">tflite::kLstmInputToForgetWeightsTensor</a></div><div class="ttdeci">constexpr int kLstmInputToForgetWeightsTensor</div><div class="ttdef"><b>Definition</b> lstm_shared.h:28</div></div>
<div class="ttc" id="anamespacetflite_html_a98e45f92f0c85d0e4b518cbb57e417f3"><div class="ttname"><a href="namespacetflite.html#a98e45f92f0c85d0e4b518cbb57e417f3">tflite::CreateLSTMBuffers</a></div><div class="ttdeci">LSTMBuffers&lt; CellType &gt; CreateLSTMBuffers(TfLiteContext *context, const int *buffer_indices)</div><div class="ttdef"><b>Definition</b> lstm_eval.h:142</div></div>
<div class="ttc" id="anamespacetflite_html_a9e52539d8a6b8bd120245885b4285faa"><div class="ttname"><a href="namespacetflite.html#a9e52539d8a6b8bd120245885b4285faa">tflite::CreateLstmCellStateInfo</a></div><div class="ttdeci">CellStateInfo CreateLstmCellStateInfo(const float cell_state_scale, const float cell_clip)</div><div class="ttdef"><b>Definition</b> lstm_eval_common.cc:182</div></div>
<div class="ttc" id="anamespacetflite_html_aa68401a0fd81bb1294d483da8e3cd3ee"><div class="ttname"><a href="namespacetflite.html#aa68401a0fd81bb1294d483da8e3cd3ee">tflite::kLstmInputGateBiasTensor</a></div><div class="ttdeci">constexpr int kLstmInputGateBiasTensor</div><div class="ttdef"><b>Definition</b> lstm_shared.h:44</div></div>
<div class="ttc" id="anamespacetflite_html_aae0ff0c18408d6ef583741da24e612e4"><div class="ttname"><a href="namespacetflite.html#aae0ff0c18408d6ef583741da24e612e4">tflite::kLstmOutputStateTensor</a></div><div class="ttdeci">constexpr int kLstmOutputStateTensor</div><div class="ttdef"><b>Definition</b> lstm_shared.h:56</div></div>
<div class="ttc" id="anamespacetflite_html_ab6c98c91bcf5e781bc38e806d2d86ef7"><div class="ttname"><a href="namespacetflite.html#ab6c98c91bcf5e781bc38e806d2d86ef7">tflite::CreateFCParamsFloat</a></div><div class="ttdeci">tflite::FullyConnectedParams CreateFCParamsFloat()</div><div class="ttdef"><b>Definition</b> lstm_eval_common.cc:208</div></div>
<div class="ttc" id="anamespacetflite_html_ac291e27747f1bcec3796f91332e247f5"><div class="ttname"><a href="namespacetflite.html#ac291e27747f1bcec3796f91332e247f5">tflite::kLstmOutputGateBiasTensor</a></div><div class="ttdeci">constexpr int kLstmOutputGateBiasTensor</div><div class="ttdef"><b>Definition</b> lstm_shared.h:47</div></div>
<div class="ttc" id="anamespacetflite_html_ac673b42d7a9a1c014a7e2a9f6006fa57"><div class="ttname"><a href="namespacetflite.html#ac673b42d7a9a1c014a7e2a9f6006fa57">tflite::kLstmInputToCellWeightsTensor</a></div><div class="ttdeci">constexpr int kLstmInputToCellWeightsTensor</div><div class="ttdef"><b>Definition</b> lstm_shared.h:29</div></div>
<div class="ttc" id="anamespacetflite_html_ad894a248e3c08cb48e79ccf07dd9e4af"><div class="ttname"><a href="namespacetflite.html#ad894a248e3c08cb48e79ccf07dd9e4af">tflite::kLstmRecurrentToInputWeightsTensor</a></div><div class="ttdeci">constexpr int kLstmRecurrentToInputWeightsTensor</div><div class="ttdef"><b>Definition</b> lstm_shared.h:33</div></div>
<div class="ttc" id="anamespacetflite_html_aeb1e7ea3b1d025a81fd7e66e8a117fd4"><div class="ttname"><a href="namespacetflite.html#aeb1e7ea3b1d025a81fd7e66e8a117fd4">tflite::kLstmForgetGateBiasTensor</a></div><div class="ttdeci">constexpr int kLstmForgetGateBiasTensor</div><div class="ttdef"><b>Definition</b> lstm_shared.h:45</div></div>
<div class="ttc" id="anamespacetflite_html_aebfb366f3bf5db7f0284e0c112ee178a"><div class="ttname"><a href="namespacetflite.html#aebfb366f3bf5db7f0284e0c112ee178a">tflite::CreateLstmSizeInfo</a></div><div class="ttdeci">LstmSizeInfo CreateLstmSizeInfo(const bool time_major, const TfLiteIntArray *input_tensor_shape, const TfLiteIntArray *hidden_state_tensor_shape)</div><div class="ttdef"><b>Definition</b> lstm_eval_common.cc:26</div></div>
<div class="ttc" id="anamespacetflite_html_af8bab5715b38a29112bd4fa262b466e2"><div class="ttname"><a href="namespacetflite.html#af8bab5715b38a29112bd4fa262b466e2">tflite::kLstmRecurrentToOutputWeightsTensor</a></div><div class="ttdeci">constexpr int kLstmRecurrentToOutputWeightsTensor</div><div class="ttdef"><b>Definition</b> lstm_shared.h:36</div></div>
<div class="ttc" id="anano__ble33__sense__accelerometer__continuous_8ino_html_a221f01f29c6cba77d9479aba615283f5"><div class="ttname"><a href="nano__ble33__sense__accelerometer__continuous_8ino.html#a221f01f29c6cba77d9479aba615283f5">buffer</a></div><div class="ttdeci">static float buffer[EI_CLASSIFIER_DSP_INPUT_FRAME_SIZE]</div><div class="ttdef"><b>Definition</b> nano_ble33_sense_accelerometer_continuous.ino:51</div></div>
<div class="ttc" id="astruct_tf_lite_context_html"><div class="ttname"><a href="struct_tf_lite_context.html">TfLiteContext</a></div><div class="ttdef"><b>Definition</b> common.h:704</div></div>
<div class="ttc" id="astruct_tf_lite_context_html_a79a5ae043ca55b703fe6f4cf8c571217"><div class="ttname"><a href="struct_tf_lite_context.html#a79a5ae043ca55b703fe6f4cf8c571217">TfLiteContext::GetScratchBuffer</a></div><div class="ttdeci">void *(* GetScratchBuffer)(struct TfLiteContext *ctx, int buffer_idx)</div><div class="ttdef"><b>Definition</b> common.h:829</div></div>
<div class="ttc" id="astruct_tf_lite_eval_tensor_html"><div class="ttname"><a href="struct_tf_lite_eval_tensor.html">TfLiteEvalTensor</a></div><div class="ttdef"><b>Definition</b> common.h:607</div></div>
<div class="ttc" id="astruct_tf_lite_int_array_html"><div class="ttname"><a href="struct_tf_lite_int_array.html">TfLiteIntArray</a></div><div class="ttdef"><b>Definition</b> common.h:89</div></div>
<div class="ttc" id="astruct_tf_lite_node_html"><div class="ttname"><a href="struct_tf_lite_node.html">TfLiteNode</a></div><div class="ttdef"><b>Definition</b> common.h:481</div></div>
<div class="ttc" id="astruct_tf_lite_tensor_html"><div class="ttname"><a href="struct_tf_lite_tensor.html">TfLiteTensor</a></div><div class="ttdef"><b>Definition</b> common.h:411</div></div>
<div class="ttc" id="astructtflite_1_1_arithmetic_params_html"><div class="ttname"><a href="structtflite_1_1_arithmetic_params.html">tflite::ArithmeticParams</a></div><div class="ttdef"><b>Definition</b> types.h:636</div></div>
<div class="ttc" id="astructtflite_1_1_cell_state_info_html"><div class="ttname"><a href="structtflite_1_1_cell_state_info.html">tflite::CellStateInfo</a></div><div class="ttdef"><b>Definition</b> lstm_shared.h:93</div></div>
<div class="ttc" id="astructtflite_1_1_fully_connected_params_html"><div class="ttname"><a href="structtflite_1_1_fully_connected_params.html">tflite::FullyConnectedParams</a></div><div class="ttdef"><b>Definition</b> types.h:780</div></div>
<div class="ttc" id="astructtflite_1_1_gate_parameters_html"><div class="ttname"><a href="structtflite_1_1_gate_parameters.html">tflite::GateParameters</a></div><div class="ttdef"><b>Definition</b> lstm_shared.h:70</div></div>
<div class="ttc" id="astructtflite_1_1_gate_parameters_html_aab65796622836af884d2f10c8924924d"><div class="ttname"><a href="structtflite_1_1_gate_parameters.html#aab65796622836af884d2f10c8924924d">tflite::GateParameters::input_fc_params</a></div><div class="ttdeci">FullyConnectedParams input_fc_params</div><div class="ttdef"><b>Definition</b> lstm_shared.h:71</div></div>
<div class="ttc" id="astructtflite_1_1_gate_parameters_html_ab86410c8768e1d39ae70b7cf87eca425"><div class="ttname"><a href="structtflite_1_1_gate_parameters.html#ab86410c8768e1d39ae70b7cf87eca425">tflite::GateParameters::recurrent_fc_params</a></div><div class="ttdeci">FullyConnectedParams recurrent_fc_params</div><div class="ttdef"><b>Definition</b> lstm_shared.h:72</div></div>
<div class="ttc" id="astructtflite_1_1_inter_gate_parameters_html"><div class="ttname"><a href="structtflite_1_1_inter_gate_parameters.html">tflite::InterGateParameters</a></div><div class="ttdef"><b>Definition</b> lstm_shared.h:76</div></div>
<div class="ttc" id="astructtflite_1_1_inter_gate_parameters_html_a05b187ed2b5c89992df6c055eaa082b5"><div class="ttname"><a href="structtflite_1_1_inter_gate_parameters.html#a05b187ed2b5c89992df6c055eaa082b5">tflite::InterGateParameters::forget_cell_mul_params</a></div><div class="ttdeci">ArithmeticParams forget_cell_mul_params</div><div class="ttdef"><b>Definition</b> lstm_shared.h:77</div></div>
<div class="ttc" id="astructtflite_1_1_inter_gate_parameters_html_ad36d74da5dc77ff2384dd8f32341ee6d"><div class="ttname"><a href="structtflite_1_1_inter_gate_parameters.html#ad36d74da5dc77ff2384dd8f32341ee6d">tflite::InterGateParameters::output_mul_params</a></div><div class="ttdeci">ArithmeticParams output_mul_params</div><div class="ttdef"><b>Definition</b> lstm_shared.h:79</div></div>
<div class="ttc" id="astructtflite_1_1_inter_gate_parameters_html_adbfc74c3008bc9f3e8c247bf95e92ccc"><div class="ttname"><a href="structtflite_1_1_inter_gate_parameters.html#adbfc74c3008bc9f3e8c247bf95e92ccc">tflite::InterGateParameters::input_mul_params</a></div><div class="ttdeci">ArithmeticParams input_mul_params</div><div class="ttdef"><b>Definition</b> lstm_shared.h:78</div></div>
<div class="ttc" id="astructtflite_1_1_l_s_t_m_buffers_html"><div class="ttname"><a href="structtflite_1_1_l_s_t_m_buffers.html">tflite::LSTMBuffers</a></div><div class="ttdef"><b>Definition</b> lstm_shared.h:141</div></div>
<div class="ttc" id="astructtflite_1_1_l_s_t_m_buffers_html_a4ba62782cd42abef526312a4f23585bf"><div class="ttname"><a href="structtflite_1_1_l_s_t_m_buffers.html#a4ba62782cd42abef526312a4f23585bf">tflite::LSTMBuffers::buffer1</a></div><div class="ttdeci">CellType * buffer1</div><div class="ttdef"><b>Definition</b> lstm_shared.h:144</div></div>
<div class="ttc" id="astructtflite_1_1_l_s_t_m_buffers_html_a4d9144196d473e154c3f662e038a9dc9"><div class="ttname"><a href="structtflite_1_1_l_s_t_m_buffers.html#a4d9144196d473e154c3f662e038a9dc9">tflite::LSTMBuffers::buffer0</a></div><div class="ttdeci">CellType * buffer0</div><div class="ttdef"><b>Definition</b> lstm_shared.h:143</div></div>
<div class="ttc" id="astructtflite_1_1_l_s_t_m_buffers_html_a5d4eee348dc5cd04c28c62d6fc955e2f"><div class="ttname"><a href="structtflite_1_1_l_s_t_m_buffers.html#a5d4eee348dc5cd04c28c62d6fc955e2f">tflite::LSTMBuffers::buffer2</a></div><div class="ttdeci">CellType * buffer2</div><div class="ttdef"><b>Definition</b> lstm_shared.h:145</div></div>
<div class="ttc" id="astructtflite_1_1_l_s_t_m_buffers_html_a7a80066ceb619414b3c518d45e164b6c"><div class="ttname"><a href="structtflite_1_1_l_s_t_m_buffers.html#a7a80066ceb619414b3c518d45e164b6c">tflite::LSTMBuffers::buffer3</a></div><div class="ttdeci">CellType * buffer3</div><div class="ttdef"><b>Definition</b> lstm_shared.h:146</div></div>
<div class="ttc" id="astructtflite_1_1_l_s_t_m_kernel_contents_html"><div class="ttname"><a href="structtflite_1_1_l_s_t_m_kernel_contents.html">tflite::LSTMKernelContents</a></div><div class="ttdef"><b>Definition</b> lstm_shared.h:122</div></div>
<div class="ttc" id="astructtflite_1_1_l_s_t_m_kernel_contents_html_a11b0adf11bdab5d1598e395574ea9853"><div class="ttname"><a href="structtflite_1_1_l_s_t_m_kernel_contents.html#a11b0adf11bdab5d1598e395574ea9853">tflite::LSTMKernelContents::output_tensor</a></div><div class="ttdeci">TfLiteEvalTensor * output_tensor</div><div class="ttdef"><b>Definition</b> lstm_shared.h:137</div></div>
<div class="ttc" id="astructtflite_1_1_l_s_t_m_kernel_contents_html_a5e27d365bf34987cc50039dd5544caad"><div class="ttname"><a href="structtflite_1_1_l_s_t_m_kernel_contents.html#a5e27d365bf34987cc50039dd5544caad">tflite::LSTMKernelContents::GetInternalTensor</a></div><div class="ttdeci">const TfLiteEvalTensor * GetInternalTensor(const int tensor_index) const</div><div class="ttdef"><b>Definition</b> lstm_shared.h:125</div></div>
<div class="ttc" id="astructtflite_1_1_l_s_t_m_kernel_contents_html_a8deed9ec1f3c5bfd7317dbd3854181fc"><div class="ttname"><a href="structtflite_1_1_l_s_t_m_kernel_contents.html#a8deed9ec1f3c5bfd7317dbd3854181fc">tflite::LSTMKernelContents::CellStateTensor</a></div><div class="ttdeci">TfLiteEvalTensor * CellStateTensor()</div><div class="ttdef"><b>Definition</b> lstm_shared.h:132</div></div>
<div class="ttc" id="astructtflite_1_1_l_s_t_m_kernel_contents_html_ab949e03ed5b4b581d6dab624cdcc3a3d"><div class="ttname"><a href="structtflite_1_1_l_s_t_m_kernel_contents.html#ab949e03ed5b4b581d6dab624cdcc3a3d">tflite::LSTMKernelContents::HiddenStateTensor</a></div><div class="ttdeci">TfLiteEvalTensor * HiddenStateTensor()</div><div class="ttdef"><b>Definition</b> lstm_shared.h:129</div></div>
<div class="ttc" id="astructtflite_1_1_lstm_size_info_html"><div class="ttname"><a href="structtflite_1_1_lstm_size_info.html">tflite::LstmSizeInfo</a></div><div class="ttdef"><b>Definition</b> lstm_shared.h:84</div></div>
<div class="ttc" id="astructtflite_1_1_op_data_l_s_t_m_html"><div class="ttname"><a href="structtflite_1_1_op_data_l_s_t_m.html">tflite::OpDataLSTM</a></div><div class="ttdef"><b>Definition</b> lstm_shared.h:108</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
