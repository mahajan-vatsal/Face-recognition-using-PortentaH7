<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Machine Vision using Portenta H7: README</title>
<link rel="icon" href="logo.png" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Machine Vision using Portenta H7<span id="projectnumber">&#160;2</span>
   </div>
   <div id="projectbrief">This project aims to develop a face recognition-based access control system using the Arduino Portenta H7 and Vision Shield, leveraging Edge Impulse for machine learning. The system captures facial images, processes them locally using an AI model deployed on the Portenta H7 and determines access based on authorised personnel.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">README</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The aim of this application is to provide a quick way to test different networks.</p>
<p>It contains one testcase and a default network model (network_model.h), default input data (input_data.h) and default expected output data (expected_output_data.h). The header files were created using the <code>xxd</code> command.</p>
<p>The default model is a single int8 DepthwiseConv2D operator, with an input shape of {1, 8, 8, 16}, {1, 2, 2, 16} and {16} and an output shape of {1, 4, 4, 16}.</p>
<p>When building the FVP target for Ethos-U (CO_PROCESSOR=ethos_u) the person detect int8 model is used instead. The downloaded model is optimized for Ethos-U with Ethos-U Vela. For more info see the following readmes: <a class="el" href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2tensorflow_2lite_2mieff15ee57cfe38179083b08ddb86ebf4.html">tensorflow/lite/micro/kernels/ethos_u/README.md</a> <a class="el" href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2tensorflow_2lite_2mi64a8b0ef0bf8cba27a04b1d995177b91.html">tensorflow/lite/micro/cortex_m_corstone_300/README.md</a> <a class="el" href="_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2tensorflow_2lite_2miee354610e627d49b633010d2c66f8b5b.html">tensorflow/lite/micro/examples/person_detection/README.md</a> The following Vela configuration has been used, which is compatible with the FVP build target (TARGET=cortex_m_corstone_300).</p>
<div class="fragment"><div class="line">vela --accelerator-config=ethos-u55-256</div>
</div><!-- fragment --><p>In order to use another model, input data, or expected output data, simply specify the path to the new header files when running make as seen below.</p>
<p>The variables in the specified header files (array and array length) need to have the same name and type as the ones in the default header files. The include guards also needs to be the same. When swapping out the network model, it is likely that the memory allocated by the interpreter needs to be increased to fit the new model. This is done by using the <code>ARENA_SIZE</code> option when running <code>make</code>.</p>
<div class="fragment"><div class="line">make -f tensorflow/lite/micro/tools/make/Makefile network_tester_test \</div>
<div class="line">                  NETWORK_MODEL=path/to/network_model.h \</div>
<div class="line">                  INPUT_DATA=path/to/input_data.h \</div>
<div class="line">                  OUTPUT_DATA=path/to/expected_output_data.h \</div>
<div class="line">                  ARENA_SIZE=&lt;tensor arena size in bytes&gt; \</div>
<div class="line">                  NUM_BYTES_TO_PRINT=&lt;number of bytes to print&gt; \</div>
<div class="line">                  COMPARE_OUTPUT_DATA=no</div>
</div><!-- fragment --><p><code>NETWORK_MODEL</code>: The path to the network model header. \ <code>INPUT_DATA</code>: The path to the input data. \ <code>OUTPUT_DATA</code>: The path to the expected output data. \ <code>ARENA_SIZE</code>: The size of the memory to be allocated (in bytes) by the interpreter. \ <code>NUM_BYTES_TO_PRINT</code>: The number of bytes of the output data to print. \ If set to 0, all bytes of the output are printed. \ <code>COMPARE_OUTPUT_DATA</code>: If set to "no" the output data is not compared to the expected output data. This could be useful e.g. if the execution time needs to be minimized, or there is no expected output data. If omitted, the output data is compared to the expected output. <code>NUM_INFERENCES</code>: Define how many inferences that are made. Defaults to 1. \</p>
<p>The output is printed in JSON format using printf: <code>num_of_outputs: 1 output_begin [ { "dims": [4,1,2,2,1], "data_address": "0x000000", "data":"0x06,0x08,0x0e,0x10" }] output_end</code></p>
<p>If there are multiple output tensors, the output will look like this: <code>num_of_outputs: 2 output_begin [ { "dims": [4,1,2,2,1], "data_address": "0x000000", "data":"0x06,0x08,0x0e,0x10" }, { "dims": [4,1,2,2,1], "data_address": "0x111111", "data":"0x06,0x08,0x0e,0x10" }] output_end</code> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
