\doxysection{fir\+\_\+filter\texorpdfstring{$<$}{<} input\+\_\+t, acc\+\_\+t \texorpdfstring{$>$}{>} Class Template Reference}
\hypertarget{classfir__filter}{}\label{classfir__filter}\index{fir\_filter$<$ input\_t, acc\_t $>$@{fir\_filter$<$ input\_t, acc\_t $>$}}


{\ttfamily \#include $<$fir\+\_\+filter.\+hpp$>$}

\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classfir__filter_aa72b4d6e8b4c19c9b33618516ae7aaee}{fir\+\_\+filter}} (float \mbox{\hyperlink{ei__run__dsp_8h_a7b1ec6eee81fba90db3db34bdb8bcd91}{sampling\+\_\+frequency}}, uint8\+\_\+t \mbox{\hyperlink{classfir__filter_ac7b488394730bfd8d6e0bd4e6e02b4a1}{filter\+\_\+size}}, float lowpass\+\_\+cutoff, float highpass\+\_\+cutoff=0, int decimation\+\_\+ratio=1)
\begin{DoxyCompactList}\small\item\em Perform in place filtering on the input matrix. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classfir__filter_a07b355fc0a5e9d037a9982d3fc6a3144}{apply\+\_\+filter}} (const input\+\_\+t \texorpdfstring{$\ast$}{*}src, input\+\_\+t \texorpdfstring{$\ast$}{*}dest, size\+\_\+t \mbox{\hyperlink{hello__world__model_8cc_a439227feff9d7f55384e8780cfc2eb82}{size}})
\begin{DoxyCompactList}\small\item\em Apply the filter to the input data. You can do this blockwise, as the object preserves memory of old samples Call reset if there\textquotesingle{}s a gap in the data. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classfir__filter_a5557094f29853e26f477fca9756369e9}{reset}} ()
\begin{DoxyCompactList}\small\item\em Reset the filter (when changing rows for instance, for a new signal) This simply clears the filter history. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classfir__filter_a22d2d03b06369b2f619ff5027d1d576f}{set\+\_\+taps\+\_\+lowpass}} (float cutoff\+\_\+normalized, std\+::vector$<$ float $>$ \&f\+\_\+taps)
\begin{DoxyCompactList}\small\item\em Set the taps lowpass object. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classfir__filter_a0e464147beef616f628be922446871d4}{apply\+\_\+hamming}} (std\+::vector$<$ float $>$ \&f\+\_\+taps)
\item 
void \mbox{\hyperlink{classfir__filter_a56f3d0ad5423921b28fd92a0888e13b1}{scale\+\_\+to\+\_\+unity\+\_\+gain}} (std\+::vector$<$ float $>$ \&f\+\_\+taps)
\item 
void \mbox{\hyperlink{classfir__filter_a43cadc324aa3a05aa3fd03c3e6551228}{convert\+\_\+lowpass\+\_\+to\+\_\+highpass}} (std\+::vector$<$ float $>$ \&f\+\_\+taps)
\end{DoxyCompactItemize}
\doxysubsubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::vector$<$ input\+\_\+t $>$ \mbox{\hyperlink{classfir__filter_ad5716cf8b1a70c81b3da83fbb331b3b2}{taps}}
\item 
std\+::vector$<$ input\+\_\+t $>$ \mbox{\hyperlink{classfir__filter_a3b1448f649d0b2792edf446ecdb2d76c}{history}}
\item 
int \mbox{\hyperlink{classfir__filter_a39a0c68cd23146b7a39353ea56a26056}{write\+\_\+index}} = 0
\item 
int \mbox{\hyperlink{classfir__filter_ac7b488394730bfd8d6e0bd4e6e02b4a1}{filter\+\_\+size}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classfir__filter_aa68575239ee58ad75132ad5ee34b3dae}{Accelerometer\+Quantized\+Test\+Case}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$class input\+\_\+t, class \mbox{\hyperlink{ceva__typedef_8h_a2869741d7cb72353bf65981dc8213cf4}{acc\+\_\+t}}$>$\newline
class fir\+\_\+filter$<$ input\+\_\+t, acc\+\_\+t $>$}

\begin{DoxyTemplParams}{Template Parameters}
{\em input\+\_\+t} & Type of input array. Either matrix\+\_\+i16\+\_\+t, or matrix\+\_\+i32\+\_\+t \\
\hline
{\em acc\+\_\+t} & Accumulator size that matches above. 64bit for i16 \\
\hline
\end{DoxyTemplParams}


\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classfir__filter_aa72b4d6e8b4c19c9b33618516ae7aaee}\index{fir\_filter$<$ input\_t, acc\_t $>$@{fir\_filter$<$ input\_t, acc\_t $>$}!fir\_filter@{fir\_filter}}
\index{fir\_filter@{fir\_filter}!fir\_filter$<$ input\_t, acc\_t $>$@{fir\_filter$<$ input\_t, acc\_t $>$}}
\doxysubsubsection{\texorpdfstring{fir\_filter()}{fir\_filter()}}
{\footnotesize\ttfamily \label{classfir__filter_aa72b4d6e8b4c19c9b33618516ae7aaee} 
template$<$class input\+\_\+t , class \mbox{\hyperlink{ceva__typedef_8h_a2869741d7cb72353bf65981dc8213cf4}{acc\+\_\+t}} $>$ \\
\mbox{\hyperlink{classfir__filter}{fir\+\_\+filter}}$<$ input\+\_\+t, \mbox{\hyperlink{ceva__typedef_8h_a2869741d7cb72353bf65981dc8213cf4}{acc\+\_\+t}} $>$\mbox{\hyperlink{classfir__filter}{\+::fir\+\_\+filter}} (\begin{DoxyParamCaption}\item[{float}]{sampling\+\_\+frequency}{, }\item[{uint8\+\_\+t}]{filter\+\_\+size}{, }\item[{float}]{lowpass\+\_\+cutoff}{, }\item[{float}]{highpass\+\_\+cutoff}{ = {\ttfamily 0}, }\item[{int}]{decimation\+\_\+ratio}{ = {\ttfamily 1}}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Perform in place filtering on the input matrix. 


\begin{DoxyParams}{Parameters}
{\em sampling\+\_\+frequency} & Sampling freqency of data \\
\hline
{\em filter\+\_\+size} & Number of taps desired (note, filter order +1) \\
\hline
{\em lowpass\+\_\+cutoff} & Lowpass cutoff freqency. If 0, will be a high pass filter \\
\hline
{\em highpass\+\_\+cutoff} & Highpass cutoff. If 0, will just be a lowpass. If both lowpass and higpass, bandpass \\
\hline
{\em decimation\+\_\+ratio} & To downsample, ratio of samples to get rid of. ~\newline
 For example, 4 to go from sample rate of 40k to 10k. LOWPASS CUTOFF MUST MATCH THIS If you don\textquotesingle{}t filter the high frequencies, they WILL alias into the passband So in the above example, you would want to cutoff at 5K (so you have some buffer) \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\Hypertarget{classfir__filter_a07b355fc0a5e9d037a9982d3fc6a3144}\index{fir\_filter$<$ input\_t, acc\_t $>$@{fir\_filter$<$ input\_t, acc\_t $>$}!apply\_filter@{apply\_filter}}
\index{apply\_filter@{apply\_filter}!fir\_filter$<$ input\_t, acc\_t $>$@{fir\_filter$<$ input\_t, acc\_t $>$}}
\doxysubsubsection{\texorpdfstring{apply\_filter()}{apply\_filter()}}
{\footnotesize\ttfamily \label{classfir__filter_a07b355fc0a5e9d037a9982d3fc6a3144} 
template$<$class input\+\_\+t , class \mbox{\hyperlink{ceva__typedef_8h_a2869741d7cb72353bf65981dc8213cf4}{acc\+\_\+t}} $>$ \\
void \mbox{\hyperlink{classfir__filter}{fir\+\_\+filter}}$<$ input\+\_\+t, \mbox{\hyperlink{ceva__typedef_8h_a2869741d7cb72353bf65981dc8213cf4}{acc\+\_\+t}} $>$\+::apply\+\_\+filter (\begin{DoxyParamCaption}\item[{const input\+\_\+t \texorpdfstring{$\ast$}{*}}]{src}{, }\item[{input\+\_\+t \texorpdfstring{$\ast$}{*}}]{dest}{, }\item[{size\+\_\+t}]{size}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Apply the filter to the input data. You can do this blockwise, as the object preserves memory of old samples Call reset if there\textquotesingle{}s a gap in the data. 


\begin{DoxyParams}{Parameters}
{\em src} & Source array \\
\hline
{\em dest} & Output array (can be the same as source for in place) \\
\hline
{\em size} & Number of samples to process \\
\hline
\end{DoxyParams}
\Hypertarget{classfir__filter_a0e464147beef616f628be922446871d4}\index{fir\_filter$<$ input\_t, acc\_t $>$@{fir\_filter$<$ input\_t, acc\_t $>$}!apply\_hamming@{apply\_hamming}}
\index{apply\_hamming@{apply\_hamming}!fir\_filter$<$ input\_t, acc\_t $>$@{fir\_filter$<$ input\_t, acc\_t $>$}}
\doxysubsubsection{\texorpdfstring{apply\_hamming()}{apply\_hamming()}}
{\footnotesize\ttfamily \label{classfir__filter_a0e464147beef616f628be922446871d4} 
template$<$class input\+\_\+t , class \mbox{\hyperlink{ceva__typedef_8h_a2869741d7cb72353bf65981dc8213cf4}{acc\+\_\+t}} $>$ \\
void \mbox{\hyperlink{classfir__filter}{fir\+\_\+filter}}$<$ input\+\_\+t, \mbox{\hyperlink{ceva__typedef_8h_a2869741d7cb72353bf65981dc8213cf4}{acc\+\_\+t}} $>$\+::apply\+\_\+hamming (\begin{DoxyParamCaption}\item[{std\+::vector$<$ float $>$ \&}]{f\+\_\+taps}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}

\Hypertarget{classfir__filter_a43cadc324aa3a05aa3fd03c3e6551228}\index{fir\_filter$<$ input\_t, acc\_t $>$@{fir\_filter$<$ input\_t, acc\_t $>$}!convert\_lowpass\_to\_highpass@{convert\_lowpass\_to\_highpass}}
\index{convert\_lowpass\_to\_highpass@{convert\_lowpass\_to\_highpass}!fir\_filter$<$ input\_t, acc\_t $>$@{fir\_filter$<$ input\_t, acc\_t $>$}}
\doxysubsubsection{\texorpdfstring{convert\_lowpass\_to\_highpass()}{convert\_lowpass\_to\_highpass()}}
{\footnotesize\ttfamily \label{classfir__filter_a43cadc324aa3a05aa3fd03c3e6551228} 
template$<$class input\+\_\+t , class \mbox{\hyperlink{ceva__typedef_8h_a2869741d7cb72353bf65981dc8213cf4}{acc\+\_\+t}} $>$ \\
void \mbox{\hyperlink{classfir__filter}{fir\+\_\+filter}}$<$ input\+\_\+t, \mbox{\hyperlink{ceva__typedef_8h_a2869741d7cb72353bf65981dc8213cf4}{acc\+\_\+t}} $>$\+::convert\+\_\+lowpass\+\_\+to\+\_\+highpass (\begin{DoxyParamCaption}\item[{std\+::vector$<$ float $>$ \&}]{f\+\_\+taps}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}

\Hypertarget{classfir__filter_a5557094f29853e26f477fca9756369e9}\index{fir\_filter$<$ input\_t, acc\_t $>$@{fir\_filter$<$ input\_t, acc\_t $>$}!reset@{reset}}
\index{reset@{reset}!fir\_filter$<$ input\_t, acc\_t $>$@{fir\_filter$<$ input\_t, acc\_t $>$}}
\doxysubsubsection{\texorpdfstring{reset()}{reset()}}
{\footnotesize\ttfamily \label{classfir__filter_a5557094f29853e26f477fca9756369e9} 
template$<$class input\+\_\+t , class \mbox{\hyperlink{ceva__typedef_8h_a2869741d7cb72353bf65981dc8213cf4}{acc\+\_\+t}} $>$ \\
void \mbox{\hyperlink{classfir__filter}{fir\+\_\+filter}}$<$ input\+\_\+t, \mbox{\hyperlink{ceva__typedef_8h_a2869741d7cb72353bf65981dc8213cf4}{acc\+\_\+t}} $>$\+::reset (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Reset the filter (when changing rows for instance, for a new signal) This simply clears the filter history. 

\Hypertarget{classfir__filter_a56f3d0ad5423921b28fd92a0888e13b1}\index{fir\_filter$<$ input\_t, acc\_t $>$@{fir\_filter$<$ input\_t, acc\_t $>$}!scale\_to\_unity\_gain@{scale\_to\_unity\_gain}}
\index{scale\_to\_unity\_gain@{scale\_to\_unity\_gain}!fir\_filter$<$ input\_t, acc\_t $>$@{fir\_filter$<$ input\_t, acc\_t $>$}}
\doxysubsubsection{\texorpdfstring{scale\_to\_unity\_gain()}{scale\_to\_unity\_gain()}}
{\footnotesize\ttfamily \label{classfir__filter_a56f3d0ad5423921b28fd92a0888e13b1} 
template$<$class input\+\_\+t , class \mbox{\hyperlink{ceva__typedef_8h_a2869741d7cb72353bf65981dc8213cf4}{acc\+\_\+t}} $>$ \\
void \mbox{\hyperlink{classfir__filter}{fir\+\_\+filter}}$<$ input\+\_\+t, \mbox{\hyperlink{ceva__typedef_8h_a2869741d7cb72353bf65981dc8213cf4}{acc\+\_\+t}} $>$\+::scale\+\_\+to\+\_\+unity\+\_\+gain (\begin{DoxyParamCaption}\item[{std\+::vector$<$ float $>$ \&}]{f\+\_\+taps}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}

\Hypertarget{classfir__filter_a22d2d03b06369b2f619ff5027d1d576f}\index{fir\_filter$<$ input\_t, acc\_t $>$@{fir\_filter$<$ input\_t, acc\_t $>$}!set\_taps\_lowpass@{set\_taps\_lowpass}}
\index{set\_taps\_lowpass@{set\_taps\_lowpass}!fir\_filter$<$ input\_t, acc\_t $>$@{fir\_filter$<$ input\_t, acc\_t $>$}}
\doxysubsubsection{\texorpdfstring{set\_taps\_lowpass()}{set\_taps\_lowpass()}}
{\footnotesize\ttfamily \label{classfir__filter_a22d2d03b06369b2f619ff5027d1d576f} 
template$<$class input\+\_\+t , class \mbox{\hyperlink{ceva__typedef_8h_a2869741d7cb72353bf65981dc8213cf4}{acc\+\_\+t}} $>$ \\
void \mbox{\hyperlink{classfir__filter}{fir\+\_\+filter}}$<$ input\+\_\+t, \mbox{\hyperlink{ceva__typedef_8h_a2869741d7cb72353bf65981dc8213cf4}{acc\+\_\+t}} $>$\+::set\+\_\+taps\+\_\+lowpass (\begin{DoxyParamCaption}\item[{float}]{cutoff\+\_\+normalized}{, }\item[{std\+::vector$<$ float $>$ \&}]{f\+\_\+taps}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Set the taps lowpass object. 


\begin{DoxyParams}{Parameters}
{\em cutoff\+\_\+normalized} & Should be in the range 0..0.\+5 (0.\+5 being the nyquist) \\
\hline
\end{DoxyParams}


\doxysubsection{Friends And Related Symbol Documentation}
\Hypertarget{classfir__filter_aa68575239ee58ad75132ad5ee34b3dae}\index{fir\_filter$<$ input\_t, acc\_t $>$@{fir\_filter$<$ input\_t, acc\_t $>$}!AccelerometerQuantizedTestCase@{AccelerometerQuantizedTestCase}}
\index{AccelerometerQuantizedTestCase@{AccelerometerQuantizedTestCase}!fir\_filter$<$ input\_t, acc\_t $>$@{fir\_filter$<$ input\_t, acc\_t $>$}}
\doxysubsubsection{\texorpdfstring{AccelerometerQuantizedTestCase}{AccelerometerQuantizedTestCase}}
{\footnotesize\ttfamily \label{classfir__filter_aa68575239ee58ad75132ad5ee34b3dae} 
template$<$class input\+\_\+t , class \mbox{\hyperlink{ceva__typedef_8h_a2869741d7cb72353bf65981dc8213cf4}{acc\+\_\+t}} $>$ \\
friend class Accelerometer\+Quantized\+Test\+Case\hspace{0.3cm}{\ttfamily [friend]}}



\doxysubsection{Member Data Documentation}
\Hypertarget{classfir__filter_ac7b488394730bfd8d6e0bd4e6e02b4a1}\index{fir\_filter$<$ input\_t, acc\_t $>$@{fir\_filter$<$ input\_t, acc\_t $>$}!filter\_size@{filter\_size}}
\index{filter\_size@{filter\_size}!fir\_filter$<$ input\_t, acc\_t $>$@{fir\_filter$<$ input\_t, acc\_t $>$}}
\doxysubsubsection{\texorpdfstring{filter\_size}{filter\_size}}
{\footnotesize\ttfamily \label{classfir__filter_ac7b488394730bfd8d6e0bd4e6e02b4a1} 
template$<$class input\+\_\+t , class \mbox{\hyperlink{ceva__typedef_8h_a2869741d7cb72353bf65981dc8213cf4}{acc\+\_\+t}} $>$ \\
int \mbox{\hyperlink{classfir__filter}{fir\+\_\+filter}}$<$ input\+\_\+t, \mbox{\hyperlink{ceva__typedef_8h_a2869741d7cb72353bf65981dc8213cf4}{acc\+\_\+t}} $>$\+::filter\+\_\+size\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classfir__filter_a3b1448f649d0b2792edf446ecdb2d76c}\index{fir\_filter$<$ input\_t, acc\_t $>$@{fir\_filter$<$ input\_t, acc\_t $>$}!history@{history}}
\index{history@{history}!fir\_filter$<$ input\_t, acc\_t $>$@{fir\_filter$<$ input\_t, acc\_t $>$}}
\doxysubsubsection{\texorpdfstring{history}{history}}
{\footnotesize\ttfamily \label{classfir__filter_a3b1448f649d0b2792edf446ecdb2d76c} 
template$<$class input\+\_\+t , class \mbox{\hyperlink{ceva__typedef_8h_a2869741d7cb72353bf65981dc8213cf4}{acc\+\_\+t}} $>$ \\
std\+::vector$<$input\+\_\+t$>$ \mbox{\hyperlink{classfir__filter}{fir\+\_\+filter}}$<$ input\+\_\+t, \mbox{\hyperlink{ceva__typedef_8h_a2869741d7cb72353bf65981dc8213cf4}{acc\+\_\+t}} $>$\+::history\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classfir__filter_ad5716cf8b1a70c81b3da83fbb331b3b2}\index{fir\_filter$<$ input\_t, acc\_t $>$@{fir\_filter$<$ input\_t, acc\_t $>$}!taps@{taps}}
\index{taps@{taps}!fir\_filter$<$ input\_t, acc\_t $>$@{fir\_filter$<$ input\_t, acc\_t $>$}}
\doxysubsubsection{\texorpdfstring{taps}{taps}}
{\footnotesize\ttfamily \label{classfir__filter_ad5716cf8b1a70c81b3da83fbb331b3b2} 
template$<$class input\+\_\+t , class \mbox{\hyperlink{ceva__typedef_8h_a2869741d7cb72353bf65981dc8213cf4}{acc\+\_\+t}} $>$ \\
std\+::vector$<$input\+\_\+t$>$ \mbox{\hyperlink{classfir__filter}{fir\+\_\+filter}}$<$ input\+\_\+t, \mbox{\hyperlink{ceva__typedef_8h_a2869741d7cb72353bf65981dc8213cf4}{acc\+\_\+t}} $>$\+::taps\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classfir__filter_a39a0c68cd23146b7a39353ea56a26056}\index{fir\_filter$<$ input\_t, acc\_t $>$@{fir\_filter$<$ input\_t, acc\_t $>$}!write\_index@{write\_index}}
\index{write\_index@{write\_index}!fir\_filter$<$ input\_t, acc\_t $>$@{fir\_filter$<$ input\_t, acc\_t $>$}}
\doxysubsubsection{\texorpdfstring{write\_index}{write\_index}}
{\footnotesize\ttfamily \label{classfir__filter_a39a0c68cd23146b7a39353ea56a26056} 
template$<$class input\+\_\+t , class \mbox{\hyperlink{ceva__typedef_8h_a2869741d7cb72353bf65981dc8213cf4}{acc\+\_\+t}} $>$ \\
int \mbox{\hyperlink{classfir__filter}{fir\+\_\+filter}}$<$ input\+\_\+t, \mbox{\hyperlink{ceva__typedef_8h_a2869741d7cb72353bf65981dc8213cf4}{acc\+\_\+t}} $>$\+::write\+\_\+index = 0\hspace{0.3cm}{\ttfamily [private]}}



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
Face\+\_\+\+Access\+\_\+inferencing/src/edge-\/impulse-\/sdk/dsp/spectral/\mbox{\hyperlink{fir__filter_8hpp}{fir\+\_\+filter.\+hpp}}\end{DoxyCompactItemize}
