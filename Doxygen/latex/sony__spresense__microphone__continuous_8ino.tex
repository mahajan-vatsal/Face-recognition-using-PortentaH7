\doxysection{Face\+\_\+\+Access\+\_\+inferencing/examples/sony\+\_\+spresense/sony\+\_\+spresense\+\_\+microphone\+\_\+continuous/sony\+\_\+spresense\+\_\+microphone\+\_\+continuous.ino File Reference}
\hypertarget{sony__spresense__microphone__continuous_8ino}{}\label{sony__spresense__microphone__continuous_8ino}\index{Face\_Access\_inferencing/examples/sony\_spresense/sony\_spresense\_microphone\_continuous/sony\_spresense\_microphone\_continuous.ino@{Face\_Access\_inferencing/examples/sony\_spresense/sony\_spresense\_microphone\_continuous/sony\_spresense\_microphone\_continuous.ino}}
{\ttfamily \#include $<$Face\+\_\+\+Access\+\_\+inferencing.\+h$>$}\newline
{\ttfamily \#include "{}edge-\/impulse-\/sdk/dsp/image/image.\+hpp"{}}\newline
{\ttfamily \#include $<$Audio.\+h$>$}\newline
Include dependency graph for sony\+\_\+spresense\+\_\+microphone\+\_\+continuous.\+ino\+:
% FIG 0
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structinference__t}{inference\+\_\+t}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{sony__spresense__microphone__continuous_8ino_ab392c2f4a803bcb69af50be43d6f6a11}{audio\+\_\+attention\+\_\+cb}} (const Error\+Attention\+Param \texorpdfstring{$\ast$}{*}atprm)
\begin{DoxyCompactList}\small\item\em Audio attention callback. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{sony__spresense__microphone__continuous_8ino_af8bdb6be12449c8fa46f6fcc91847087}{microphone\+\_\+inference\+\_\+end}} (void)
\item 
static bool \mbox{\hyperlink{sony__spresense__microphone__continuous_8ino_ac3b50445cd9fdfc75ac49692ab0f910c}{microphone\+\_\+inference\+\_\+record}} (void)
\item 
static bool \mbox{\hyperlink{sony__spresense__microphone__continuous_8ino_a877403f58f311d79d791ad7c000703c4}{microphone\+\_\+inference\+\_\+start}} (void)
\item 
static int \mbox{\hyperlink{sony__spresense__microphone__continuous_8ino_a3f715c2399692f3c7368ecda003c8fe0}{microphone\+\_\+audio\+\_\+signal\+\_\+get\+\_\+data}} (size\+\_\+t \mbox{\hyperlink{_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2srcaf138809236f667e9686fdd4aaf17705_aed7ea92f45bd273dde380a45ddced592}{offset}}, size\+\_\+t length, float \texorpdfstring{$\ast$}{*}out\+\_\+ptr)
\item 
void \mbox{\hyperlink{sony__spresense__microphone__continuous_8ino_a4fc01d736fe50cf5b977f755b675f11d}{setup}} ()
\begin{DoxyCompactList}\small\item\em Arduino setup function. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{sony__spresense__microphone__continuous_8ino_afe461d27b9c48d5921c00d521181f12f}{loop}} ()
\begin{DoxyCompactList}\small\item\em Get data and run inferencing. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{structinference__t}{inference\+\_\+t}} \mbox{\hyperlink{sony__spresense__microphone__continuous_8ino_a5fe36ec121fc3857a29308445d1c863c}{inference}}
\item 
static bool \mbox{\hyperlink{sony__spresense__microphone__continuous_8ino_ac810bc03820882580f7d2a2589678973}{debug\+\_\+nn}} = false
\item 
static Audio\+Class \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{sony__spresense__microphone__continuous_8ino_a72104a27172cb778b9250be48de7ca2f}{the\+Audio}}
\item 
static int32\+\_\+t \mbox{\hyperlink{sony__spresense__microphone__continuous_8ino_aab8ad5d2cacaf45d3b18e497d320d1c4}{buffer\+\_\+size}} = 1536
\item 
static char \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{sony__spresense__microphone__continuous_8ino_a9a5b9fb4ad2bcdf20c881e4cff78019d}{s\+\_\+buffer}}
\item 
static int \mbox{\hyperlink{sony__spresense__microphone__continuous_8ino_a8c86a09f7ce3952be195531ac2b909af}{print\+\_\+results}} = -\/(\mbox{\hyperlink{nano__ble33__sense__microphone__continuous_8ino_a40b974887b8b0ed817ed34f2818f5be1}{EI\+\_\+\+CLASSIFIER\+\_\+\+SLICES\+\_\+\+PER\+\_\+\+MODEL\+\_\+\+WINDOW}})
\item 
static const int32\+\_\+t \mbox{\hyperlink{sony__spresense__microphone__continuous_8ino_a9a12253745e8632f502e9330e149bb9f}{recording\+\_\+bitrate}} = ei\+\_\+default\+\_\+impulse.\+impulse-\/$>$\mbox{\hyperlink{ei__run__dsp_8h_a25c6eab61238d97eb4aaef9fc6d1fa4e}{frequency}}
\item 
static const uint8\+\_\+t \mbox{\hyperlink{sony__spresense__microphone__continuous_8ino_a04dc64fe5924eedc00e8025e8fa67221}{recording\+\_\+channels}} = ei\+\_\+default\+\_\+impulse.\+impulse-\/$>$raw\+\_\+samples\+\_\+per\+\_\+frame
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{sony__spresense__microphone__continuous_8ino_ab392c2f4a803bcb69af50be43d6f6a11}\index{sony\_spresense\_microphone\_continuous.ino@{sony\_spresense\_microphone\_continuous.ino}!audio\_attention\_cb@{audio\_attention\_cb}}
\index{audio\_attention\_cb@{audio\_attention\_cb}!sony\_spresense\_microphone\_continuous.ino@{sony\_spresense\_microphone\_continuous.ino}}
\doxysubsubsection{\texorpdfstring{audio\_attention\_cb()}{audio\_attention\_cb()}}
{\footnotesize\ttfamily \label{sony__spresense__microphone__continuous_8ino_ab392c2f4a803bcb69af50be43d6f6a11} 
static void audio\+\_\+attention\+\_\+cb (\begin{DoxyParamCaption}\item[{const Error\+Attention\+Param \texorpdfstring{$\ast$}{*}}]{atprm}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Audio attention callback. 

When audio internal error occurs, this function will be called back. \Hypertarget{sony__spresense__microphone__continuous_8ino_afe461d27b9c48d5921c00d521181f12f}\index{sony\_spresense\_microphone\_continuous.ino@{sony\_spresense\_microphone\_continuous.ino}!loop@{loop}}
\index{loop@{loop}!sony\_spresense\_microphone\_continuous.ino@{sony\_spresense\_microphone\_continuous.ino}}
\doxysubsubsection{\texorpdfstring{loop()}{loop()}}
{\footnotesize\ttfamily \label{sony__spresense__microphone__continuous_8ino_afe461d27b9c48d5921c00d521181f12f} 
void loop (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Get data and run inferencing. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em debug} & Get debug info if true \\
\hline
\end{DoxyParams}
\Hypertarget{sony__spresense__microphone__continuous_8ino_a3f715c2399692f3c7368ecda003c8fe0}\index{sony\_spresense\_microphone\_continuous.ino@{sony\_spresense\_microphone\_continuous.ino}!microphone\_audio\_signal\_get\_data@{microphone\_audio\_signal\_get\_data}}
\index{microphone\_audio\_signal\_get\_data@{microphone\_audio\_signal\_get\_data}!sony\_spresense\_microphone\_continuous.ino@{sony\_spresense\_microphone\_continuous.ino}}
\doxysubsubsection{\texorpdfstring{microphone\_audio\_signal\_get\_data()}{microphone\_audio\_signal\_get\_data()}}
{\footnotesize\ttfamily \label{sony__spresense__microphone__continuous_8ino_a3f715c2399692f3c7368ecda003c8fe0} 
static int microphone\+\_\+audio\+\_\+signal\+\_\+get\+\_\+data (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{offset}{, }\item[{size\+\_\+t}]{length}{, }\item[{float \texorpdfstring{$\ast$}{*}}]{out\+\_\+ptr}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Get raw audio signal data \Hypertarget{sony__spresense__microphone__continuous_8ino_af8bdb6be12449c8fa46f6fcc91847087}\index{sony\_spresense\_microphone\_continuous.ino@{sony\_spresense\_microphone\_continuous.ino}!microphone\_inference\_end@{microphone\_inference\_end}}
\index{microphone\_inference\_end@{microphone\_inference\_end}!sony\_spresense\_microphone\_continuous.ino@{sony\_spresense\_microphone\_continuous.ino}}
\doxysubsubsection{\texorpdfstring{microphone\_inference\_end()}{microphone\_inference\_end()}}
{\footnotesize\ttfamily \label{sony__spresense__microphone__continuous_8ino_af8bdb6be12449c8fa46f6fcc91847087} 
static void microphone\+\_\+inference\+\_\+end (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\Hypertarget{sony__spresense__microphone__continuous_8ino_ac3b50445cd9fdfc75ac49692ab0f910c}\index{sony\_spresense\_microphone\_continuous.ino@{sony\_spresense\_microphone\_continuous.ino}!microphone\_inference\_record@{microphone\_inference\_record}}
\index{microphone\_inference\_record@{microphone\_inference\_record}!sony\_spresense\_microphone\_continuous.ino@{sony\_spresense\_microphone\_continuous.ino}}
\doxysubsubsection{\texorpdfstring{microphone\_inference\_record()}{microphone\_inference\_record()}}
{\footnotesize\ttfamily \label{sony__spresense__microphone__continuous_8ino_ac3b50445cd9fdfc75ac49692ab0f910c} 
static bool microphone\+\_\+inference\+\_\+record (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\begin{DoxyReturn}{Returns}
true 

false 
\end{DoxyReturn}
\Hypertarget{sony__spresense__microphone__continuous_8ino_a877403f58f311d79d791ad7c000703c4}\index{sony\_spresense\_microphone\_continuous.ino@{sony\_spresense\_microphone\_continuous.ino}!microphone\_inference\_start@{microphone\_inference\_start}}
\index{microphone\_inference\_start@{microphone\_inference\_start}!sony\_spresense\_microphone\_continuous.ino@{sony\_spresense\_microphone\_continuous.ino}}
\doxysubsubsection{\texorpdfstring{microphone\_inference\_start()}{microphone\_inference\_start()}}
{\footnotesize\ttfamily \label{sony__spresense__microphone__continuous_8ino_a877403f58f311d79d791ad7c000703c4} 
static bool microphone\+\_\+inference\+\_\+start (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}


\begin{DoxyParams}{Parameters}
{\em n\+\_\+samples} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true 

false 
\end{DoxyReturn}
\Hypertarget{sony__spresense__microphone__continuous_8ino_a4fc01d736fe50cf5b977f755b675f11d}\index{sony\_spresense\_microphone\_continuous.ino@{sony\_spresense\_microphone\_continuous.ino}!setup@{setup}}
\index{setup@{setup}!sony\_spresense\_microphone\_continuous.ino@{sony\_spresense\_microphone\_continuous.ino}}
\doxysubsubsection{\texorpdfstring{setup()}{setup()}}
{\footnotesize\ttfamily \label{sony__spresense__microphone__continuous_8ino_a4fc01d736fe50cf5b977f755b675f11d} 
void setup (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Arduino setup function. 



\doxysubsection{Variable Documentation}
\Hypertarget{sony__spresense__microphone__continuous_8ino_aab8ad5d2cacaf45d3b18e497d320d1c4}\index{sony\_spresense\_microphone\_continuous.ino@{sony\_spresense\_microphone\_continuous.ino}!buffer\_size@{buffer\_size}}
\index{buffer\_size@{buffer\_size}!sony\_spresense\_microphone\_continuous.ino@{sony\_spresense\_microphone\_continuous.ino}}
\doxysubsubsection{\texorpdfstring{buffer\_size}{buffer\_size}}
{\footnotesize\ttfamily \label{sony__spresense__microphone__continuous_8ino_aab8ad5d2cacaf45d3b18e497d320d1c4} 
int32\+\_\+t buffer\+\_\+size = 1536\hspace{0.3cm}{\ttfamily [static]}}

\Hypertarget{sony__spresense__microphone__continuous_8ino_ac810bc03820882580f7d2a2589678973}\index{sony\_spresense\_microphone\_continuous.ino@{sony\_spresense\_microphone\_continuous.ino}!debug\_nn@{debug\_nn}}
\index{debug\_nn@{debug\_nn}!sony\_spresense\_microphone\_continuous.ino@{sony\_spresense\_microphone\_continuous.ino}}
\doxysubsubsection{\texorpdfstring{debug\_nn}{debug\_nn}}
{\footnotesize\ttfamily \label{sony__spresense__microphone__continuous_8ino_ac810bc03820882580f7d2a2589678973} 
bool debug\+\_\+nn = false\hspace{0.3cm}{\ttfamily [static]}}

\Hypertarget{sony__spresense__microphone__continuous_8ino_a5fe36ec121fc3857a29308445d1c863c}\index{sony\_spresense\_microphone\_continuous.ino@{sony\_spresense\_microphone\_continuous.ino}!inference@{inference}}
\index{inference@{inference}!sony\_spresense\_microphone\_continuous.ino@{sony\_spresense\_microphone\_continuous.ino}}
\doxysubsubsection{\texorpdfstring{inference}{inference}}
{\footnotesize\ttfamily \label{sony__spresense__microphone__continuous_8ino_a5fe36ec121fc3857a29308445d1c863c} 
\mbox{\hyperlink{structinference__t}{inference\+\_\+t}} inference\hspace{0.3cm}{\ttfamily [static]}}

\Hypertarget{sony__spresense__microphone__continuous_8ino_a8c86a09f7ce3952be195531ac2b909af}\index{sony\_spresense\_microphone\_continuous.ino@{sony\_spresense\_microphone\_continuous.ino}!print\_results@{print\_results}}
\index{print\_results@{print\_results}!sony\_spresense\_microphone\_continuous.ino@{sony\_spresense\_microphone\_continuous.ino}}
\doxysubsubsection{\texorpdfstring{print\_results}{print\_results}}
{\footnotesize\ttfamily \label{sony__spresense__microphone__continuous_8ino_a8c86a09f7ce3952be195531ac2b909af} 
int print\+\_\+results = -\/(\mbox{\hyperlink{nano__ble33__sense__microphone__continuous_8ino_a40b974887b8b0ed817ed34f2818f5be1}{EI\+\_\+\+CLASSIFIER\+\_\+\+SLICES\+\_\+\+PER\+\_\+\+MODEL\+\_\+\+WINDOW}})\hspace{0.3cm}{\ttfamily [static]}}

\Hypertarget{sony__spresense__microphone__continuous_8ino_a9a12253745e8632f502e9330e149bb9f}\index{sony\_spresense\_microphone\_continuous.ino@{sony\_spresense\_microphone\_continuous.ino}!recording\_bitrate@{recording\_bitrate}}
\index{recording\_bitrate@{recording\_bitrate}!sony\_spresense\_microphone\_continuous.ino@{sony\_spresense\_microphone\_continuous.ino}}
\doxysubsubsection{\texorpdfstring{recording\_bitrate}{recording\_bitrate}}
{\footnotesize\ttfamily \label{sony__spresense__microphone__continuous_8ino_a9a12253745e8632f502e9330e149bb9f} 
const int32\+\_\+t recording\+\_\+bitrate = ei\+\_\+default\+\_\+impulse.\+impulse-\/$>$\mbox{\hyperlink{ei__run__dsp_8h_a25c6eab61238d97eb4aaef9fc6d1fa4e}{frequency}}\hspace{0.3cm}{\ttfamily [static]}}

\Hypertarget{sony__spresense__microphone__continuous_8ino_a04dc64fe5924eedc00e8025e8fa67221}\index{sony\_spresense\_microphone\_continuous.ino@{sony\_spresense\_microphone\_continuous.ino}!recording\_channels@{recording\_channels}}
\index{recording\_channels@{recording\_channels}!sony\_spresense\_microphone\_continuous.ino@{sony\_spresense\_microphone\_continuous.ino}}
\doxysubsubsection{\texorpdfstring{recording\_channels}{recording\_channels}}
{\footnotesize\ttfamily \label{sony__spresense__microphone__continuous_8ino_a04dc64fe5924eedc00e8025e8fa67221} 
const uint8\+\_\+t recording\+\_\+channels = ei\+\_\+default\+\_\+impulse.\+impulse-\/$>$raw\+\_\+samples\+\_\+per\+\_\+frame\hspace{0.3cm}{\ttfamily [static]}}

number of channels \Hypertarget{sony__spresense__microphone__continuous_8ino_a9a5b9fb4ad2bcdf20c881e4cff78019d}\index{sony\_spresense\_microphone\_continuous.ino@{sony\_spresense\_microphone\_continuous.ino}!s\_buffer@{s\_buffer}}
\index{s\_buffer@{s\_buffer}!sony\_spresense\_microphone\_continuous.ino@{sony\_spresense\_microphone\_continuous.ino}}
\doxysubsubsection{\texorpdfstring{s\_buffer}{s\_buffer}}
{\footnotesize\ttfamily \label{sony__spresense__microphone__continuous_8ino_a9a5b9fb4ad2bcdf20c881e4cff78019d} 
char\texorpdfstring{$\ast$}{*} s\+\_\+buffer\hspace{0.3cm}{\ttfamily [static]}}

\Hypertarget{sony__spresense__microphone__continuous_8ino_a72104a27172cb778b9250be48de7ca2f}\index{sony\_spresense\_microphone\_continuous.ino@{sony\_spresense\_microphone\_continuous.ino}!theAudio@{theAudio}}
\index{theAudio@{theAudio}!sony\_spresense\_microphone\_continuous.ino@{sony\_spresense\_microphone\_continuous.ino}}
\doxysubsubsection{\texorpdfstring{theAudio}{theAudio}}
{\footnotesize\ttfamily \label{sony__spresense__microphone__continuous_8ino_a72104a27172cb778b9250be48de7ca2f} 
Audio\+Class\texorpdfstring{$\ast$}{*} the\+Audio\hspace{0.3cm}{\ttfamily [static]}}

