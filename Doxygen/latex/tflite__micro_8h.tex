\doxysection{Face\+\_\+\+Access\+\_\+inferencing/src/edge-\/impulse-\/sdk/classifier/inferencing\+\_\+engines/tflite\+\_\+micro.h File Reference}
\hypertarget{tflite__micro_8h}{}\label{tflite__micro_8h}\index{Face\_Access\_inferencing/src/edge-\/impulse-\/sdk/classifier/inferencing\_engines/tflite\_micro.h@{Face\_Access\_inferencing/src/edge-\/impulse-\/sdk/classifier/inferencing\_engines/tflite\_micro.h}}
{\ttfamily \#include "{}model-\/parameters/model\+\_\+metadata.\+h"{}}\newline
{\ttfamily \#include $<$cmath$>$}\newline
{\ttfamily \#include "{}edge-\/impulse-\/sdk/tensorflow/lite/micro/all\+\_\+ops\+\_\+resolver.\+h"{}}\newline
{\ttfamily \#include "{}edge-\/impulse-\/sdk/tensorflow/lite/micro/micro\+\_\+interpreter.\+h"{}}\newline
{\ttfamily \#include "{}edge-\/impulse-\/sdk/tensorflow/lite/schema/schema\+\_\+generated.\+h"{}}\newline
{\ttfamily \#include "{}edge-\/impulse-\/sdk/tensorflow/lite/schema/schema\+\_\+generated\+\_\+full.\+h"{}}\newline
{\ttfamily \#include "{}edge-\/impulse-\/sdk/classifier/ei\+\_\+aligned\+\_\+malloc.\+h"{}}\newline
{\ttfamily \#include "{}edge-\/impulse-\/sdk/classifier/ei\+\_\+fill\+\_\+result\+\_\+struct.\+h"{}}\newline
{\ttfamily \#include "{}edge-\/impulse-\/sdk/classifier/ei\+\_\+model\+\_\+types.\+h"{}}\newline
{\ttfamily \#include "{}edge-\/impulse-\/sdk/classifier/inferencing\+\_\+engines/tflite\+\_\+helper.\+h"{}}\newline
Include dependency graph for tflite\+\_\+micro.\+h\+:
% FIG 0
This graph shows which files directly or indirectly include this file\+:
% FIG 1
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{group__ei__returntypes_gad9580b47a6cd5e74cfc31a03bdfecebe}{EI\+\_\+\+IMPULSE\+\_\+\+ERROR}} \mbox{\hyperlink{tflite__micro_8h_ad4194ff10b06d2a0b59ed46f6e0d5390}{inference\+\_\+tflite\+\_\+setup}} (\mbox{\hyperlink{structei__learning__block__config__tflite__graph__t}{ei\+\_\+learning\+\_\+block\+\_\+config\+\_\+tflite\+\_\+graph\+\_\+t}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{ei__fill__result__struct_8h_aafcd7d36638d6a564b6edbceef06ea8b}{block\+\_\+config}}, uint64\+\_\+t \texorpdfstring{$\ast$}{*}ctx\+\_\+start\+\_\+us, \mbox{\hyperlink{struct_tf_lite_tensor}{Tf\+Lite\+Tensor}} \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}\mbox{\hyperlink{_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2src5afb18c45f6346167aa977a363205143_a9cebfb3d6ddd692fbdd268cf4b9ad024}{input}}, \mbox{\hyperlink{struct_tf_lite_tensor}{Tf\+Lite\+Tensor}} \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}\mbox{\hyperlink{_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2srcbcd3bbe90c4644d53fde1ce4e312f437_a7a2a916a8059078c2d7a05f46c7126fd}{output}}, \mbox{\hyperlink{struct_tf_lite_tensor}{Tf\+Lite\+Tensor}} \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}output\+\_\+labels, \mbox{\hyperlink{struct_tf_lite_tensor}{Tf\+Lite\+Tensor}} \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}output\+\_\+scores, \mbox{\hyperlink{classtflite_1_1_micro_interpreter}{tflite\+::\+Micro\+Interpreter}} \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}micro\+\_\+interpreter, \mbox{\hyperlink{memory_8hpp_ae493c2ffb918aeef416159a5249c8e4a}{ei\+\_\+unique\+\_\+ptr\+\_\+t}} \&p\+\_\+tensor\+\_\+arena)
\item 
static \mbox{\hyperlink{group__ei__returntypes_gad9580b47a6cd5e74cfc31a03bdfecebe}{EI\+\_\+\+IMPULSE\+\_\+\+ERROR}} \mbox{\hyperlink{tflite__micro_8h_a03f8589b3ffbf6db56ec3b3d52c54554}{inference\+\_\+tflite\+\_\+run}} (const \mbox{\hyperlink{ei__model__types_8h_a936cf405a057a578f2bc7b540ccafe57}{ei\+\_\+impulse\+\_\+t}} \texorpdfstring{$\ast$}{*}impulse, \mbox{\hyperlink{structei__learning__block__config__tflite__graph__t}{ei\+\_\+learning\+\_\+block\+\_\+config\+\_\+tflite\+\_\+graph\+\_\+t}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{ei__fill__result__struct_8h_aafcd7d36638d6a564b6edbceef06ea8b}{block\+\_\+config}}, uint64\+\_\+t ctx\+\_\+start\+\_\+us, \mbox{\hyperlink{struct_tf_lite_tensor}{Tf\+Lite\+Tensor}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2srcbcd3bbe90c4644d53fde1ce4e312f437_a7a2a916a8059078c2d7a05f46c7126fd}{output}}, \mbox{\hyperlink{struct_tf_lite_tensor}{Tf\+Lite\+Tensor}} \texorpdfstring{$\ast$}{*}labels\+\_\+tensor, \mbox{\hyperlink{struct_tf_lite_tensor}{Tf\+Lite\+Tensor}} \texorpdfstring{$\ast$}{*}scores\+\_\+tensor, \mbox{\hyperlink{classtflite_1_1_micro_interpreter}{tflite\+::\+Micro\+Interpreter}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{_inference_allocate_tensor_8cpp_a0d8f3bb5211083760f7c593d57adb17d}{interpreter}}, uint8\+\_\+t \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{network__tester__test_8cc_abf99e32bec994276b2bcf77385c93365}{tensor\+\_\+arena}}, \mbox{\hyperlink{structei__impulse__result__t}{ei\+\_\+impulse\+\_\+result\+\_\+t}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{group__ei__functions_gaf4ad914acba713176b1f00a800e781ba}{result}}, bool \mbox{\hyperlink{ei__fill__result__struct_8h_a881f62341b5a41a3c5707268bd537be1}{debug}})
\item 
\mbox{\hyperlink{group__ei__returntypes_gad9580b47a6cd5e74cfc31a03bdfecebe}{EI\+\_\+\+IMPULSE\+\_\+\+ERROR}} \mbox{\hyperlink{tflite__micro_8h_ad221acc09effbea805fa65a4332bb1a8}{run\+\_\+nn\+\_\+inference\+\_\+from\+\_\+dsp}} (\mbox{\hyperlink{structei__learning__block__config__tflite__graph__t}{ei\+\_\+learning\+\_\+block\+\_\+config\+\_\+tflite\+\_\+graph\+\_\+t}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{micro_2kernels_2filter__bank_8cc_ac0f32fd234a078ace764ae2fc15c41a0}{config}}, \mbox{\hyperlink{group__ei__structs_gaa11c321d559d65dd1adff6af0edf54e4}{signal\+\_\+t}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{classei_1_1signal}{signal}}, \mbox{\hyperlink{numpy__types_8h_a41f3bec87e0ffe843126a70f2024fac0}{matrix\+\_\+t}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{ei__run__dsp_8h_a3ba015549c47e712909a20cde87dfe4f}{output\+\_\+matrix}})
\begin{DoxyCompactList}\small\item\em Do neural network inferencing over a signal (from the DSP) \end{DoxyCompactList}\item 
\mbox{\hyperlink{group__ei__returntypes_gad9580b47a6cd5e74cfc31a03bdfecebe}{EI\+\_\+\+IMPULSE\+\_\+\+ERROR}} \mbox{\hyperlink{tflite__micro_8h_a945f35e39a49bfe4e1194edaf89571cd}{run\+\_\+nn\+\_\+inference}} (const \mbox{\hyperlink{ei__model__types_8h_a936cf405a057a578f2bc7b540ccafe57}{ei\+\_\+impulse\+\_\+t}} \texorpdfstring{$\ast$}{*}impulse, \mbox{\hyperlink{structei__feature__t}{ei\+\_\+feature\+\_\+t}} \texorpdfstring{$\ast$}{*}fmatrix, uint32\+\_\+t learn\+\_\+block\+\_\+index, uint32\+\_\+t \texorpdfstring{$\ast$}{*}input\+\_\+block\+\_\+ids, uint32\+\_\+t input\+\_\+block\+\_\+ids\+\_\+size, \mbox{\hyperlink{structei__impulse__result__t}{ei\+\_\+impulse\+\_\+result\+\_\+t}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{group__ei__functions_gaf4ad914acba713176b1f00a800e781ba}{result}}, void \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{ei__run__dsp_8h_a0819d397f9fba7b345b75fef1c1f782a}{config\+\_\+ptr}}, bool \mbox{\hyperlink{ei__fill__result__struct_8h_a881f62341b5a41a3c5707268bd537be1}{debug}}=false)
\begin{DoxyCompactList}\small\item\em Do neural network inferencing over the processed feature matrix. \end{DoxyCompactList}\item 
\mbox{\hyperlink{tflite__micro_8h_aeeaf5d523ee6a290407328d5e17fa721}{\+\_\+\+\_\+attribute\+\_\+\+\_\+}} ((unused)) int \mbox{\hyperlink{engines_8h_a335f8f33ce6e68893a2f4f7915e54cd4}{extract\+\_\+tflite\+\_\+features}}(\mbox{\hyperlink{group__ei__structs_gaa11c321d559d65dd1adff6af0edf54e4}{signal\+\_\+t}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{classei_1_1signal}{signal}}
\item 
\mbox{\hyperlink{tflite__micro_8h_a93caf3ab6ba7b29b743c765d2b83fa79}{if}} (\mbox{\hyperlink{_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2srcbb3c8e6cb6b1b9e60f2136ee8b58a8b6_a6150e0515f7202e2fb518f7206ed97dc}{x}} !=0)
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{numpy__types_8h_a41f3bec87e0ffe843126a70f2024fac0}{matrix\+\_\+t}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{tflite__micro_8h_aac4d93b158d42bda5829a01a9c507312}{output\+\_\+matrix}}
\item 
\mbox{\hyperlink{numpy__types_8h_a41f3bec87e0ffe843126a70f2024fac0}{matrix\+\_\+t}} void \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{tflite__micro_8h_a3658b236936f6ec57ce82f0fd8cbdabb}{config\+\_\+ptr}}
\item 
\mbox{\hyperlink{numpy__types_8h_a41f3bec87e0ffe843126a70f2024fac0}{matrix\+\_\+t}} void const float \mbox{\hyperlink{tflite__micro_8h_a25c6eab61238d97eb4aaef9fc6d1fa4e}{frequency}}
\item 
\mbox{\hyperlink{structei__config__tflite__graph__t}{ei\+\_\+config\+\_\+tflite\+\_\+graph\+\_\+t}} \mbox{\hyperlink{tflite__micro_8h_a3898ea656a9ba90bf49f93ba3906d1ee}{ei\+\_\+config\+\_\+tflite\+\_\+graph\+\_\+0}}
\item 
\mbox{\hyperlink{structei__learning__block__config__tflite__graph__t}{ei\+\_\+learning\+\_\+block\+\_\+config\+\_\+tflite\+\_\+graph\+\_\+t}} \mbox{\hyperlink{tflite__micro_8h_ab7daefa6e7828a2d77c57f1b54404881}{ei\+\_\+learning\+\_\+block\+\_\+config}}
\item 
auto \mbox{\hyperlink{tflite__micro_8h_ab73668665ed1903aab8905ff035a33c5}{x}} = \mbox{\hyperlink{akida_8h_a85d5688f1dbc536dde02c237f84b5aa0}{run\+\_\+nn\+\_\+inference\+\_\+from\+\_\+dsp}}(\&\mbox{\hyperlink{akida_8h_ab7daefa6e7828a2d77c57f1b54404881}{ei\+\_\+learning\+\_\+block\+\_\+config}}, \mbox{\hyperlink{classei_1_1signal}{signal}}, \mbox{\hyperlink{ei__run__dsp_8h_a3ba015549c47e712909a20cde87dfe4f}{output\+\_\+matrix}})
\item 
return \mbox{\hyperlink{tflite__micro_8h_a54eac5b77b39bd93efe5b92bbf779cd8}{EIDSP\+\_\+\+OK}}
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{tflite__micro_8h_aeeaf5d523ee6a290407328d5e17fa721}\index{tflite\_micro.h@{tflite\_micro.h}!\_\_attribute\_\_@{\_\_attribute\_\_}}
\index{\_\_attribute\_\_@{\_\_attribute\_\_}!tflite\_micro.h@{tflite\_micro.h}}
\doxysubsubsection{\texorpdfstring{\_\_attribute\_\_()}{\_\_attribute\_\_()}}
{\footnotesize\ttfamily \label{tflite__micro_8h_aeeaf5d523ee6a290407328d5e17fa721} 
\+\_\+\+\_\+attribute\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{(unused)}]{}{}\end{DoxyParamCaption})}

\Hypertarget{tflite__micro_8h_a93caf3ab6ba7b29b743c765d2b83fa79}\index{tflite\_micro.h@{tflite\_micro.h}!if@{if}}
\index{if@{if}!tflite\_micro.h@{tflite\_micro.h}}
\doxysubsubsection{\texorpdfstring{if()}{if()}}
{\footnotesize\ttfamily \label{tflite__micro_8h_a93caf3ab6ba7b29b743c765d2b83fa79} 
if (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2srcbb3c8e6cb6b1b9e60f2136ee8b58a8b6_a6150e0515f7202e2fb518f7206ed97dc}{x}} !}]{}{ = {\ttfamily 0}}\end{DoxyParamCaption})}

\Hypertarget{tflite__micro_8h_a03f8589b3ffbf6db56ec3b3d52c54554}\index{tflite\_micro.h@{tflite\_micro.h}!inference\_tflite\_run@{inference\_tflite\_run}}
\index{inference\_tflite\_run@{inference\_tflite\_run}!tflite\_micro.h@{tflite\_micro.h}}
\doxysubsubsection{\texorpdfstring{inference\_tflite\_run()}{inference\_tflite\_run()}}
{\footnotesize\ttfamily \label{tflite__micro_8h_a03f8589b3ffbf6db56ec3b3d52c54554} 
static \mbox{\hyperlink{group__ei__returntypes_gad9580b47a6cd5e74cfc31a03bdfecebe}{EI\+\_\+\+IMPULSE\+\_\+\+ERROR}} inference\+\_\+tflite\+\_\+run (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{ei__model__types_8h_a936cf405a057a578f2bc7b540ccafe57}{ei\+\_\+impulse\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{impulse}{, }\item[{\mbox{\hyperlink{structei__learning__block__config__tflite__graph__t}{ei\+\_\+learning\+\_\+block\+\_\+config\+\_\+tflite\+\_\+graph\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{block\+\_\+config}{, }\item[{uint64\+\_\+t}]{ctx\+\_\+start\+\_\+us}{, }\item[{\mbox{\hyperlink{struct_tf_lite_tensor}{Tf\+Lite\+Tensor}} \texorpdfstring{$\ast$}{*}}]{output}{, }\item[{\mbox{\hyperlink{struct_tf_lite_tensor}{Tf\+Lite\+Tensor}} \texorpdfstring{$\ast$}{*}}]{labels\+\_\+tensor}{, }\item[{\mbox{\hyperlink{struct_tf_lite_tensor}{Tf\+Lite\+Tensor}} \texorpdfstring{$\ast$}{*}}]{scores\+\_\+tensor}{, }\item[{\mbox{\hyperlink{classtflite_1_1_micro_interpreter}{tflite\+::\+Micro\+Interpreter}} \texorpdfstring{$\ast$}{*}}]{interpreter}{, }\item[{uint8\+\_\+t \texorpdfstring{$\ast$}{*}}]{tensor\+\_\+arena}{, }\item[{\mbox{\hyperlink{structei__impulse__result__t}{ei\+\_\+impulse\+\_\+result\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{result}{, }\item[{bool}]{debug}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Run TFLite model


\begin{DoxyParams}{Parameters}
{\em ctx\+\_\+start\+\_\+us} & Start time of the setup function (see above) \\
\hline
{\em output} & Output tensor \\
\hline
{\em interpreter} & TFLite interpreter (non-\/compiled models) \\
\hline
{\em tensor\+\_\+arena} & Allocated arena (will be freed) \\
\hline
{\em result} & Struct for results \\
\hline
{\em debug} & Whether to print debug info\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
EI\+\_\+\+IMPULSE\+\_\+\+OK if successful 
\end{DoxyReturn}
\Hypertarget{tflite__micro_8h_ad4194ff10b06d2a0b59ed46f6e0d5390}\index{tflite\_micro.h@{tflite\_micro.h}!inference\_tflite\_setup@{inference\_tflite\_setup}}
\index{inference\_tflite\_setup@{inference\_tflite\_setup}!tflite\_micro.h@{tflite\_micro.h}}
\doxysubsubsection{\texorpdfstring{inference\_tflite\_setup()}{inference\_tflite\_setup()}}
{\footnotesize\ttfamily \label{tflite__micro_8h_ad4194ff10b06d2a0b59ed46f6e0d5390} 
static \mbox{\hyperlink{group__ei__returntypes_gad9580b47a6cd5e74cfc31a03bdfecebe}{EI\+\_\+\+IMPULSE\+\_\+\+ERROR}} inference\+\_\+tflite\+\_\+setup (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structei__learning__block__config__tflite__graph__t}{ei\+\_\+learning\+\_\+block\+\_\+config\+\_\+tflite\+\_\+graph\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{block\+\_\+config}{, }\item[{uint64\+\_\+t \texorpdfstring{$\ast$}{*}}]{ctx\+\_\+start\+\_\+us}{, }\item[{\mbox{\hyperlink{struct_tf_lite_tensor}{Tf\+Lite\+Tensor}} \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}}]{input}{, }\item[{\mbox{\hyperlink{struct_tf_lite_tensor}{Tf\+Lite\+Tensor}} \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}}]{output}{, }\item[{\mbox{\hyperlink{struct_tf_lite_tensor}{Tf\+Lite\+Tensor}} \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}}]{output\+\_\+labels}{, }\item[{\mbox{\hyperlink{struct_tf_lite_tensor}{Tf\+Lite\+Tensor}} \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}}]{output\+\_\+scores}{, }\item[{\mbox{\hyperlink{classtflite_1_1_micro_interpreter}{tflite\+::\+Micro\+Interpreter}} \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}}]{micro\+\_\+interpreter}{, }\item[{\mbox{\hyperlink{memory_8hpp_ae493c2ffb918aeef416159a5249c8e4a}{ei\+\_\+unique\+\_\+ptr\+\_\+t}} \&}]{p\+\_\+tensor\+\_\+arena}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Setup the TFLite runtime


\begin{DoxyParams}{Parameters}
{\em ctx\+\_\+start\+\_\+us} & Pointer to the start time \\
\hline
{\em input} & Pointer to input tensor \\
\hline
{\em output} & Pointer to output tensor \\
\hline
{\em micro\+\_\+interpreter} & Pointer to interpreter (for non-\/compiled models) \\
\hline
{\em micro\+\_\+tensor\+\_\+arena} & Pointer to the arena that will be allocated\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
EI\+\_\+\+IMPULSE\+\_\+\+OK if successful 
\end{DoxyReturn}
\Hypertarget{tflite__micro_8h_a945f35e39a49bfe4e1194edaf89571cd}\index{tflite\_micro.h@{tflite\_micro.h}!run\_nn\_inference@{run\_nn\_inference}}
\index{run\_nn\_inference@{run\_nn\_inference}!tflite\_micro.h@{tflite\_micro.h}}
\doxysubsubsection{\texorpdfstring{run\_nn\_inference()}{run\_nn\_inference()}}
{\footnotesize\ttfamily \label{tflite__micro_8h_a945f35e39a49bfe4e1194edaf89571cd} 
\mbox{\hyperlink{group__ei__returntypes_gad9580b47a6cd5e74cfc31a03bdfecebe}{EI\+\_\+\+IMPULSE\+\_\+\+ERROR}} run\+\_\+nn\+\_\+inference (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{ei__model__types_8h_a936cf405a057a578f2bc7b540ccafe57}{ei\+\_\+impulse\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{impulse}{, }\item[{\mbox{\hyperlink{structei__feature__t}{ei\+\_\+feature\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{fmatrix}{, }\item[{uint32\+\_\+t}]{learn\+\_\+block\+\_\+index}{, }\item[{uint32\+\_\+t \texorpdfstring{$\ast$}{*}}]{input\+\_\+block\+\_\+ids}{, }\item[{uint32\+\_\+t}]{input\+\_\+block\+\_\+ids\+\_\+size}{, }\item[{\mbox{\hyperlink{structei__impulse__result__t}{ei\+\_\+impulse\+\_\+result\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{result}{, }\item[{void \texorpdfstring{$\ast$}{*}}]{config\+\_\+ptr}{, }\item[{bool}]{debug}{ = {\ttfamily false}}\end{DoxyParamCaption})}



Do neural network inferencing over the processed feature matrix. 


\begin{DoxyParams}[1]{Parameters}
 & {\em fmatrix} & Processed matrix \\
\hline
 & {\em result} & Output classifier results \\
\hline
\mbox{\texttt{ in}}  & {\em debug} & Debug output enable\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The ei impulse error. 
\end{DoxyReturn}
\Hypertarget{tflite__micro_8h_ad221acc09effbea805fa65a4332bb1a8}\index{tflite\_micro.h@{tflite\_micro.h}!run\_nn\_inference\_from\_dsp@{run\_nn\_inference\_from\_dsp}}
\index{run\_nn\_inference\_from\_dsp@{run\_nn\_inference\_from\_dsp}!tflite\_micro.h@{tflite\_micro.h}}
\doxysubsubsection{\texorpdfstring{run\_nn\_inference\_from\_dsp()}{run\_nn\_inference\_from\_dsp()}}
{\footnotesize\ttfamily \label{tflite__micro_8h_ad221acc09effbea805fa65a4332bb1a8} 
\mbox{\hyperlink{group__ei__returntypes_gad9580b47a6cd5e74cfc31a03bdfecebe}{EI\+\_\+\+IMPULSE\+\_\+\+ERROR}} run\+\_\+nn\+\_\+inference\+\_\+from\+\_\+dsp (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structei__learning__block__config__tflite__graph__t}{ei\+\_\+learning\+\_\+block\+\_\+config\+\_\+tflite\+\_\+graph\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{config}{, }\item[{\mbox{\hyperlink{group__ei__structs_gaa11c321d559d65dd1adff6af0edf54e4}{signal\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{signal}{, }\item[{\mbox{\hyperlink{numpy__types_8h_a41f3bec87e0ffe843126a70f2024fac0}{matrix\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{output\+\_\+matrix}{}\end{DoxyParamCaption})}



Do neural network inferencing over a signal (from the DSP) 


\begin{DoxyParams}[1]{Parameters}
 & {\em fmatrix} & Processed matrix \\
\hline
 & {\em result} & Output classifier results \\
\hline
\mbox{\texttt{ in}}  & {\em debug} & Debug output enable\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The ei impulse error. 
\end{DoxyReturn}


\doxysubsection{Variable Documentation}
\Hypertarget{tflite__micro_8h_a3658b236936f6ec57ce82f0fd8cbdabb}\index{tflite\_micro.h@{tflite\_micro.h}!config\_ptr@{config\_ptr}}
\index{config\_ptr@{config\_ptr}!tflite\_micro.h@{tflite\_micro.h}}
\doxysubsubsection{\texorpdfstring{config\_ptr}{config\_ptr}}
{\footnotesize\ttfamily \label{tflite__micro_8h_a3658b236936f6ec57ce82f0fd8cbdabb} 
\mbox{\hyperlink{numpy__types_8h_a41f3bec87e0ffe843126a70f2024fac0}{matrix\+\_\+t}} void\texorpdfstring{$\ast$}{*} config\+\_\+ptr}

\Hypertarget{tflite__micro_8h_a3898ea656a9ba90bf49f93ba3906d1ee}\index{tflite\_micro.h@{tflite\_micro.h}!ei\_config\_tflite\_graph\_0@{ei\_config\_tflite\_graph\_0}}
\index{ei\_config\_tflite\_graph\_0@{ei\_config\_tflite\_graph\_0}!tflite\_micro.h@{tflite\_micro.h}}
\doxysubsubsection{\texorpdfstring{ei\_config\_tflite\_graph\_0}{ei\_config\_tflite\_graph\_0}}
{\footnotesize\ttfamily \label{tflite__micro_8h_a3898ea656a9ba90bf49f93ba3906d1ee} 
\mbox{\hyperlink{structei__config__tflite__graph__t}{ei\+\_\+config\+\_\+tflite\+\_\+graph\+\_\+t}} ei\+\_\+config\+\_\+tflite\+\_\+graph\+\_\+0}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ .implementation\_version\ =\ 1,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ .model\ =\ dsp\_config-\/>model,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ .model\_size\ =\ dsp\_config-\/>model\_size,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ .arena\_size\ =\ dsp\_config-\/>arena\_size}
\DoxyCodeLine{\ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{tflite__micro_8h_ab7daefa6e7828a2d77c57f1b54404881}\index{tflite\_micro.h@{tflite\_micro.h}!ei\_learning\_block\_config@{ei\_learning\_block\_config}}
\index{ei\_learning\_block\_config@{ei\_learning\_block\_config}!tflite\_micro.h@{tflite\_micro.h}}
\doxysubsubsection{\texorpdfstring{ei\_learning\_block\_config}{ei\_learning\_block\_config}}
{\footnotesize\ttfamily \label{tflite__micro_8h_ab7daefa6e7828a2d77c57f1b54404881} 
\mbox{\hyperlink{structei__learning__block__config__tflite__graph__t}{ei\+\_\+learning\+\_\+block\+\_\+config\+\_\+tflite\+\_\+graph\+\_\+t}} ei\+\_\+learning\+\_\+block\+\_\+config}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ .implementation\_version\ =\ 1,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ .classification\_mode\ =\ \mbox{\hyperlink{ei__model__types_8h_a76c13cf6c356590ec9aa183c25b90a5e}{EI\_CLASSIFIER\_CLASSIFICATION\_MODE\_DSP}},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ .block\_id\ =\ dsp\_config-\/>block\_id,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ .object\_detection\ =\ \textcolor{keyword}{false},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ .object\_detection\_last\_layer\ =\ \mbox{\hyperlink{ei__model__types_8h_a67edebb42ed0ac73b3a4337ae07a281e}{EI\_CLASSIFIER\_LAST\_LAYER\_UNKNOWN}},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ .output\_data\_tensor\ =\ 0,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ .output\_labels\_tensor\ =\ 255,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ .output\_score\_tensor\ =\ 255,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ .threshold\ =\ 0,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ .quantized\ =\ 0,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ .compiled\ =\ 0,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ .graph\_config\ =\ \&\mbox{\hyperlink{tflite__micro_8h_a3898ea656a9ba90bf49f93ba3906d1ee}{ei\_config\_tflite\_graph\_0}}}
\DoxyCodeLine{\ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{tflite__micro_8h_a54eac5b77b39bd93efe5b92bbf779cd8}\index{tflite\_micro.h@{tflite\_micro.h}!EIDSP\_OK@{EIDSP\_OK}}
\index{EIDSP\_OK@{EIDSP\_OK}!tflite\_micro.h@{tflite\_micro.h}}
\doxysubsubsection{\texorpdfstring{EIDSP\_OK}{EIDSP\_OK}}
{\footnotesize\ttfamily \label{tflite__micro_8h_a54eac5b77b39bd93efe5b92bbf779cd8} 
return EIDSP\+\_\+\+OK}

\Hypertarget{tflite__micro_8h_a25c6eab61238d97eb4aaef9fc6d1fa4e}\index{tflite\_micro.h@{tflite\_micro.h}!frequency@{frequency}}
\index{frequency@{frequency}!tflite\_micro.h@{tflite\_micro.h}}
\doxysubsubsection{\texorpdfstring{frequency}{frequency}}
{\footnotesize\ttfamily \label{tflite__micro_8h_a25c6eab61238d97eb4aaef9fc6d1fa4e} 
\mbox{\hyperlink{numpy__types_8h_a41f3bec87e0ffe843126a70f2024fac0}{matrix\+\_\+t}} void const float frequency}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{structei__dsp__config__tflite__t}{ei\_dsp\_config\_tflite\_t}}\ *dsp\_config\ =\ (\mbox{\hyperlink{structei__dsp__config__tflite__t}{ei\_dsp\_config\_tflite\_t}}*)\mbox{\hyperlink{tflite__micro_8h_a3658b236936f6ec57ce82f0fd8cbdabb}{config\_ptr}}}

\end{DoxyCode}
\Hypertarget{tflite__micro_8h_aac4d93b158d42bda5829a01a9c507312}\index{tflite\_micro.h@{tflite\_micro.h}!output\_matrix@{output\_matrix}}
\index{output\_matrix@{output\_matrix}!tflite\_micro.h@{tflite\_micro.h}}
\doxysubsubsection{\texorpdfstring{output\_matrix}{output\_matrix}}
{\footnotesize\ttfamily \label{tflite__micro_8h_aac4d93b158d42bda5829a01a9c507312} 
\mbox{\hyperlink{numpy__types_8h_a41f3bec87e0ffe843126a70f2024fac0}{matrix\+\_\+t}}\texorpdfstring{$\ast$}{*} output\+\_\+matrix}

\Hypertarget{tflite__micro_8h_ab73668665ed1903aab8905ff035a33c5}\index{tflite\_micro.h@{tflite\_micro.h}!x@{x}}
\index{x@{x}!tflite\_micro.h@{tflite\_micro.h}}
\doxysubsubsection{\texorpdfstring{x}{x}}
{\footnotesize\ttfamily \label{tflite__micro_8h_ab73668665ed1903aab8905ff035a33c5} 
auto x = \mbox{\hyperlink{akida_8h_a85d5688f1dbc536dde02c237f84b5aa0}{run\+\_\+nn\+\_\+inference\+\_\+from\+\_\+dsp}}(\&\mbox{\hyperlink{akida_8h_ab7daefa6e7828a2d77c57f1b54404881}{ei\+\_\+learning\+\_\+block\+\_\+config}}, \mbox{\hyperlink{classei_1_1signal}{signal}}, \mbox{\hyperlink{ei__run__dsp_8h_a3ba015549c47e712909a20cde87dfe4f}{output\+\_\+matrix}})}

