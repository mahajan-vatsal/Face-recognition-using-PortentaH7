\chapter{CONTRIBUTING}
\hypertarget{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g}{}\label{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g}\index{CONTRIBUTING@{CONTRIBUTING}}

\begin{DoxyItemize}
\item How to Contribute
\begin{DoxyItemize}
\item Contributor License Agreement
\item Community Guidelines
\end{DoxyItemize}
\item Code Contribution Guidelines
\begin{DoxyItemize}
\item General Pull Request Guidelines
\item Guidelines for Specific Contribution Categories
\begin{DoxyItemize}
\item Bug Fixes
\item Reference Kernel Implementations
\item Optimized Kernel Implementations
\item New Target / Platform / IDE / Examples
\end{DoxyItemize}
\end{DoxyItemize}
\item Development Workflow Notes
\begin{DoxyItemize}
\item Initial Setup
\item Before submitting your PR
\item During the PR review
\item Reviewer notes
\item Python notes
\end{DoxyItemize}
\item Continuous Integration System
\end{DoxyItemize}\hypertarget{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md68}{}\doxysection{\texorpdfstring{How to Contribute}{How to Contribute}}\label{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md68}
We\textquotesingle{}d love to accept your patches and contributions to this project. There are just a few small guidelines you need to follow.\hypertarget{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md69}{}\doxysubsection{\texorpdfstring{Contributor License Agreement}{Contributor License Agreement}}\label{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md69}
Contributions to this project must be accompanied by a Contributor License Agreement (CLA). You (or your employer) retain the copyright to your contribution; this simply gives us permission to use and redistribute your contributions as part of the project. Head over to \href{https://cla.developers.google.com/}{\texttt{ https\+://cla.\+developers.\+google.\+com/}} to see your current agreements on file or to sign a new one.

You generally only need to submit a CLA once, so if you\textquotesingle{}ve already submitted one (even if it was for a different project), you probably don\textquotesingle{}t need to do it again.\hypertarget{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md70}{}\doxysubsection{\texorpdfstring{Community Guidelines}{Community Guidelines}}\label{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md70}
This project follows \href{https://opensource.google/conduct/}{\texttt{ Google\textquotesingle{}s Open Source Community Guidelines}}.\hypertarget{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md71}{}\doxysection{\texorpdfstring{Code Contribution Guidelines}{Code Contribution Guidelines}}\label{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md71}
We provide some general guidelines with the goal of enabling community contributions while still maintaining code health, maintainability, and consistency in style.

Please note that while these guidelines may seem onerous to some developers, they are derived from Google\textquotesingle{}s software engineering best practices.

Before we describe project-\/specific guidelines, we recommend that external contributors read these tips from the Google Testing Blog\+:


\begin{DoxyItemize}
\item \href{https://testing.googleblog.com/2017/09/code-health-providing-context-with.html}{\texttt{ Code Health\+: Providing Context with Commit Messages and Bug Reports}}
\item \href{https://testing.googleblog.com/2018/05/code-health-understanding-code-in-review.html}{\texttt{ Code Health\+: Understanding Code In Review}}
\item \href{https://testing.googleblog.com/2017/06/code-health-too-many-comments-on-your.html}{\texttt{ Code Health\+: Too Many Comments on Your Code Reviews?}}
\item \href{https://testing.googleblog.com/2017/07/code-health-to-comment-or-not-to-comment.html}{\texttt{ Code Health\+: To Comment or Not to Comment?}}
\end{DoxyItemize}

We also recommend that contributors take a look at the \href{https://github.com/tensorflow/tensorflow/blob/master/CONTRIBUTING.md}{\texttt{ Tensorflow Contributing Guidelines}}.\hypertarget{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md72}{}\doxysubsection{\texorpdfstring{General Pull Request Guidelines}{General Pull Request Guidelines}}\label{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md72}
We strongly recommend that contributors\+:


\begin{DoxyEnumerate}
\item Initiate a conversation with the TFLM team via a \href{https://github.com/tensorflow/tensorflow/issues/new?labels=comp\%3Amicro&template=70-tflite-micro-issue.md}{\texttt{ TF Lite Micro Github issue}} as early as possible.
\begin{DoxyItemize}
\item This enables us to give guidance on how to proceed, prevent duplicated effort and also point to alternatives as well as context if we are not able to accept a particular contribution at a given time.
\item Ideally, you should make an issue {\itshape {\bfseries{before}}} starting to work on a pull request and provide context on both what you want to contribute and why.
\end{DoxyItemize}
\end{DoxyEnumerate}
\begin{DoxyEnumerate}
\item Once step 1. is complete and it is determined that a PR from an external contributor is the way to go, please follow these guidelines from \href{https://google.github.io/eng-practices/}{\texttt{ Google\textquotesingle{}s Engineering Practices documentation}}\+:
\begin{DoxyItemize}
\item \href{https://google.github.io/eng-practices/review/developer/small-cls.html}{\texttt{ Send Small Pull Requests}}
\begin{DoxyItemize}
\item If a pull request is doing more than one thing, the reviewer will request that it be broken up into two or more PRs.
\end{DoxyItemize}
\item \href{https://google.github.io/eng-practices/review/developer/cl-descriptions.html}{\texttt{ Write Good Pull Request Descriptions}}
\begin{DoxyItemize}
\item We require that all PR descriptions link to the Git\+Hub issue created in step 1 via the text {\ttfamily BUG=\#nn} on a line by itself \mbox{[}\texorpdfstring{$^\wedge$}{\string^}1\mbox{]}. This is enforced by CI.

\mbox{[}\texorpdfstring{$^\wedge$}{\string^}1\mbox{]}\+: This despite Git\+Hub having additional forms of \href{https://docs.github.com/en/get-started/writing-on-github/working-with-advanced-formatting/autolinked-references-and-urls}{\texttt{ linked references}}.
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyEnumerate}
\begin{DoxyEnumerate}
\item Unit tests are critical to a healthy codebase. PRs without tests should be the exception rather than the norm. And contributions to improve, simplify, or make the unit tests more exhaustive are welcome! Please refer to \href{https://google.github.io/eng-practices/review/developer/small-cls.html\#test_code}{\texttt{ this guideline}} on how test code and writing small PRs should be reconciled.
\end{DoxyEnumerate}\hypertarget{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md73}{}\doxysubsection{\texorpdfstring{Guidelines for Specific Contribution Categories}{Guidelines for Specific Contribution Categories}}\label{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md73}
We provide some additional guidelines for different categories of contributions.\hypertarget{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md74}{}\doxysubsubsection{\texorpdfstring{Bug Fixes}{Bug Fixes}}\label{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md74}
Pull requests that fix bugs are always welcome and often uncontroversial, unless there is a conflict between different requirements from the platform, or if fixing a bug needs a bigger architectural change.


\begin{DoxyEnumerate}
\item Create a \href{https://github.com/tensorflow/tflite-micro/issues/new/choose}{\texttt{ Github issue}} to determine the scope of the bug fix.
\end{DoxyEnumerate}
\begin{DoxyEnumerate}
\item Send a PR (if that is determined to be the best path forward).
\end{DoxyEnumerate}
\begin{DoxyEnumerate}
\item Bugfix PRs should be accompanied by a test case that fails prior to the fix and passes with the fix. This validates that the fix works as expected, and helps prevent future regressions.
\end{DoxyEnumerate}\hypertarget{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md75}{}\doxysubsubsection{\texorpdfstring{Reference Kernel Implementations}{Reference Kernel Implementations}}\label{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md75}
Pull requests that port reference kernels from TF Lite Mobile to TF Lite Micro are welcome once we have context from the contributor on why the additional kernel is needed.

Please see the \doxysectlink{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2tensorflow_2lite_e2cc8d602e76088df71202fcf3d8bf60}{reference kernel porting guide}{0} for more details of that process.\hypertarget{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md76}{}\doxysubsubsection{\texorpdfstring{Optimized Kernel Implementations}{Optimized Kernel Implementations}}\label{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md76}
Please see the \doxysectlink{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2tensorflow_2lite_3952fae331b4acfd9647a397f96b4a4e}{optimized kernel implementations guide}{0}.\hypertarget{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md77}{}\doxysubsubsection{\texorpdfstring{New Target / Platform / IDE / Examples}{New Target / Platform / IDE / Examples}}\label{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md77}
Please see the \doxysectlink{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2tensorflow_2lite_6cbbd7b866c44efe308573f729f516bd}{new platform support guide}{0} for documentation on how to add TFLM support for your particular platform.\hypertarget{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md78}{}\doxysection{\texorpdfstring{Development Workflow Notes}{Development Workflow Notes}}\label{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md78}
\hypertarget{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md79}{}\doxysubsection{\texorpdfstring{Initial Setup}{Initial Setup}}\label{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md79}
Below are some tips that might be useful and improve the development experience.


\begin{DoxyItemize}
\item Add the \href{https://github.com/sindresorhus/refined-github}{\texttt{ Refined Git\+Hub}} plugin to make the github experience even better.
\item Code search the \href{https://sourcegraph.com/github.com/tensorflow/tflite-micro@main}{\texttt{ Tf\+Lite Micro codebase}} on Sourcegraph. And optionally install the \href{https://docs.sourcegraph.com/integration/github\#github-integration-with-sourcegraph}{\texttt{ plugin that enables Git\+Hub integration}}.
\item Install \href{ci/install_bazelisk.sh}{\texttt{ bazel}} and \href{ci/install_buildifier.sh}{\texttt{ buildifier}}.
\item Install the latest clang and clang-\/format. For example, \href{ci/Dockerfile.micro}{\texttt{ here}} is the what we do for the TFLM continuous integration Docker container.
\item Get a copy of \href{https://github.com/google/styleguide/tree/gh-pages/cpplint}{\texttt{ cpplint}} or install it\+:
\item Install Pillow and Wave. For example, \href{ci/Dockerfile.micro}{\texttt{ here}} is what we do for the TFLM continuous integration Docker container.


\begin{DoxyCode}{0}
\DoxyCodeLine{pip\ install\ cpplint}

\end{DoxyCode}

\item \href{https://github.com/google/yapf/}{\texttt{ yapf}} should be used for formatting Python code. For example\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{pip\ install\ yapf}
\DoxyCodeLine{yapf\ log\_parser.py\ -\/i\ -\/-\/style='\{based\_on\_style:\ pep8,\ indent\_width:\ 2\}'}

\end{DoxyCode}

\item Add a git hook to check for code style etc. prior to creating a pull request\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{cp\ tensorflow/lite/micro/tools/dev\_setup/pre-\/push.tflm\ .git/hooks/pre-\/push}

\end{DoxyCode}

\end{DoxyItemize}\hypertarget{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md80}{}\doxysubsection{\texorpdfstring{Before submitting your PR}{Before submitting your PR}}\label{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md80}

\begin{DoxyEnumerate}
\item Run in-\/place clang-\/format on all the files that are modified in your git tree with

{\ttfamily  clang-\/format -\/i -\/style=google \`{}git ls-\/files -\/m \texorpdfstring{$\vert$}{|} grep "{}\textbackslash{}.\+cc"{}\`{} clang-\/format -\/i -\/style=google \`{}git ls-\/files -\/m \texorpdfstring{$\vert$}{|} grep "{}\textbackslash{}.\+h"{}\`{} }
\end{DoxyEnumerate}
\begin{DoxyEnumerate}
\item Make sure your code is lint-\/free.

{\ttfamily  cpplint \`{}git ls-\/files -\/m\`{} }
\end{DoxyEnumerate}
\begin{DoxyEnumerate}
\item Run all the tests for x86, and any other platform that you are modifying.

{\ttfamily  tensorflow/lite/micro/tools/ci\+\_\+build/test\+\_\+x86\+\_\+default.\+sh }

Please check the READMEs in the optimized kernel directories for specific instructions.
\end{DoxyEnumerate}
\begin{DoxyEnumerate}
\item Sometimes, bugs are caught by the sanitizers that can go unnoticed via the Makefile. To run a test with the different sanitizers, use the following commands (replace {\ttfamily micro\+\_\+interpreter\+\_\+test} with the target that you want to test\+:

{\ttfamily  CC=clang bazel run -\/-\/config=asan tensorflow/lite/micro\+:micro\+\_\+interpreter\+\_\+test CC=clang bazel run -\/-\/config=msan tensorflow/lite/micro\+:micro\+\_\+interpreter\+\_\+test CC=clang bazel run -\/-\/config=ubsan tensorflow/lite/micro\+:micro\+\_\+interpreter\+\_\+test }
\end{DoxyEnumerate}\hypertarget{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md81}{}\doxysubsection{\texorpdfstring{During the PR review}{During the PR review}}\label{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md81}

\begin{DoxyEnumerate}
\item Do not change the git version history.
\begin{DoxyItemize}
\item Always merge upstream/main ({\itshape {\bfseries{do not rebase}}}) and no force-\/pushes please.
\item Having an extra merge commit is ok as the github review tool handles that gracefully.
\end{DoxyItemize}

Assuming that you forked tensorflow and added a remote called upstream with\+:

{\ttfamily  git remote add upstream \href{https://github.com/tensorflow/tflite-micro.git}{\texttt{ https\+://github.\+com/tensorflow/tflite-\/micro.\+git}} }

Fetch the latest changes from upstream and merge into your local branch.

{\ttfamily  git fetch upstream git merge upstream/main }

In case of a merge conflict, resolve via\+:

\`{}\`{}\`{} git mergetool
\end{DoxyEnumerate}\hypertarget{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md82}{}\doxysection{\texorpdfstring{Use your favorite diff tools (e.\+g. meld) to resolve the conflicts.}{Use your favorite diff tools (e.\+g. meld) to resolve the conflicts.}}\label{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md82}
git add $<$files that were manually resolved$>$

git commit \`{}\`{}\`{}


\begin{DoxyEnumerate}
\item If a force push seems to be the only path forward, please stop and let your PR reviewer know {\itshape {\bfseries{before}}} force pushing. We will attempt to do the merge for you. This will also help us better understand in what conditions a force-\/push may be unavoidable.
\end{DoxyEnumerate}\hypertarget{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md83}{}\doxysubsection{\texorpdfstring{Reviewer notes}{Reviewer notes}}\label{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md83}

\begin{DoxyItemize}
\item \href{https://cli.github.com}{\texttt{ GIthub CLI}} can be useful to quickly checkout a PR to test locally.

{\ttfamily gh pr checkout \texorpdfstring{$<$}{<}PR number\texorpdfstring{$>$}{>}}
\item Google engineers on the Tensorflow team will have the permissions to push edits to most PRs. This can be useful to make some small fixes as a result of errors due to internal checks that are not easily reproducible via github.

One example of this is \href{https://github.com/tensorflow/tensorflow/pull/38634\#issuecomment-683190474}{\texttt{ this comment}}.

And a sketch of the steps\+:

\`{}\`{}\`{} git remote add $<$remote\+\_\+name$>$ \href{mailto:git@github.com}{\texttt{ git@github.\+com}}\+:$<$\+PR author$>$/tflite-\/micro.git git fetch $<$remote\+\_\+name$>$

git checkout -\/b \texorpdfstring{$<$}{<}local-\/branch-\/name\texorpdfstring{$>$}{>} $<$remote\+\_\+name$>$/$<$\+PR branch name$>$
\end{DoxyItemize}\hypertarget{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md84}{}\doxysection{\texorpdfstring{make changes and commit to local branch}{make changes and commit to local branch}}\label{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md84}
\hypertarget{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md85}{}\doxysection{\texorpdfstring{push changes to remove branch}{push changes to remove branch}}\label{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md85}
git push $<$remote\+\_\+name$>$ $<$\+PR branch name$>$\hypertarget{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md86}{}\doxysection{\texorpdfstring{remove the temp remote to clean up your git environment.}{remove the temp remote to clean up your git environment.}}\label{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md86}
git remote rm $<$remote\+\_\+name$>$ \`{}\`{}\`{}\hypertarget{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md87}{}\doxysubsection{\texorpdfstring{Python notes}{Python notes}}\label{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md87}

\begin{DoxyItemize}
\item \doxysectlink{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2docs_2python}{TFLM Python guide}{0}
\end{DoxyItemize}\hypertarget{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md88}{}\doxysection{\texorpdfstring{Continuous Integration System}{Continuous Integration System}}\label{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2_c_o_n_t_r_i_b_u_t_i_n_g_autotoc_md88}

\begin{DoxyItemize}
\item Some \doxysectlink{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-main_2docs_2continuous__integration}{additional documentation}{0} on the TFLM CI. 
\end{DoxyItemize}