\doxysection{Face\+\_\+\+Access\+\_\+inferencing/src/edge-\/impulse-\/sdk/porting/ethos-\/core-\/driver/include/ethosu\+\_\+driver.h File Reference}
\hypertarget{ethosu__driver_8h}{}\label{ethosu__driver_8h}\index{Face\_Access\_inferencing/src/edge-\/impulse-\/sdk/porting/ethos-\/core-\/driver/include/ethosu\_driver.h@{Face\_Access\_inferencing/src/edge-\/impulse-\/sdk/porting/ethos-\/core-\/driver/include/ethosu\_driver.h}}
{\ttfamily \#include "{}ethosu\+\_\+types.\+h"{}}\newline
{\ttfamily \#include $<$stdbool.\+h$>$}\newline
{\ttfamily \#include $<$stddef.\+h$>$}\newline
{\ttfamily \#include $<$stdint.\+h$>$}\newline
Include dependency graph for ethosu\+\_\+driver.\+h\+:
% FIG 0
This graph shows which files directly or indirectly include this file\+:
% FIG 1
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structethosu__job}{ethosu\+\_\+job}}
\item 
struct \mbox{\hyperlink{structethosu__driver}{ethosu\+\_\+driver}}
\item 
struct \mbox{\hyperlink{structethosu__driver__version}{ethosu\+\_\+driver\+\_\+version}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{ethosu__driver_8h_a6f07d5fa4712e2be055784fd066fe0d3}{ETHOSU\+\_\+\+DRIVER\+\_\+\+VERSION\+\_\+\+MAJOR}}~0
\begin{DoxyCompactList}\small\item\em Driver major version. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{ethosu__driver_8h_a9c620fdcfdb44303add3b86112543753}{ETHOSU\+\_\+\+DRIVER\+\_\+\+VERSION\+\_\+\+MINOR}}~16
\begin{DoxyCompactList}\small\item\em Driver minor version. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{ethosu__driver_8h_a1d7b1d419081609d09c5956d429f2d8b}{ETHOSU\+\_\+\+DRIVER\+\_\+\+VERSION\+\_\+\+PATCH}}~0
\begin{DoxyCompactList}\small\item\em Driver patch version. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{ethosu__driver_8h_acb36dd631c5120745021f8848a5f4de6}{ethosu\+\_\+invoke}}(drv,  custom\+\_\+data\+\_\+ptr,  custom\+\_\+data\+\_\+size,  base\+\_\+addr,  base\+\_\+addr\+\_\+size,  num\+\_\+base\+\_\+addr)
\end{DoxyCompactItemize}
\doxysubsubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{ethosu__driver_8h_af325d0e0c079dbaa52529641a9493b29}{ethosu\+\_\+job\+\_\+state}} \{ \mbox{\hyperlink{ethosu__driver_8h_af325d0e0c079dbaa52529641a9493b29aa2ced89e403159b4e31a00afb554c842}{ETHOSU\+\_\+\+JOB\+\_\+\+IDLE}} = 0
, \mbox{\hyperlink{ethosu__driver_8h_af325d0e0c079dbaa52529641a9493b29aad90c4bcae1504f34767fceb1a5b0378}{ETHOSU\+\_\+\+JOB\+\_\+\+RUNNING}}
, \mbox{\hyperlink{ethosu__driver_8h_af325d0e0c079dbaa52529641a9493b29af32aeedb3760945b7c437112d1c90e64}{ETHOSU\+\_\+\+JOB\+\_\+\+DONE}}
 \}
\item 
enum \mbox{\hyperlink{ethosu__driver_8h_a54833c422d75738d6d1aa595398038a6}{ethosu\+\_\+request\+\_\+clients}} \{ \mbox{\hyperlink{ethosu__driver_8h_a54833c422d75738d6d1aa595398038a6af99fc50d5ae6302d46f4eab1db852cd9}{ETHOSU\+\_\+\+PMU\+\_\+\+REQUEST}} = 0
, \mbox{\hyperlink{ethosu__driver_8h_a54833c422d75738d6d1aa595398038a6ae171d784a6be566ccf81c6b38c2bc508}{ETHOSU\+\_\+\+INFERENCE\+\_\+\+REQUEST}} = 1
 \}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{ethosu__driver_8h_a55fec2a7ca5b5b51dc7c3d18914a3f03}{ethosu\+\_\+irq\+\_\+handler}} (struct \mbox{\hyperlink{structethosu__driver}{ethosu\+\_\+driver}} \texorpdfstring{$\ast$}{*}drv)
\item 
void \mbox{\hyperlink{ethosu__driver_8h_a7b987defaaf902770c8c0ea9fa8ac591}{ethosu\+\_\+flush\+\_\+dcache}} (uint32\+\_\+t \texorpdfstring{$\ast$}{*}p, size\+\_\+t bytes)
\item 
void \mbox{\hyperlink{ethosu__driver_8h_a57f77addf22bcd9edfdbb4b68a2363ef}{ethosu\+\_\+invalidate\+\_\+dcache}} (uint32\+\_\+t \texorpdfstring{$\ast$}{*}p, size\+\_\+t bytes)
\item 
void \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{ethosu__driver_8h_a263037460610168af74801efae3385a2}{ethosu\+\_\+mutex\+\_\+create}} (void)
\item 
void \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{ethosu__driver_8h_a4bb4d49e7ba5ec009af2796fe77e349a}{ethosu\+\_\+semaphore\+\_\+create}} (void)
\item 
int \mbox{\hyperlink{ethosu__driver_8h_a17827ea06a500bad6bda5aa9e751f4f1}{ethosu\+\_\+mutex\+\_\+lock}} (void \texorpdfstring{$\ast$}{*}mutex)
\item 
int \mbox{\hyperlink{ethosu__driver_8h_aa0075944c4284c6ced884698e560eea4}{ethosu\+\_\+mutex\+\_\+unlock}} (void \texorpdfstring{$\ast$}{*}mutex)
\item 
int \mbox{\hyperlink{ethosu__driver_8h_a316d572123877e0466647652854ddaa7}{ethosu\+\_\+semaphore\+\_\+take}} (void \texorpdfstring{$\ast$}{*}sem)
\item 
int \mbox{\hyperlink{ethosu__driver_8h_a71614f92cb653bed7b7632b0362939b4}{ethosu\+\_\+semaphore\+\_\+give}} (void \texorpdfstring{$\ast$}{*}sem)
\item 
void \mbox{\hyperlink{ethosu__driver_8h_a04b34ee5d2328ecdfc7d464761f6cb7f}{ethosu\+\_\+inference\+\_\+begin}} (struct \mbox{\hyperlink{structethosu__driver}{ethosu\+\_\+driver}} \texorpdfstring{$\ast$}{*}drv, void \texorpdfstring{$\ast$}{*}user\+\_\+arg)
\item 
void \mbox{\hyperlink{ethosu__driver_8h_abe0e7014df596c89393c3bce70c4ee0c}{ethosu\+\_\+inference\+\_\+end}} (struct \mbox{\hyperlink{structethosu__driver}{ethosu\+\_\+driver}} \texorpdfstring{$\ast$}{*}drv, void \texorpdfstring{$\ast$}{*}user\+\_\+arg)
\item 
uint64\+\_\+t \mbox{\hyperlink{ethosu__driver_8h_aada1c421a052cbdcfd5f1c8c31cd8c4a}{ethosu\+\_\+address\+\_\+remap}} (uint64\+\_\+t address, int index)
\item 
int \mbox{\hyperlink{ethosu__driver_8h_ae021e7e1e40a33303dcc17041a1f2911}{ethosu\+\_\+init}} (struct \mbox{\hyperlink{structethosu__driver}{ethosu\+\_\+driver}} \texorpdfstring{$\ast$}{*}drv, void \texorpdfstring{$\ast$}{*}const base\+\_\+address, const void \texorpdfstring{$\ast$}{*}fast\+\_\+memory, const size\+\_\+t fast\+\_\+memory\+\_\+size, uint32\+\_\+t secure\+\_\+enable, uint32\+\_\+t privilege\+\_\+enable)
\item 
void \mbox{\hyperlink{ethosu__driver_8h_a7d07a2c3e7c66236d31986c191c7c6e1}{ethosu\+\_\+deinit}} (struct \mbox{\hyperlink{structethosu__driver}{ethosu\+\_\+driver}} \texorpdfstring{$\ast$}{*}drv)
\item 
int \mbox{\hyperlink{ethosu__driver_8h_a480a7f7b324b3be61c1a9ffc92be9f3a}{ethosu\+\_\+soft\+\_\+reset}} (struct \mbox{\hyperlink{structethosu__driver}{ethosu\+\_\+driver}} \texorpdfstring{$\ast$}{*}drv)
\item 
int \mbox{\hyperlink{ethosu__driver_8h_a296ee3333eec28a0aa57940af26664c9}{ethosu\+\_\+request\+\_\+power}} (struct \mbox{\hyperlink{structethosu__driver}{ethosu\+\_\+driver}} \texorpdfstring{$\ast$}{*}drv)
\item 
void \mbox{\hyperlink{ethosu__driver_8h_aa7aa51e0c8d7757f3ca28b0ad4303558}{ethosu\+\_\+release\+\_\+power}} (struct \mbox{\hyperlink{structethosu__driver}{ethosu\+\_\+driver}} \texorpdfstring{$\ast$}{*}drv)
\item 
void \mbox{\hyperlink{ethosu__driver_8h_a061d3040dbd395073b51968bc2e91d55}{ethosu\+\_\+get\+\_\+driver\+\_\+version}} (struct \mbox{\hyperlink{structethosu__driver__version}{ethosu\+\_\+driver\+\_\+version}} \texorpdfstring{$\ast$}{*}ver)
\item 
void \mbox{\hyperlink{ethosu__driver_8h_a583bd9f7a0ae2cabfecf6b2843adcc56}{ethosu\+\_\+get\+\_\+hw\+\_\+info}} (struct \mbox{\hyperlink{structethosu__driver}{ethosu\+\_\+driver}} \texorpdfstring{$\ast$}{*}drv, struct \mbox{\hyperlink{structethosu__hw__info}{ethosu\+\_\+hw\+\_\+info}} \texorpdfstring{$\ast$}{*}hw)
\item 
int \mbox{\hyperlink{ethosu__driver_8h_a6965f708d5951842cd6f8cfe26a35868}{ethosu\+\_\+invoke\+\_\+v3}} (struct \mbox{\hyperlink{structethosu__driver}{ethosu\+\_\+driver}} \texorpdfstring{$\ast$}{*}drv, const void \texorpdfstring{$\ast$}{*}custom\+\_\+data\+\_\+ptr, const int custom\+\_\+data\+\_\+size, uint64\+\_\+t \texorpdfstring{$\ast$}{*}const base\+\_\+addr, const size\+\_\+t \texorpdfstring{$\ast$}{*}base\+\_\+addr\+\_\+size, const int num\+\_\+base\+\_\+addr, void \texorpdfstring{$\ast$}{*}user\+\_\+arg)
\item 
int \mbox{\hyperlink{ethosu__driver_8h_a7a052a3c7ea0c14992b3dc2cd6e20d0b}{ethosu\+\_\+invoke\+\_\+async}} (struct \mbox{\hyperlink{structethosu__driver}{ethosu\+\_\+driver}} \texorpdfstring{$\ast$}{*}drv, const void \texorpdfstring{$\ast$}{*}custom\+\_\+data\+\_\+ptr, const int custom\+\_\+data\+\_\+size, uint64\+\_\+t \texorpdfstring{$\ast$}{*}const base\+\_\+addr, const size\+\_\+t \texorpdfstring{$\ast$}{*}base\+\_\+addr\+\_\+size, const int num\+\_\+base\+\_\+addr, void \texorpdfstring{$\ast$}{*}user\+\_\+arg)
\item 
int \mbox{\hyperlink{ethosu__driver_8h_a33e63dcf2625e5b10d07193490b6323b}{ethosu\+\_\+wait}} (struct \mbox{\hyperlink{structethosu__driver}{ethosu\+\_\+driver}} \texorpdfstring{$\ast$}{*}drv, bool block)
\item 
struct \mbox{\hyperlink{structethosu__driver}{ethosu\+\_\+driver}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{ethosu__driver_8h_a92c30eeceb5152d6f06ff9c5859a1381}{ethosu\+\_\+reserve\+\_\+driver}} (void)
\item 
void \mbox{\hyperlink{ethosu__driver_8h_a6e97d1e64ca7d2cbaa89230bce0a2dde}{ethosu\+\_\+release\+\_\+driver}} (struct \mbox{\hyperlink{structethosu__driver}{ethosu\+\_\+driver}} \texorpdfstring{$\ast$}{*}drv)
\item 
static int \mbox{\hyperlink{ethosu__driver_8h_a6575dfaa69fcd2ed61ed72f767acc007}{ethosu\+\_\+invoke\+\_\+v2}} (const void \texorpdfstring{$\ast$}{*}custom\+\_\+data\+\_\+ptr, const int custom\+\_\+data\+\_\+size, uint64\+\_\+t \texorpdfstring{$\ast$}{*}const base\+\_\+addr, const size\+\_\+t \texorpdfstring{$\ast$}{*}base\+\_\+addr\+\_\+size, const int num\+\_\+base\+\_\+addr)
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\Hypertarget{ethosu__driver_8h_a6f07d5fa4712e2be055784fd066fe0d3}\index{ethosu\_driver.h@{ethosu\_driver.h}!ETHOSU\_DRIVER\_VERSION\_MAJOR@{ETHOSU\_DRIVER\_VERSION\_MAJOR}}
\index{ETHOSU\_DRIVER\_VERSION\_MAJOR@{ETHOSU\_DRIVER\_VERSION\_MAJOR}!ethosu\_driver.h@{ethosu\_driver.h}}
\doxysubsubsection{\texorpdfstring{ETHOSU\_DRIVER\_VERSION\_MAJOR}{ETHOSU\_DRIVER\_VERSION\_MAJOR}}
{\footnotesize\ttfamily \label{ethosu__driver_8h_a6f07d5fa4712e2be055784fd066fe0d3} 
\#define ETHOSU\+\_\+\+DRIVER\+\_\+\+VERSION\+\_\+\+MAJOR~0}



Driver major version. 

\Hypertarget{ethosu__driver_8h_a9c620fdcfdb44303add3b86112543753}\index{ethosu\_driver.h@{ethosu\_driver.h}!ETHOSU\_DRIVER\_VERSION\_MINOR@{ETHOSU\_DRIVER\_VERSION\_MINOR}}
\index{ETHOSU\_DRIVER\_VERSION\_MINOR@{ETHOSU\_DRIVER\_VERSION\_MINOR}!ethosu\_driver.h@{ethosu\_driver.h}}
\doxysubsubsection{\texorpdfstring{ETHOSU\_DRIVER\_VERSION\_MINOR}{ETHOSU\_DRIVER\_VERSION\_MINOR}}
{\footnotesize\ttfamily \label{ethosu__driver_8h_a9c620fdcfdb44303add3b86112543753} 
\#define ETHOSU\+\_\+\+DRIVER\+\_\+\+VERSION\+\_\+\+MINOR~16}



Driver minor version. 

\Hypertarget{ethosu__driver_8h_a1d7b1d419081609d09c5956d429f2d8b}\index{ethosu\_driver.h@{ethosu\_driver.h}!ETHOSU\_DRIVER\_VERSION\_PATCH@{ETHOSU\_DRIVER\_VERSION\_PATCH}}
\index{ETHOSU\_DRIVER\_VERSION\_PATCH@{ETHOSU\_DRIVER\_VERSION\_PATCH}!ethosu\_driver.h@{ethosu\_driver.h}}
\doxysubsubsection{\texorpdfstring{ETHOSU\_DRIVER\_VERSION\_PATCH}{ETHOSU\_DRIVER\_VERSION\_PATCH}}
{\footnotesize\ttfamily \label{ethosu__driver_8h_a1d7b1d419081609d09c5956d429f2d8b} 
\#define ETHOSU\+\_\+\+DRIVER\+\_\+\+VERSION\+\_\+\+PATCH~0}



Driver patch version. 

\Hypertarget{ethosu__driver_8h_acb36dd631c5120745021f8848a5f4de6}\index{ethosu\_driver.h@{ethosu\_driver.h}!ethosu\_invoke@{ethosu\_invoke}}
\index{ethosu\_invoke@{ethosu\_invoke}!ethosu\_driver.h@{ethosu\_driver.h}}
\doxysubsubsection{\texorpdfstring{ethosu\_invoke}{ethosu\_invoke}}
{\footnotesize\ttfamily \label{ethosu__driver_8h_acb36dd631c5120745021f8848a5f4de6} 
\#define ethosu\+\_\+invoke(\begin{DoxyParamCaption}\item[{}]{drv}{, }\item[{}]{custom\+\_\+data\+\_\+ptr}{, }\item[{}]{custom\+\_\+data\+\_\+size}{, }\item[{}]{base\+\_\+addr}{, }\item[{}]{base\+\_\+addr\+\_\+size}{, }\item[{}]{num\+\_\+base\+\_\+addr}{}\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{ethosu__driver_8h_a6965f708d5951842cd6f8cfe26a35868}{ethosu\_invoke\_v3}}(drv,\ custom\_data\_ptr,\ custom\_data\_size,\ base\_addr,\ base\_addr\_size,\ num\_base\_addr,\ 0)}

\end{DoxyCode}


\doxysubsection{Enumeration Type Documentation}
\Hypertarget{ethosu__driver_8h_af325d0e0c079dbaa52529641a9493b29}\index{ethosu\_driver.h@{ethosu\_driver.h}!ethosu\_job\_state@{ethosu\_job\_state}}
\index{ethosu\_job\_state@{ethosu\_job\_state}!ethosu\_driver.h@{ethosu\_driver.h}}
\doxysubsubsection{\texorpdfstring{ethosu\_job\_state}{ethosu\_job\_state}}
{\footnotesize\ttfamily \label{ethosu__driver_8h_af325d0e0c079dbaa52529641a9493b29} 
enum \mbox{\hyperlink{ethosu__driver_8h_af325d0e0c079dbaa52529641a9493b29}{ethosu\+\_\+job\+\_\+state}}}

\begin{DoxyEnumFields}[2]{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{ETHOSU\_JOB\_IDLE@{ETHOSU\_JOB\_IDLE}!ethosu\_driver.h@{ethosu\_driver.h}}\index{ethosu\_driver.h@{ethosu\_driver.h}!ETHOSU\_JOB\_IDLE@{ETHOSU\_JOB\_IDLE}}}\Hypertarget{ethosu__driver_8h_af325d0e0c079dbaa52529641a9493b29aa2ced89e403159b4e31a00afb554c842}\label{ethosu__driver_8h_af325d0e0c079dbaa52529641a9493b29} 
ETHOSU\+\_\+\+JOB\+\_\+\+IDLE&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{ETHOSU\_JOB\_RUNNING@{ETHOSU\_JOB\_RUNNING}!ethosu\_driver.h@{ethosu\_driver.h}}\index{ethosu\_driver.h@{ethosu\_driver.h}!ETHOSU\_JOB\_RUNNING@{ETHOSU\_JOB\_RUNNING}}}\Hypertarget{ethosu__driver_8h_af325d0e0c079dbaa52529641a9493b29aad90c4bcae1504f34767fceb1a5b0378}\label{ethosu__driver_8h_af325d0e0c079dbaa52529641a9493b29} 
ETHOSU\+\_\+\+JOB\+\_\+\+RUNNING&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{ETHOSU\_JOB\_DONE@{ETHOSU\_JOB\_DONE}!ethosu\_driver.h@{ethosu\_driver.h}}\index{ethosu\_driver.h@{ethosu\_driver.h}!ETHOSU\_JOB\_DONE@{ETHOSU\_JOB\_DONE}}}\Hypertarget{ethosu__driver_8h_af325d0e0c079dbaa52529641a9493b29af32aeedb3760945b7c437112d1c90e64}\label{ethosu__driver_8h_af325d0e0c079dbaa52529641a9493b29} 
ETHOSU\+\_\+\+JOB\+\_\+\+DONE&\\
\hline

\end{DoxyEnumFields}
\Hypertarget{ethosu__driver_8h_a54833c422d75738d6d1aa595398038a6}\index{ethosu\_driver.h@{ethosu\_driver.h}!ethosu\_request\_clients@{ethosu\_request\_clients}}
\index{ethosu\_request\_clients@{ethosu\_request\_clients}!ethosu\_driver.h@{ethosu\_driver.h}}
\doxysubsubsection{\texorpdfstring{ethosu\_request\_clients}{ethosu\_request\_clients}}
{\footnotesize\ttfamily \label{ethosu__driver_8h_a54833c422d75738d6d1aa595398038a6} 
enum \mbox{\hyperlink{ethosu__driver_8h_a54833c422d75738d6d1aa595398038a6}{ethosu\+\_\+request\+\_\+clients}}}

\begin{DoxyEnumFields}[2]{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{ETHOSU\_PMU\_REQUEST@{ETHOSU\_PMU\_REQUEST}!ethosu\_driver.h@{ethosu\_driver.h}}\index{ethosu\_driver.h@{ethosu\_driver.h}!ETHOSU\_PMU\_REQUEST@{ETHOSU\_PMU\_REQUEST}}}\Hypertarget{ethosu__driver_8h_a54833c422d75738d6d1aa595398038a6af99fc50d5ae6302d46f4eab1db852cd9}\label{ethosu__driver_8h_a54833c422d75738d6d1aa595398038a6} 
ETHOSU\+\_\+\+PMU\+\_\+\+REQUEST&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{ETHOSU\_INFERENCE\_REQUEST@{ETHOSU\_INFERENCE\_REQUEST}!ethosu\_driver.h@{ethosu\_driver.h}}\index{ethosu\_driver.h@{ethosu\_driver.h}!ETHOSU\_INFERENCE\_REQUEST@{ETHOSU\_INFERENCE\_REQUEST}}}\Hypertarget{ethosu__driver_8h_a54833c422d75738d6d1aa595398038a6ae171d784a6be566ccf81c6b38c2bc508}\label{ethosu__driver_8h_a54833c422d75738d6d1aa595398038a6} 
ETHOSU\+\_\+\+INFERENCE\+\_\+\+REQUEST&\\
\hline

\end{DoxyEnumFields}


\doxysubsection{Function Documentation}
\Hypertarget{ethosu__driver_8h_aada1c421a052cbdcfd5f1c8c31cd8c4a}\index{ethosu\_driver.h@{ethosu\_driver.h}!ethosu\_address\_remap@{ethosu\_address\_remap}}
\index{ethosu\_address\_remap@{ethosu\_address\_remap}!ethosu\_driver.h@{ethosu\_driver.h}}
\doxysubsubsection{\texorpdfstring{ethosu\_address\_remap()}{ethosu\_address\_remap()}}
{\footnotesize\ttfamily \label{ethosu__driver_8h_aada1c421a052cbdcfd5f1c8c31cd8c4a} 
uint64\+\_\+t ethosu\+\_\+address\+\_\+remap (\begin{DoxyParamCaption}\item[{uint64\+\_\+t}]{address}{, }\item[{int}]{index}{}\end{DoxyParamCaption})}

Remapping command stream and base pointer addresses.


\begin{DoxyParams}{Parameters}
{\em address} & Address to be remapped. \\
\hline
{\em index} & -\/1 command stream, 0-\/n base address index\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Remapped address 
\end{DoxyReturn}
\Hypertarget{ethosu__driver_8h_a7d07a2c3e7c66236d31986c191c7c6e1}\index{ethosu\_driver.h@{ethosu\_driver.h}!ethosu\_deinit@{ethosu\_deinit}}
\index{ethosu\_deinit@{ethosu\_deinit}!ethosu\_driver.h@{ethosu\_driver.h}}
\doxysubsubsection{\texorpdfstring{ethosu\_deinit()}{ethosu\_deinit()}}
{\footnotesize\ttfamily \label{ethosu__driver_8h_a7d07a2c3e7c66236d31986c191c7c6e1} 
void ethosu\+\_\+deinit (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structethosu__driver}{ethosu\+\_\+driver}} \texorpdfstring{$\ast$}{*}}]{drv}{}\end{DoxyParamCaption})}

Deinitialize the Ethos-\/U driver.


\begin{DoxyParams}{Parameters}
{\em drv} & Pointer to driver handle \\
\hline
\end{DoxyParams}
\Hypertarget{ethosu__driver_8h_a7b987defaaf902770c8c0ea9fa8ac591}\index{ethosu\_driver.h@{ethosu\_driver.h}!ethosu\_flush\_dcache@{ethosu\_flush\_dcache}}
\index{ethosu\_flush\_dcache@{ethosu\_flush\_dcache}!ethosu\_driver.h@{ethosu\_driver.h}}
\doxysubsubsection{\texorpdfstring{ethosu\_flush\_dcache()}{ethosu\_flush\_dcache()}}
{\footnotesize\ttfamily \label{ethosu__driver_8h_a7b987defaaf902770c8c0ea9fa8ac591} 
void ethosu\+\_\+flush\+\_\+dcache (\begin{DoxyParamCaption}\item[{uint32\+\_\+t \texorpdfstring{$\ast$}{*}}]{p}{, }\item[{size\+\_\+t}]{bytes}{}\end{DoxyParamCaption})}

Flush/clean the data cache by address and size. Passing NULL as p argument expects the whole cache to be flushed.

Addresses passed to this function must be 16 byte aligned.


\begin{DoxyParams}{Parameters}
{\em p} & 16 byte aligned address \\
\hline
{\em bytes} & Size of memory block in bytes \\
\hline
\end{DoxyParams}
\Hypertarget{ethosu__driver_8h_a061d3040dbd395073b51968bc2e91d55}\index{ethosu\_driver.h@{ethosu\_driver.h}!ethosu\_get\_driver\_version@{ethosu\_get\_driver\_version}}
\index{ethosu\_get\_driver\_version@{ethosu\_get\_driver\_version}!ethosu\_driver.h@{ethosu\_driver.h}}
\doxysubsubsection{\texorpdfstring{ethosu\_get\_driver\_version()}{ethosu\_get\_driver\_version()}}
{\footnotesize\ttfamily \label{ethosu__driver_8h_a061d3040dbd395073b51968bc2e91d55} 
void ethosu\+\_\+get\+\_\+driver\+\_\+version (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structethosu__driver__version}{ethosu\+\_\+driver\+\_\+version}} \texorpdfstring{$\ast$}{*}}]{ver}{}\end{DoxyParamCaption})}

Get Ethos-\/U driver version.


\begin{DoxyParams}{Parameters}
{\em ver} & Driver version struct \\
\hline
\end{DoxyParams}
\Hypertarget{ethosu__driver_8h_a583bd9f7a0ae2cabfecf6b2843adcc56}\index{ethosu\_driver.h@{ethosu\_driver.h}!ethosu\_get\_hw\_info@{ethosu\_get\_hw\_info}}
\index{ethosu\_get\_hw\_info@{ethosu\_get\_hw\_info}!ethosu\_driver.h@{ethosu\_driver.h}}
\doxysubsubsection{\texorpdfstring{ethosu\_get\_hw\_info()}{ethosu\_get\_hw\_info()}}
{\footnotesize\ttfamily \label{ethosu__driver_8h_a583bd9f7a0ae2cabfecf6b2843adcc56} 
void ethosu\+\_\+get\+\_\+hw\+\_\+info (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structethosu__driver}{ethosu\+\_\+driver}} \texorpdfstring{$\ast$}{*}}]{drv}{, }\item[{struct \mbox{\hyperlink{structethosu__hw__info}{ethosu\+\_\+hw\+\_\+info}} \texorpdfstring{$\ast$}{*}}]{hw}{}\end{DoxyParamCaption})}

Get Ethos-\/U hardware information.


\begin{DoxyParams}{Parameters}
{\em drv} & Pointer to driver handle \\
\hline
{\em hw} & Hardware information struct \\
\hline
\end{DoxyParams}
\Hypertarget{ethosu__driver_8h_a04b34ee5d2328ecdfc7d464761f6cb7f}\index{ethosu\_driver.h@{ethosu\_driver.h}!ethosu\_inference\_begin@{ethosu\_inference\_begin}}
\index{ethosu\_inference\_begin@{ethosu\_inference\_begin}!ethosu\_driver.h@{ethosu\_driver.h}}
\doxysubsubsection{\texorpdfstring{ethosu\_inference\_begin()}{ethosu\_inference\_begin()}}
{\footnotesize\ttfamily \label{ethosu__driver_8h_a04b34ee5d2328ecdfc7d464761f6cb7f} 
void ethosu\+\_\+inference\+\_\+begin (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structethosu__driver}{ethosu\+\_\+driver}} \texorpdfstring{$\ast$}{*}}]{drv}{, }\item[{void \texorpdfstring{$\ast$}{*}}]{user\+\_\+arg}{}\end{DoxyParamCaption})}

Callback invoked just before the inference is started.


\begin{DoxyParams}{Parameters}
{\em drv} & Pointer to driver handle \\
\hline
{\em user\+\_\+arg} & User argument provided to ethosu\+\_\+invoke\+\_\+\texorpdfstring{$\ast$}{*}() \\
\hline
\end{DoxyParams}
\Hypertarget{ethosu__driver_8h_abe0e7014df596c89393c3bce70c4ee0c}\index{ethosu\_driver.h@{ethosu\_driver.h}!ethosu\_inference\_end@{ethosu\_inference\_end}}
\index{ethosu\_inference\_end@{ethosu\_inference\_end}!ethosu\_driver.h@{ethosu\_driver.h}}
\doxysubsubsection{\texorpdfstring{ethosu\_inference\_end()}{ethosu\_inference\_end()}}
{\footnotesize\ttfamily \label{ethosu__driver_8h_abe0e7014df596c89393c3bce70c4ee0c} 
void ethosu\+\_\+inference\+\_\+end (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structethosu__driver}{ethosu\+\_\+driver}} \texorpdfstring{$\ast$}{*}}]{drv}{, }\item[{void \texorpdfstring{$\ast$}{*}}]{user\+\_\+arg}{}\end{DoxyParamCaption})}

Callback invoked just after the inference has completed.


\begin{DoxyParams}{Parameters}
{\em drv} & Pointer to driver handle \\
\hline
{\em user\+\_\+arg} & User argument provided to ethosu\+\_\+invoke\+\_\+\texorpdfstring{$\ast$}{*}() \\
\hline
\end{DoxyParams}
\Hypertarget{ethosu__driver_8h_ae021e7e1e40a33303dcc17041a1f2911}\index{ethosu\_driver.h@{ethosu\_driver.h}!ethosu\_init@{ethosu\_init}}
\index{ethosu\_init@{ethosu\_init}!ethosu\_driver.h@{ethosu\_driver.h}}
\doxysubsubsection{\texorpdfstring{ethosu\_init()}{ethosu\_init()}}
{\footnotesize\ttfamily \label{ethosu__driver_8h_ae021e7e1e40a33303dcc17041a1f2911} 
int ethosu\+\_\+init (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structethosu__driver}{ethosu\+\_\+driver}} \texorpdfstring{$\ast$}{*}}]{drv}{, }\item[{void \texorpdfstring{$\ast$}{*}const}]{base\+\_\+address}{, }\item[{const void \texorpdfstring{$\ast$}{*}}]{fast\+\_\+memory}{, }\item[{const size\+\_\+t}]{fast\+\_\+memory\+\_\+size}{, }\item[{uint32\+\_\+t}]{secure\+\_\+enable}{, }\item[{uint32\+\_\+t}]{privilege\+\_\+enable}{}\end{DoxyParamCaption})}

Initialize the Ethos-\/U driver.


\begin{DoxyParams}{Parameters}
{\em drv} & Pointer to driver handle \\
\hline
{\em base\+\_\+address} & NPU register base address \\
\hline
{\em fast\+\_\+memory} & Fast memory area, used for Ethos-\/\+U65 with spilling \\
\hline
{\em fast\+\_\+memory\+\_\+size} & Size in bytes of fast memory area \\
\hline
{\em secure\+\_\+enable} & Configure NPU in secure-\/ or non-\/secure mode \\
\hline
{\em privilege\+\_\+enable} & Configure NPU in privileged-\/ or non-\/privileged mode \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, else negative error code 
\end{DoxyReturn}
\Hypertarget{ethosu__driver_8h_a57f77addf22bcd9edfdbb4b68a2363ef}\index{ethosu\_driver.h@{ethosu\_driver.h}!ethosu\_invalidate\_dcache@{ethosu\_invalidate\_dcache}}
\index{ethosu\_invalidate\_dcache@{ethosu\_invalidate\_dcache}!ethosu\_driver.h@{ethosu\_driver.h}}
\doxysubsubsection{\texorpdfstring{ethosu\_invalidate\_dcache()}{ethosu\_invalidate\_dcache()}}
{\footnotesize\ttfamily \label{ethosu__driver_8h_a57f77addf22bcd9edfdbb4b68a2363ef} 
void ethosu\+\_\+invalidate\+\_\+dcache (\begin{DoxyParamCaption}\item[{uint32\+\_\+t \texorpdfstring{$\ast$}{*}}]{p}{, }\item[{size\+\_\+t}]{bytes}{}\end{DoxyParamCaption})}

Invalidate the data cache by address and size. Passing NULL as p argument expects the whole cache to be invalidated.

Addresses passed to this function must be 16 byte aligned.


\begin{DoxyParams}{Parameters}
{\em p} & 16 byte aligned address \\
\hline
{\em bytes} & Size in bytes \\
\hline
\end{DoxyParams}
\Hypertarget{ethosu__driver_8h_a7a052a3c7ea0c14992b3dc2cd6e20d0b}\index{ethosu\_driver.h@{ethosu\_driver.h}!ethosu\_invoke\_async@{ethosu\_invoke\_async}}
\index{ethosu\_invoke\_async@{ethosu\_invoke\_async}!ethosu\_driver.h@{ethosu\_driver.h}}
\doxysubsubsection{\texorpdfstring{ethosu\_invoke\_async()}{ethosu\_invoke\_async()}}
{\footnotesize\ttfamily \label{ethosu__driver_8h_a7a052a3c7ea0c14992b3dc2cd6e20d0b} 
int ethosu\+\_\+invoke\+\_\+async (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structethosu__driver}{ethosu\+\_\+driver}} \texorpdfstring{$\ast$}{*}}]{drv}{, }\item[{const void \texorpdfstring{$\ast$}{*}}]{custom\+\_\+data\+\_\+ptr}{, }\item[{const int}]{custom\+\_\+data\+\_\+size}{, }\item[{uint64\+\_\+t \texorpdfstring{$\ast$}{*}const}]{base\+\_\+addr}{, }\item[{const size\+\_\+t \texorpdfstring{$\ast$}{*}}]{base\+\_\+addr\+\_\+size}{, }\item[{const int}]{num\+\_\+base\+\_\+addr}{, }\item[{void \texorpdfstring{$\ast$}{*}}]{user\+\_\+arg}{}\end{DoxyParamCaption})}

Invoke command stream using async interface. Must be followed by call(s) to \doxylink{ethosu__driver_8h_a33e63dcf2625e5b10d07193490b6323b}{ethosu\+\_\+wait()} upon successful return.

\begin{DoxySeeAlso}{See also}
\doxylink{ethosu__driver_8h_a6965f708d5951842cd6f8cfe26a35868}{ethosu\+\_\+invoke\+\_\+v3} \doxylink{ei__fill__result__struct_8h_aed2288439daacb76715d34eb9d10e627}{for} documentation. 
\end{DoxySeeAlso}
\Hypertarget{ethosu__driver_8h_a6575dfaa69fcd2ed61ed72f767acc007}\index{ethosu\_driver.h@{ethosu\_driver.h}!ethosu\_invoke\_v2@{ethosu\_invoke\_v2}}
\index{ethosu\_invoke\_v2@{ethosu\_invoke\_v2}!ethosu\_driver.h@{ethosu\_driver.h}}
\doxysubsubsection{\texorpdfstring{ethosu\_invoke\_v2()}{ethosu\_invoke\_v2()}}
{\footnotesize\ttfamily \label{ethosu__driver_8h_a6575dfaa69fcd2ed61ed72f767acc007} 
static int ethosu\+\_\+invoke\+\_\+v2 (\begin{DoxyParamCaption}\item[{const void \texorpdfstring{$\ast$}{*}}]{custom\+\_\+data\+\_\+ptr}{, }\item[{const int}]{custom\+\_\+data\+\_\+size}{, }\item[{uint64\+\_\+t \texorpdfstring{$\ast$}{*}const}]{base\+\_\+addr}{, }\item[{const size\+\_\+t \texorpdfstring{$\ast$}{*}}]{base\+\_\+addr\+\_\+size}{, }\item[{const int}]{num\+\_\+base\+\_\+addr}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}

Static inline for backwards-\/compatibility.

\begin{DoxySeeAlso}{See also}
\doxylink{ethosu__driver_8h_a6965f708d5951842cd6f8cfe26a35868}{ethosu\+\_\+invoke\+\_\+v3} \doxylink{ei__fill__result__struct_8h_aed2288439daacb76715d34eb9d10e627}{for} documentation. 
\end{DoxySeeAlso}
\Hypertarget{ethosu__driver_8h_a6965f708d5951842cd6f8cfe26a35868}\index{ethosu\_driver.h@{ethosu\_driver.h}!ethosu\_invoke\_v3@{ethosu\_invoke\_v3}}
\index{ethosu\_invoke\_v3@{ethosu\_invoke\_v3}!ethosu\_driver.h@{ethosu\_driver.h}}
\doxysubsubsection{\texorpdfstring{ethosu\_invoke\_v3()}{ethosu\_invoke\_v3()}}
{\footnotesize\ttfamily \label{ethosu__driver_8h_a6965f708d5951842cd6f8cfe26a35868} 
int ethosu\+\_\+invoke\+\_\+v3 (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structethosu__driver}{ethosu\+\_\+driver}} \texorpdfstring{$\ast$}{*}}]{drv}{, }\item[{const void \texorpdfstring{$\ast$}{*}}]{custom\+\_\+data\+\_\+ptr}{, }\item[{const int}]{custom\+\_\+data\+\_\+size}{, }\item[{uint64\+\_\+t \texorpdfstring{$\ast$}{*}const}]{base\+\_\+addr}{, }\item[{const size\+\_\+t \texorpdfstring{$\ast$}{*}}]{base\+\_\+addr\+\_\+size}{, }\item[{const int}]{num\+\_\+base\+\_\+addr}{, }\item[{void \texorpdfstring{$\ast$}{*}}]{user\+\_\+arg}{}\end{DoxyParamCaption})}

Invoke command stream.


\begin{DoxyParams}{Parameters}
{\em drv} & Pointer to driver handle \\
\hline
{\em custom\+\_\+data\+\_\+ptr} & Custom data payload \\
\hline
{\em custom\+\_\+data\+\_\+size} & Size in bytes of custom data \\
\hline
{\em base\+\_\+addr} & Array of base address pointers \\
\hline
{\em base\+\_\+addr\+\_\+size} & Size in bytes of each address in base\+\_\+addr \\
\hline
{\em num\+\_\+base\+\_\+addr} & Number of elements in base\+\_\+addr array \\
\hline
{\em user\+\_\+arg} & User argument, will be passed to \doxylink{ethosu__driver_8h_a04b34ee5d2328ecdfc7d464761f6cb7f}{ethosu\+\_\+inference\+\_\+begin()} and \doxylink{ethosu__driver_8h_abe0e7014df596c89393c3bce70c4ee0c}{ethosu\+\_\+inference\+\_\+end()} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, else negative error code 
\end{DoxyReturn}
\Hypertarget{ethosu__driver_8h_a55fec2a7ca5b5b51dc7c3d18914a3f03}\index{ethosu\_driver.h@{ethosu\_driver.h}!ethosu\_irq\_handler@{ethosu\_irq\_handler}}
\index{ethosu\_irq\_handler@{ethosu\_irq\_handler}!ethosu\_driver.h@{ethosu\_driver.h}}
\doxysubsubsection{\texorpdfstring{ethosu\_irq\_handler()}{ethosu\_irq\_handler()}}
{\footnotesize\ttfamily \label{ethosu__driver_8h_a55fec2a7ca5b5b51dc7c3d18914a3f03} 
void ethosu\+\_\+irq\+\_\+handler (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structethosu__driver}{ethosu\+\_\+driver}} \texorpdfstring{$\ast$}{*}}]{drv}{}\end{DoxyParamCaption})}

Interrupt handler to be called on IRQ from Ethos-\/U


\begin{DoxyParams}{Parameters}
{\em drv} & Pointer to driver handle \\
\hline
\end{DoxyParams}
\Hypertarget{ethosu__driver_8h_a263037460610168af74801efae3385a2}\index{ethosu\_driver.h@{ethosu\_driver.h}!ethosu\_mutex\_create@{ethosu\_mutex\_create}}
\index{ethosu\_mutex\_create@{ethosu\_mutex\_create}!ethosu\_driver.h@{ethosu\_driver.h}}
\doxysubsubsection{\texorpdfstring{ethosu\_mutex\_create()}{ethosu\_mutex\_create()}}
{\footnotesize\ttfamily \label{ethosu__driver_8h_a263037460610168af74801efae3385a2} 
void \texorpdfstring{$\ast$}{*} ethosu\+\_\+mutex\+\_\+create (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}

Minimal mutex implementation for baremetal applications. See ethosu\+\_\+driver.\+c.

\begin{DoxyReturn}{Returns}
Pointer to mutex handle 
\end{DoxyReturn}
\Hypertarget{ethosu__driver_8h_a17827ea06a500bad6bda5aa9e751f4f1}\index{ethosu\_driver.h@{ethosu\_driver.h}!ethosu\_mutex\_lock@{ethosu\_mutex\_lock}}
\index{ethosu\_mutex\_lock@{ethosu\_mutex\_lock}!ethosu\_driver.h@{ethosu\_driver.h}}
\doxysubsubsection{\texorpdfstring{ethosu\_mutex\_lock()}{ethosu\_mutex\_lock()}}
{\footnotesize\ttfamily \label{ethosu__driver_8h_a17827ea06a500bad6bda5aa9e751f4f1} 
int ethosu\+\_\+mutex\+\_\+lock (\begin{DoxyParamCaption}\item[{void \texorpdfstring{$\ast$}{*}}]{mutex}{}\end{DoxyParamCaption})}

Lock mutex.


\begin{DoxyParams}{Parameters}
{\em mutex} & Pointer to mutex handle \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, else negative error code 
\end{DoxyReturn}
\Hypertarget{ethosu__driver_8h_aa0075944c4284c6ced884698e560eea4}\index{ethosu\_driver.h@{ethosu\_driver.h}!ethosu\_mutex\_unlock@{ethosu\_mutex\_unlock}}
\index{ethosu\_mutex\_unlock@{ethosu\_mutex\_unlock}!ethosu\_driver.h@{ethosu\_driver.h}}
\doxysubsubsection{\texorpdfstring{ethosu\_mutex\_unlock()}{ethosu\_mutex\_unlock()}}
{\footnotesize\ttfamily \label{ethosu__driver_8h_aa0075944c4284c6ced884698e560eea4} 
int ethosu\+\_\+mutex\+\_\+unlock (\begin{DoxyParamCaption}\item[{void \texorpdfstring{$\ast$}{*}}]{mutex}{}\end{DoxyParamCaption})}

Unlock mutex.


\begin{DoxyParams}{Parameters}
{\em mutex} & Pointer to mutex handle \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, else negative error code 
\end{DoxyReturn}
\Hypertarget{ethosu__driver_8h_a6e97d1e64ca7d2cbaa89230bce0a2dde}\index{ethosu\_driver.h@{ethosu\_driver.h}!ethosu\_release\_driver@{ethosu\_release\_driver}}
\index{ethosu\_release\_driver@{ethosu\_release\_driver}!ethosu\_driver.h@{ethosu\_driver.h}}
\doxysubsubsection{\texorpdfstring{ethosu\_release\_driver()}{ethosu\_release\_driver()}}
{\footnotesize\ttfamily \label{ethosu__driver_8h_a6e97d1e64ca7d2cbaa89230bce0a2dde} 
void ethosu\+\_\+release\+\_\+driver (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structethosu__driver}{ethosu\+\_\+driver}} \texorpdfstring{$\ast$}{*}}]{drv}{}\end{DoxyParamCaption})}

Release driver that was previously reserved with \begin{DoxySeeAlso}{See also}
\doxylink{ethosu__driver_8h_a92c30eeceb5152d6f06ff9c5859a1381}{ethosu\+\_\+reserve\+\_\+driver}.
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em drv} & Pointer to driver handle \\
\hline
\end{DoxyParams}
\Hypertarget{ethosu__driver_8h_aa7aa51e0c8d7757f3ca28b0ad4303558}\index{ethosu\_driver.h@{ethosu\_driver.h}!ethosu\_release\_power@{ethosu\_release\_power}}
\index{ethosu\_release\_power@{ethosu\_release\_power}!ethosu\_driver.h@{ethosu\_driver.h}}
\doxysubsubsection{\texorpdfstring{ethosu\_release\_power()}{ethosu\_release\_power()}}
{\footnotesize\ttfamily \label{ethosu__driver_8h_aa7aa51e0c8d7757f3ca28b0ad4303558} 
void ethosu\+\_\+release\+\_\+power (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structethosu__driver}{ethosu\+\_\+driver}} \texorpdfstring{$\ast$}{*}}]{drv}{}\end{DoxyParamCaption})}

Release disable request for Q-\/channel power gating of the Ethos-\/U device. Power requests are ref.\+counted. Decreases count.


\begin{DoxyParams}{Parameters}
{\em drv} & Pointer to driver handle \\
\hline
\end{DoxyParams}
\Hypertarget{ethosu__driver_8h_a296ee3333eec28a0aa57940af26664c9}\index{ethosu\_driver.h@{ethosu\_driver.h}!ethosu\_request\_power@{ethosu\_request\_power}}
\index{ethosu\_request\_power@{ethosu\_request\_power}!ethosu\_driver.h@{ethosu\_driver.h}}
\doxysubsubsection{\texorpdfstring{ethosu\_request\_power()}{ethosu\_request\_power()}}
{\footnotesize\ttfamily \label{ethosu__driver_8h_a296ee3333eec28a0aa57940af26664c9} 
int ethosu\+\_\+request\+\_\+power (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structethosu__driver}{ethosu\+\_\+driver}} \texorpdfstring{$\ast$}{*}}]{drv}{}\end{DoxyParamCaption})}

Request to disable Q-\/channel power gating of the Ethos-\/U device. Power requests are ref.\+counted. Increases count. (Note\+: clock gating is made to follow power gating)


\begin{DoxyParams}{Parameters}
{\em drv} & Pointer to driver handle \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, else negative error code 
\end{DoxyReturn}
\Hypertarget{ethosu__driver_8h_a92c30eeceb5152d6f06ff9c5859a1381}\index{ethosu\_driver.h@{ethosu\_driver.h}!ethosu\_reserve\_driver@{ethosu\_reserve\_driver}}
\index{ethosu\_reserve\_driver@{ethosu\_reserve\_driver}!ethosu\_driver.h@{ethosu\_driver.h}}
\doxysubsubsection{\texorpdfstring{ethosu\_reserve\_driver()}{ethosu\_reserve\_driver()}}
{\footnotesize\ttfamily \label{ethosu__driver_8h_a92c30eeceb5152d6f06ff9c5859a1381} 
struct \mbox{\hyperlink{structethosu__driver}{ethosu\+\_\+driver}} \texorpdfstring{$\ast$}{*} ethosu\+\_\+reserve\+\_\+driver (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}

Reserves a driver to execute inference with. Call will block until a driver is available.

\begin{DoxyReturn}{Returns}
Pointer to driver handle. 
\end{DoxyReturn}
\Hypertarget{ethosu__driver_8h_a4bb4d49e7ba5ec009af2796fe77e349a}\index{ethosu\_driver.h@{ethosu\_driver.h}!ethosu\_semaphore\_create@{ethosu\_semaphore\_create}}
\index{ethosu\_semaphore\_create@{ethosu\_semaphore\_create}!ethosu\_driver.h@{ethosu\_driver.h}}
\doxysubsubsection{\texorpdfstring{ethosu\_semaphore\_create()}{ethosu\_semaphore\_create()}}
{\footnotesize\ttfamily \label{ethosu__driver_8h_a4bb4d49e7ba5ec009af2796fe77e349a} 
void \texorpdfstring{$\ast$}{*} ethosu\+\_\+semaphore\+\_\+create (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}

Minimal sempahore implementation for baremetal applications. See ethosu\+\_\+driver.\+c.

\begin{DoxyReturn}{Returns}
Pointer to semaphore handle 
\end{DoxyReturn}
\Hypertarget{ethosu__driver_8h_a71614f92cb653bed7b7632b0362939b4}\index{ethosu\_driver.h@{ethosu\_driver.h}!ethosu\_semaphore\_give@{ethosu\_semaphore\_give}}
\index{ethosu\_semaphore\_give@{ethosu\_semaphore\_give}!ethosu\_driver.h@{ethosu\_driver.h}}
\doxysubsubsection{\texorpdfstring{ethosu\_semaphore\_give()}{ethosu\_semaphore\_give()}}
{\footnotesize\ttfamily \label{ethosu__driver_8h_a71614f92cb653bed7b7632b0362939b4} 
int ethosu\+\_\+semaphore\+\_\+give (\begin{DoxyParamCaption}\item[{void \texorpdfstring{$\ast$}{*}}]{sem}{}\end{DoxyParamCaption})}

Give semaphore.


\begin{DoxyParams}{Parameters}
{\em sem} & Pointer to semaphore handle \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, else negative error code 
\end{DoxyReturn}
\Hypertarget{ethosu__driver_8h_a316d572123877e0466647652854ddaa7}\index{ethosu\_driver.h@{ethosu\_driver.h}!ethosu\_semaphore\_take@{ethosu\_semaphore\_take}}
\index{ethosu\_semaphore\_take@{ethosu\_semaphore\_take}!ethosu\_driver.h@{ethosu\_driver.h}}
\doxysubsubsection{\texorpdfstring{ethosu\_semaphore\_take()}{ethosu\_semaphore\_take()}}
{\footnotesize\ttfamily \label{ethosu__driver_8h_a316d572123877e0466647652854ddaa7} 
int ethosu\+\_\+semaphore\+\_\+take (\begin{DoxyParamCaption}\item[{void \texorpdfstring{$\ast$}{*}}]{sem}{}\end{DoxyParamCaption})}

Take semaphore.


\begin{DoxyParams}{Parameters}
{\em sem} & Pointer to semaphore handle \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, else negative error code 
\end{DoxyReturn}
\Hypertarget{ethosu__driver_8h_a480a7f7b324b3be61c1a9ffc92be9f3a}\index{ethosu\_driver.h@{ethosu\_driver.h}!ethosu\_soft\_reset@{ethosu\_soft\_reset}}
\index{ethosu\_soft\_reset@{ethosu\_soft\_reset}!ethosu\_driver.h@{ethosu\_driver.h}}
\doxysubsubsection{\texorpdfstring{ethosu\_soft\_reset()}{ethosu\_soft\_reset()}}
{\footnotesize\ttfamily \label{ethosu__driver_8h_a480a7f7b324b3be61c1a9ffc92be9f3a} 
int ethosu\+\_\+soft\+\_\+reset (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structethosu__driver}{ethosu\+\_\+driver}} \texorpdfstring{$\ast$}{*}}]{drv}{}\end{DoxyParamCaption})}

Soft resets the Ethos-\/U device.


\begin{DoxyParams}{Parameters}
{\em drv} & Pointer to driver handle \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, else negative error code 
\end{DoxyReturn}
\Hypertarget{ethosu__driver_8h_a33e63dcf2625e5b10d07193490b6323b}\index{ethosu\_driver.h@{ethosu\_driver.h}!ethosu\_wait@{ethosu\_wait}}
\index{ethosu\_wait@{ethosu\_wait}!ethosu\_driver.h@{ethosu\_driver.h}}
\doxysubsubsection{\texorpdfstring{ethosu\_wait()}{ethosu\_wait()}}
{\footnotesize\ttfamily \label{ethosu__driver_8h_a33e63dcf2625e5b10d07193490b6323b} 
int ethosu\+\_\+wait (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structethosu__driver}{ethosu\+\_\+driver}} \texorpdfstring{$\ast$}{*}}]{drv}{, }\item[{bool}]{block}{}\end{DoxyParamCaption})}

Wait for inference to complete (block=true) Poll status or finish up if inference is complete (block=false) (This function is only intended to be used in conjuction with ethosu\+\_\+invoke\+\_\+async)


\begin{DoxyParams}{Parameters}
{\em drv} & Pointer to driver handle \\
\hline
{\em block} & If call should block if inference is running \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
-\/2 on inference not invoked, -\/1 on inference error, 0 on success, 1 on inference running 
\end{DoxyReturn}
