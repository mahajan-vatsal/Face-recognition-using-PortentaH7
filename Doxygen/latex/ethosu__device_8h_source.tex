\doxysection{ethosu\+\_\+device.\+h}
\hypertarget{ethosu__device_8h_source}{}\label{ethosu__device_8h_source}\index{Face\_Access\_inferencing/src/edge-\/impulse-\/sdk/porting/ethos-\/core-\/driver/src/ethosu\_device.h@{Face\_Access\_inferencing/src/edge-\/impulse-\/sdk/porting/ethos-\/core-\/driver/src/ethosu\_device.h}}
\mbox{\hyperlink{ethosu__device_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ *\ SPDX-\/FileCopyrightText:\ Copyright\ 2019-\/2023\ Arm\ Limited\ and/or\ its\ affiliates\ <open-\/source-\/office@arm.com>}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ *\ SPDX-\/License-\/Identifier:\ Apache-\/2.0}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ *\ Licensed\ under\ the\ Apache\ License,\ Version\ 2.0\ (the\ License);\ you\ may}}
\DoxyCodeLine{00007\ \textcolor{comment}{\ *\ not\ use\ this\ file\ except\ in\ compliance\ with\ the\ License.}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ *\ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00009\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00010\ \textcolor{comment}{\ *\ www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00011\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ *\ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,\ software}}
\DoxyCodeLine{00013\ \textcolor{comment}{\ *\ distributed\ under\ the\ License\ is\ distributed\ on\ an\ AS\ IS\ BASIS,\ WITHOUT}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ *\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY\ KIND,\ either\ express\ or\ implied.}}
\DoxyCodeLine{00015\ \textcolor{comment}{\ *\ See\ the\ License\ for\ the\ specific\ language\ governing\ permissions\ and}}
\DoxyCodeLine{00016\ \textcolor{comment}{\ *\ limitations\ under\ the\ License.}}
\DoxyCodeLine{00017\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#ifndef\ ETHOSU\_DEVICE\_H}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#define\ ETHOSU\_DEVICE\_H}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{comment}{/******************************************************************************}}
\DoxyCodeLine{00023\ \textcolor{comment}{\ *\ Includes}}
\DoxyCodeLine{00024\ \textcolor{comment}{\ ******************************************************************************/}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{ethosu__types_8h}{ethosu\_types.h}}"{}}}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#include\ <stdbool.h>}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#include\ <stdint.h>}}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#ifdef\ \_\_cplusplus}}
\DoxyCodeLine{00031\ \textcolor{keyword}{extern}\ \textcolor{stringliteral}{"{}C"{}}\ \{}
\DoxyCodeLine{00032\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \textcolor{comment}{/******************************************************************************}}
\DoxyCodeLine{00035\ \textcolor{comment}{\ *\ Defines}}
\DoxyCodeLine{00036\ \textcolor{comment}{\ ******************************************************************************/}}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \textcolor{comment}{//\ NOTE:\ Deprecated}}
\DoxyCodeLine{00039\ \textcolor{preprocessor}{\#ifndef\ ETHOSU\_PMU\_NCOUNTERS}}
\DoxyCodeLine{00040\ \textcolor{preprocessor}{\#define\ ETHOSU\_PMU\_NCOUNTERS\ 4}}
\DoxyCodeLine{00041\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \textcolor{comment}{/******************************************************************************}}
\DoxyCodeLine{00044\ \textcolor{comment}{\ *\ Types}}
\DoxyCodeLine{00045\ \textcolor{comment}{\ ******************************************************************************/}}
\DoxyCodeLine{00046\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_n_p_u___r_e_g}{NPU\_REG}};\ \textcolor{comment}{//\ Forward\ declare,\ to\ be\ implemented\ by\ each\ device}}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structethosu__device}{ethosu\_device}}}
\DoxyCodeLine{00049\ \{}
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keyword}{volatile}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_n_p_u___r_e_g}{NPU\_REG}}\ *\mbox{\hyperlink{structethosu__device_ad204c6e8f1145beb4da04d885e97eccd}{reg}};\ \textcolor{comment}{//\ Register\ map}}
\DoxyCodeLine{00051\ \ \ \ \ uint32\_t\ \mbox{\hyperlink{structethosu__device_a57c89a54f5ef406f9e46009489446a3f}{secure}};}
\DoxyCodeLine{00052\ \ \ \ \ uint32\_t\ \mbox{\hyperlink{structethosu__device_adea961cef0feb9198ea58c66c80740cc}{privileged}};}
\DoxyCodeLine{00053\ \};}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \textcolor{comment}{/******************************************************************************}}
\DoxyCodeLine{00056\ \textcolor{comment}{\ *\ Prototypes}}
\DoxyCodeLine{00057\ \textcolor{comment}{\ ******************************************************************************/}}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00062\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structethosu__device}{ethosu\_device}}\ *\mbox{\hyperlink{ethosu__device_8h_ab2a204f258ac6cae32e1b4617afa3da4}{ethosu\_dev\_init}}(\textcolor{keywordtype}{void}\ *\textcolor{keyword}{const}\ base\_address,\ uint32\_t\ secure\_enable,\ uint32\_t\ privilege\_enable);}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00067\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{ethosu__device_8h_a76cdc07f6bc4b1ce1733cf6d1379a066}{ethosu\_dev\_deinit}}(\textcolor{keyword}{struct}\ \mbox{\hyperlink{structethosu__device}{ethosu\_device}}\ *dev);}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00072\ \textcolor{keyword}{enum}\ \mbox{\hyperlink{ethosu__types_8h_adc89c54143dacc5dec69c606ed8091c2}{ethosu\_error\_codes}}\ \mbox{\hyperlink{ethosu__device_8h_a495a036859f30661d8059797d839e69c}{ethosu\_dev\_axi\_init}}(\textcolor{keyword}{struct}\ \mbox{\hyperlink{structethosu__device}{ethosu\_device}}\ *dev);}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00085\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{ethosu__device_8h_a5b6783969175e0438cabc22a3142c11e}{ethosu\_dev\_run\_command\_stream}}(\textcolor{keyword}{struct}\ \mbox{\hyperlink{structethosu__device}{ethosu\_device}}\ *dev,}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ uint8\_t\ *cmd\_stream\_ptr,}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint32\_t\ cms\_length,}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ uint64\_t\ *base\_addr,}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ num\_base\_addr);}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00094\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{ethosu__device_8h_ad0c7bf11134ab0c3453a00e599b2519b}{ethosu\_dev\_print\_err\_status}}(\textcolor{keyword}{struct}\ \mbox{\hyperlink{structethosu__device}{ethosu\_device}}\ *dev);}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00100\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{ethosu__device_8h_a6451df9d11b1cf8875dc49397bfda7c5}{ethosu\_dev\_handle\_interrupt}}(\textcolor{keyword}{struct}\ \mbox{\hyperlink{structethosu__device}{ethosu\_device}}\ *dev);}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00106\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{ethosu__device_8h_a491ae9267c557166e7d4da43a19aab5a}{ethosu\_dev\_get\_hw\_info}}(\textcolor{keyword}{struct}\ \mbox{\hyperlink{structethosu__device}{ethosu\_device}}\ *dev,\ \textcolor{keyword}{struct}\ \mbox{\hyperlink{structethosu__hw__info}{ethosu\_hw\_info}}\ *hwinfo);}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00112\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{ethosu__device_8h_aff00d33d5cd705aba864ce8889ed51bb}{ethosu\_dev\_verify\_access\_state}}(\textcolor{keyword}{struct}\ \mbox{\hyperlink{structethosu__device}{ethosu\_device}}\ *dev);}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00118\ \textcolor{keyword}{enum}\ \mbox{\hyperlink{ethosu__types_8h_adc89c54143dacc5dec69c606ed8091c2}{ethosu\_error\_codes}}\ \mbox{\hyperlink{ethosu__device_8h_a223dd0830c84aee18b3696c5c140837c}{ethosu\_dev\_soft\_reset}}(\textcolor{keyword}{struct}\ \mbox{\hyperlink{structethosu__device}{ethosu\_device}}\ *dev);}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00126\ \textcolor{keyword}{enum}\ \mbox{\hyperlink{ethosu__types_8h_adc89c54143dacc5dec69c606ed8091c2}{ethosu\_error\_codes}}\ \mbox{\hyperlink{ethosu__device_8h_aa857f51f98314fe3a4724379e12aebb7}{ethosu\_dev\_set\_clock\_and\_power}}(\textcolor{keyword}{struct}\ \mbox{\hyperlink{structethosu__device}{ethosu\_device}}\ *dev,}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{enum}\ \mbox{\hyperlink{ethosu__types_8h_a15000e00640f6a99fb8f8eb6cbee2c75}{ethosu\_clock\_q\_request}}\ clock\_q,}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{enum}\ \mbox{\hyperlink{ethosu__types_8h_a5d650f5f538efdaa82b964abad1846c5}{ethosu\_power\_q\_request}}\ power\_q);}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00136\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{ethosu__device_8h_a8607bf182cae174de82e743fd98c4a0f}{ethosu\_dev\_verify\_optimizer\_config}}(\textcolor{keyword}{struct}\ \mbox{\hyperlink{structethosu__device}{ethosu\_device}}\ *dev,\ uint32\_t\ cfg\_in,\ uint32\_t\ id\_in);}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00138\ \textcolor{preprocessor}{\#ifdef\ \_\_cplusplus}}
\DoxyCodeLine{00139\ \}}
\DoxyCodeLine{00140\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ ETHOSU\_DEVICE\_H}}

\end{DoxyCode}
