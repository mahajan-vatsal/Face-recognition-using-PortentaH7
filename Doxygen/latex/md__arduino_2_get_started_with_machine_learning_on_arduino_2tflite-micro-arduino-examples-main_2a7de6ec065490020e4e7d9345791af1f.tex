\chapter{Person detection example}
\hypertarget{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2a7de6ec065490020e4e7d9345791af1f}{}\label{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2a7de6ec065490020e4e7d9345791af1f}\index{Person detection example@{Person detection example}}
\label{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2a7de6ec065490020e4e7d9345791af1f_autotoc_md24}%
\Hypertarget{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2a7de6ec065490020e4e7d9345791af1f_autotoc_md24}%


This example shows how you can use \href{https://www.tensorflow.org/lite/microcontrollers}{\texttt{ Tensorflow Lite Micro}} to run a 300.\+5 kilobyte neural network to recognize people in images.\hypertarget{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2a7de6ec065490020e4e7d9345791af1f_autotoc_md25}{}\doxysection{\texorpdfstring{Table of contents}{Table of contents}}\label{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2a7de6ec065490020e4e7d9345791af1f_autotoc_md25}

\begin{DoxyItemize}
\item Deploy to Arduino
\begin{DoxyItemize}
\item Install the Arduino\+\_\+\+Tensor\+Flow\+Lite library
\item Load and run the example
\end{DoxyItemize}
\item Training your own model
\end{DoxyItemize}\hypertarget{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2a7de6ec065490020e4e7d9345791af1f_autotoc_md26}{}\doxysection{\texorpdfstring{Deploy to Arduino}{Deploy to Arduino}}\label{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2a7de6ec065490020e4e7d9345791af1f_autotoc_md26}
The following instructions will help you build and deploy this example to \href{https://www.arduino.cc/}{\texttt{ Arduino}} devices.

The example has been tested with the following devices\+:


\begin{DoxyItemize}
\item \href{https://store.arduino.cc/products/arduino-tiny-machine-learning-kit}{\texttt{ Tiny Machine Learning Kit}}
\end{DoxyItemize}

The Arduino Tiny Machine Learning Kit uses the \doxylink{class_o_v7675}{OV7675} camera attachment. The \doxylink{class_o_v7675}{OV7675} is currently not supported, and the code will simply generate a blank image (support coming {\itshape {\bfseries{soon}}}). If you\textquotesingle{}re using a different Arduino board and attaching your own camera, you\textquotesingle{}ll need to implement your own {\ttfamily \doxylink{arduino__image__provider_8cpp}{arduino\+\_\+image\+\_\+provider.\+cpp}} code. It also has a set of LEDs, which are used to indicate whether a person has been recognized.\hypertarget{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2a7de6ec065490020e4e7d9345791af1f_autotoc_md27}{}\doxysubsection{\texorpdfstring{Install the Arduino\+\_\+\+Tensor\+Flow\+Lite library}{Install the Arduino\+\_\+\+Tensor\+Flow\+Lite library}}\label{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2a7de6ec065490020e4e7d9345791af1f_autotoc_md27}
This example application is included as part of the official Tensor\+Flow Lite Micro Arduino library. To install the Tensor\+Flow Lite Micro for Arduino library, see the \href{../../README.md\#how-to-install}{\texttt{ how to install}} instructions.\hypertarget{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2a7de6ec065490020e4e7d9345791af1f_autotoc_md28}{}\doxysubsection{\texorpdfstring{Load and run the example}{Load and run the example}}\label{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2a7de6ec065490020e4e7d9345791af1f_autotoc_md28}
Once the library has been added, go to {\ttfamily File -\/\texorpdfstring{$>$}{>} Examples}. You should see an entry within the list named {\ttfamily Arduino\+\_\+\+Tensor\+Flow\+Lite}. Select it and click {\ttfamily person\+\_\+detection} to load the example.

Use the Arduino IDE to build and upload the example. Once it is running, you should see the built-\/in LED on your device flashing. The built-\/in LED will flash on/off for each inference cycle. The green LED will be lit if a person is predicted, The blue LED will be lit if the prediction is not-\/a-\/person.

The program also outputs inference results to the serial port, which appear as follows\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{Cropping\ image\ and\ quantizing}
\DoxyCodeLine{Image\ cropped\ and\ quantized}
\DoxyCodeLine{Person\ score:\ 39.6\%\ No\ person\ score:\ 60.93\%}

\end{DoxyCode}


When the program is run, it waits several seconds for a USB-\/serial connection to be available. If there is no connection available, it will not output data. To see the serial output in the Arduino desktop IDE, do the following\+:


\begin{DoxyEnumerate}
\item Open the Arduino IDE
\end{DoxyEnumerate}
\begin{DoxyEnumerate}
\item Connect the Arduino board to your computer via USB
\end{DoxyEnumerate}
\begin{DoxyEnumerate}
\item Press the reset button on the Arduino board
\end{DoxyEnumerate}
\begin{DoxyEnumerate}
\item Within 5 seconds, go to {\ttfamily Tools -\/\texorpdfstring{$>$}{>} Serial Monitor} in the Arduino IDE. You may have to try several times, since the board will take a moment to connect.
\end{DoxyEnumerate}

If you don\textquotesingle{}t see any output, repeat the process again.\hypertarget{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2a7de6ec065490020e4e7d9345791af1f_autotoc_md29}{}\doxysection{\texorpdfstring{Training your own model}{Training your own model}}\label{md__arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2a7de6ec065490020e4e7d9345791af1f_autotoc_md29}
You can train your own model with some easy-\/to-\/use scripts. See \href{https://github.com/tensorflow/tflite-micro/blob/main/tensorflow/lite/micro/examples/person_detection/training_a_model.md}{\texttt{ training\+\_\+a\+\_\+model.\+md}} for instructions. 