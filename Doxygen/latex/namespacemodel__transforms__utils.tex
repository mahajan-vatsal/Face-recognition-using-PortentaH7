\doxysection{model\+\_\+transforms\+\_\+utils Namespace Reference}
\hypertarget{namespacemodel__transforms__utils}{}\label{namespacemodel__transforms__utils}\index{model\_transforms\_utils@{model\_transforms\_utils}}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacemodel__transforms__utils_a20b450ce58f046afbff1ce156841989c}{remove\+\_\+extraneous\+\_\+quantization\+\_\+data}} (\mbox{\hyperlink{_arduino_2_get_started_with_machine_learning_on_arduino_2model_8h_ae142afd8c2e2c711c1c62440deebe03c}{model}})
\item 
\mbox{\hyperlink{namespacemodel__transforms__utils_a8fe3c75ffa223e00cc9e6b7de96ce5a8}{shorten\+\_\+variable\+\_\+shared\+\_\+names}} (\mbox{\hyperlink{_arduino_2_get_started_with_machine_learning_on_arduino_2model_8h_ae142afd8c2e2c711c1c62440deebe03c}{model}})
\item 
\mbox{\hyperlink{namespacemodel__transforms__utils_a2e0f9e2537204edf747bcbc9db69cc8c}{\+\_\+remove\+\_\+initialization\+\_\+subgraph}} (\mbox{\hyperlink{_arduino_2_get_started_with_machine_learning_on_arduino_2model_8h_ae142afd8c2e2c711c1c62440deebe03c}{model}})
\item 
\mbox{\hyperlink{namespacemodel__transforms__utils_a42157e0792909272d6036c0c606ca6e5}{\+\_\+remove\+\_\+call\+\_\+once\+\_\+op}} (\mbox{\hyperlink{_arduino_2_get_started_with_machine_learning_on_arduino_2model_8h_ae142afd8c2e2c711c1c62440deebe03c}{model}})
\item 
\mbox{\hyperlink{namespacemodel__transforms__utils_aa74caf50ed66eaa42c80dc5a2f9a86de}{\+\_\+zero\+\_\+bias\+\_\+buffer}} (\mbox{\hyperlink{_arduino_2_get_started_with_machine_learning_on_arduino_2model_8h_ae142afd8c2e2c711c1c62440deebe03c}{model}}, \mbox{\hyperlink{_arduino_2_get_started_with_machine_learning_on_arduino_2tflite-micro-arduino-examples-main_2src7bb90234a942007b3f55b52484ee7c3e_a82de2679c069b1bce97a7d4aeb83cf60}{buffer\+\_\+idx}}, \mbox{\hyperlink{batch__matmul__test_8cc_a26c07acd3fa6a6da13ddae2bc5c64b55}{zero\+\_\+point}})
\item 
\mbox{\hyperlink{namespacemodel__transforms__utils_a61f698b81330ccdc815e38ad67fd7869}{\+\_\+zero\+\_\+resource\+\_\+buffers}} (\mbox{\hyperlink{_arduino_2_get_started_with_machine_learning_on_arduino_2model_8h_ae142afd8c2e2c711c1c62440deebe03c}{model}})
\item 
\mbox{\hyperlink{namespacemodel__transforms__utils_ac288cfb3f4231d3f08371006f53833f3}{clear\+\_\+resource\+\_\+variable\+\_\+buffers}} (\mbox{\hyperlink{_arduino_2_get_started_with_machine_learning_on_arduino_2model_8h_ae142afd8c2e2c711c1c62440deebe03c}{model}})
\item 
\mbox{\hyperlink{namespacemodel__transforms__utils_ade553e8d682b9578d450265744ab0fc4}{\+\_\+numpy\+\_\+from\+\_\+tensor\+\_\+type}} (tensor\+\_\+type\+\_\+idx)
\item 
\mbox{\hyperlink{namespacemodel__transforms__utils_af92b23d18ce16e60708741216d4185a3}{\+\_\+get\+\_\+minmax\+\_\+range\+\_\+int}} (dtype)
\item 
\mbox{\hyperlink{namespacemodel__transforms__utils_a1c344f8c6b2ce2a6519808ec6b9616e0}{\+\_\+get\+\_\+minmax\+\_\+range\+\_\+float}} (\mbox{\hyperlink{_arduino_2_get_started_with_machine_learning_on_arduino_2model_8h_ae142afd8c2e2c711c1c62440deebe03c}{model}}, input\+\_\+tensor)
\item 
\mbox{\hyperlink{namespacemodel__transforms__utils_aa1b34b5ee93305cc1400164f9f65229c}{generate\+\_\+random\+\_\+input\+\_\+data}} (\mbox{\hyperlink{_arduino_2_get_started_with_machine_learning_on_arduino_2model_8h_ae142afd8c2e2c711c1c62440deebe03c}{model}}, input\+\_\+tensor, random\+\_\+number\+\_\+generator)
\item 
\mbox{\hyperlink{namespacemodel__transforms__utils_adbf51ae8b8982c16a42349f50e1f9a99}{tflite\+\_\+flatbuffer\+\_\+align}} (input\+\_\+model\+\_\+path, output\+\_\+model\+\_\+path)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}Flatbuffer utility functions that are specific to TensorFLow Lite Micro.

This module has a collection of utility function that perform flatbuffer
manipulation that is unsupported in the TfLite converter but are still needed
for Micro-specific use cases.

Transformation functions breakdown:
go/tflm-flatbuffer-reduction-breakdown
\end{DoxyVerb}
 

\doxysubsection{Function Documentation}
\Hypertarget{namespacemodel__transforms__utils_a1c344f8c6b2ce2a6519808ec6b9616e0}\index{model\_transforms\_utils@{model\_transforms\_utils}!\_get\_minmax\_range\_float@{\_get\_minmax\_range\_float}}
\index{\_get\_minmax\_range\_float@{\_get\_minmax\_range\_float}!model\_transforms\_utils@{model\_transforms\_utils}}
\doxysubsubsection{\texorpdfstring{\_get\_minmax\_range\_float()}{\_get\_minmax\_range\_float()}}
{\footnotesize\ttfamily \label{namespacemodel__transforms__utils_a1c344f8c6b2ce2a6519808ec6b9616e0} 
model\+\_\+transforms\+\_\+utils.\+\_\+get\+\_\+minmax\+\_\+range\+\_\+float (\begin{DoxyParamCaption}\item[{}]{model}{, }\item[{}]{input\+\_\+tensor}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Returns the minimum and maximum range for a FLOAT input_tensor.

Assumes only one subgraph.
If the tensor has an associated QUANTIZE Op, uses the quantization information
to determine a more accurate range for random values.

Args:
  model: schema_fb.ModelT model object (tflite model)
  input_tensor: a FLOAT dtype schema_fb.TensorT input tensor which's range to
    return

Returns:
  range_min, range_max: the min/max values the input could have. default to
  [0, 1]
\end{DoxyVerb}
 \Hypertarget{namespacemodel__transforms__utils_af92b23d18ce16e60708741216d4185a3}\index{model\_transforms\_utils@{model\_transforms\_utils}!\_get\_minmax\_range\_int@{\_get\_minmax\_range\_int}}
\index{\_get\_minmax\_range\_int@{\_get\_minmax\_range\_int}!model\_transforms\_utils@{model\_transforms\_utils}}
\doxysubsubsection{\texorpdfstring{\_get\_minmax\_range\_int()}{\_get\_minmax\_range\_int()}}
{\footnotesize\ttfamily \label{namespacemodel__transforms__utils_af92b23d18ce16e60708741216d4185a3} 
model\+\_\+transforms\+\_\+utils.\+\_\+get\+\_\+minmax\+\_\+range\+\_\+int (\begin{DoxyParamCaption}\item[{}]{dtype}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Returns the minimum and maximum range for an INT dtype.\end{DoxyVerb}
 \Hypertarget{namespacemodel__transforms__utils_ade553e8d682b9578d450265744ab0fc4}\index{model\_transforms\_utils@{model\_transforms\_utils}!\_numpy\_from\_tensor\_type@{\_numpy\_from\_tensor\_type}}
\index{\_numpy\_from\_tensor\_type@{\_numpy\_from\_tensor\_type}!model\_transforms\_utils@{model\_transforms\_utils}}
\doxysubsubsection{\texorpdfstring{\_numpy\_from\_tensor\_type()}{\_numpy\_from\_tensor\_type()}}
{\footnotesize\ttfamily \label{namespacemodel__transforms__utils_ade553e8d682b9578d450265744ab0fc4} 
model\+\_\+transforms\+\_\+utils.\+\_\+numpy\+\_\+from\+\_\+tensor\+\_\+type (\begin{DoxyParamCaption}\item[{}]{tensor\+\_\+type\+\_\+idx}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Gives the equivalent numpy dtype based on TensorType class (schema) number.\end{DoxyVerb}
 \Hypertarget{namespacemodel__transforms__utils_a42157e0792909272d6036c0c606ca6e5}\index{model\_transforms\_utils@{model\_transforms\_utils}!\_remove\_call\_once\_op@{\_remove\_call\_once\_op}}
\index{\_remove\_call\_once\_op@{\_remove\_call\_once\_op}!model\_transforms\_utils@{model\_transforms\_utils}}
\doxysubsubsection{\texorpdfstring{\_remove\_call\_once\_op()}{\_remove\_call\_once\_op()}}
{\footnotesize\ttfamily \label{namespacemodel__transforms__utils_a42157e0792909272d6036c0c606ca6e5} 
model\+\_\+transforms\+\_\+utils.\+\_\+remove\+\_\+call\+\_\+once\+\_\+op (\begin{DoxyParamCaption}\item[{}]{model}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Removes CALL_ONCE op for the resource variable initialization subgraph.\end{DoxyVerb}
 \Hypertarget{namespacemodel__transforms__utils_a2e0f9e2537204edf747bcbc9db69cc8c}\index{model\_transforms\_utils@{model\_transforms\_utils}!\_remove\_initialization\_subgraph@{\_remove\_initialization\_subgraph}}
\index{\_remove\_initialization\_subgraph@{\_remove\_initialization\_subgraph}!model\_transforms\_utils@{model\_transforms\_utils}}
\doxysubsubsection{\texorpdfstring{\_remove\_initialization\_subgraph()}{\_remove\_initialization\_subgraph()}}
{\footnotesize\ttfamily \label{namespacemodel__transforms__utils_a2e0f9e2537204edf747bcbc9db69cc8c} 
model\+\_\+transforms\+\_\+utils.\+\_\+remove\+\_\+initialization\+\_\+subgraph (\begin{DoxyParamCaption}\item[{}]{model}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Removes the resource variable initialization subgraph entirely from the flatbuffer for additional memory savings.\end{DoxyVerb}
 \Hypertarget{namespacemodel__transforms__utils_aa74caf50ed66eaa42c80dc5a2f9a86de}\index{model\_transforms\_utils@{model\_transforms\_utils}!\_zero\_bias\_buffer@{\_zero\_bias\_buffer}}
\index{\_zero\_bias\_buffer@{\_zero\_bias\_buffer}!model\_transforms\_utils@{model\_transforms\_utils}}
\doxysubsubsection{\texorpdfstring{\_zero\_bias\_buffer()}{\_zero\_bias\_buffer()}}
{\footnotesize\ttfamily \label{namespacemodel__transforms__utils_aa74caf50ed66eaa42c80dc5a2f9a86de} 
model\+\_\+transforms\+\_\+utils.\+\_\+zero\+\_\+bias\+\_\+buffer (\begin{DoxyParamCaption}\item[{}]{model}{, }\item[{}]{buffer\+\_\+idx}{, }\item[{}]{zero\+\_\+point}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\Hypertarget{namespacemodel__transforms__utils_a61f698b81330ccdc815e38ad67fd7869}\index{model\_transforms\_utils@{model\_transforms\_utils}!\_zero\_resource\_buffers@{\_zero\_resource\_buffers}}
\index{\_zero\_resource\_buffers@{\_zero\_resource\_buffers}!model\_transforms\_utils@{model\_transforms\_utils}}
\doxysubsubsection{\texorpdfstring{\_zero\_resource\_buffers()}{\_zero\_resource\_buffers()}}
{\footnotesize\ttfamily \label{namespacemodel__transforms__utils_a61f698b81330ccdc815e38ad67fd7869} 
model\+\_\+transforms\+\_\+utils.\+\_\+zero\+\_\+resource\+\_\+buffers (\begin{DoxyParamCaption}\item[{}]{model}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Zero out resource buffers.

Ignores buffers which are used in multiple subgraphs (b/266017172).
Args:
  model: The model to operate on, a schema_fb.ModelT object.

Returns:
  multi_subgraph_resource_buffers: list of resource variable buffers that are
  in multiple subgraphs.
\end{DoxyVerb}
 \Hypertarget{namespacemodel__transforms__utils_ac288cfb3f4231d3f08371006f53833f3}\index{model\_transforms\_utils@{model\_transforms\_utils}!clear\_resource\_variable\_buffers@{clear\_resource\_variable\_buffers}}
\index{clear\_resource\_variable\_buffers@{clear\_resource\_variable\_buffers}!model\_transforms\_utils@{model\_transforms\_utils}}
\doxysubsubsection{\texorpdfstring{clear\_resource\_variable\_buffers()}{clear\_resource\_variable\_buffers()}}
{\footnotesize\ttfamily \label{namespacemodel__transforms__utils_ac288cfb3f4231d3f08371006f53833f3} 
model\+\_\+transforms\+\_\+utils.\+clear\+\_\+resource\+\_\+variable\+\_\+buffers (\begin{DoxyParamCaption}\item[{}]{model}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Clear resource variable buffers, removes assocaited CALL_ONCE op, and the resource buffer initialization subgraph.\end{DoxyVerb}
 \Hypertarget{namespacemodel__transforms__utils_aa1b34b5ee93305cc1400164f9f65229c}\index{model\_transforms\_utils@{model\_transforms\_utils}!generate\_random\_input\_data@{generate\_random\_input\_data}}
\index{generate\_random\_input\_data@{generate\_random\_input\_data}!model\_transforms\_utils@{model\_transforms\_utils}}
\doxysubsubsection{\texorpdfstring{generate\_random\_input\_data()}{generate\_random\_input\_data()}}
{\footnotesize\ttfamily \label{namespacemodel__transforms__utils_aa1b34b5ee93305cc1400164f9f65229c} 
model\+\_\+transforms\+\_\+utils.\+generate\+\_\+random\+\_\+input\+\_\+data (\begin{DoxyParamCaption}\item[{}]{model}{, }\item[{}]{input\+\_\+tensor}{, }\item[{}]{random\+\_\+number\+\_\+generator}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Generates random input data based on the tensor parameters (data_type and related quantization information).

Not all input types are supported. RuntimeError is raised on unsupported type.
Assumes a single subgraph model.

Args:
  model: a tflite schema ModelT object
  input_tensor: the TensorT object whose parameters are matched to generate
    the random values.
  random_number_generator: a numpy.random number generator to get random
    values from

Returns:
  array of input_tensor.shape of random data according to the input dtype.

Raises:
  RuntimeError: for unsupported dtypes of input tensor.
\end{DoxyVerb}
 \Hypertarget{namespacemodel__transforms__utils_a20b450ce58f046afbff1ce156841989c}\index{model\_transforms\_utils@{model\_transforms\_utils}!remove\_extraneous\_quantization\_data@{remove\_extraneous\_quantization\_data}}
\index{remove\_extraneous\_quantization\_data@{remove\_extraneous\_quantization\_data}!model\_transforms\_utils@{model\_transforms\_utils}}
\doxysubsubsection{\texorpdfstring{remove\_extraneous\_quantization\_data()}{remove\_extraneous\_quantization\_data()}}
{\footnotesize\ttfamily \label{namespacemodel__transforms__utils_a20b450ce58f046afbff1ce156841989c} 
model\+\_\+transforms\+\_\+utils.\+remove\+\_\+extraneous\+\_\+quantization\+\_\+data (\begin{DoxyParamCaption}\item[{}]{model}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Remove min/max quantization data and shrink zero point arrays from weight/bias tensors.\end{DoxyVerb}
 \Hypertarget{namespacemodel__transforms__utils_a8fe3c75ffa223e00cc9e6b7de96ce5a8}\index{model\_transforms\_utils@{model\_transforms\_utils}!shorten\_variable\_shared\_names@{shorten\_variable\_shared\_names}}
\index{shorten\_variable\_shared\_names@{shorten\_variable\_shared\_names}!model\_transforms\_utils@{model\_transforms\_utils}}
\doxysubsubsection{\texorpdfstring{shorten\_variable\_shared\_names()}{shorten\_variable\_shared\_names()}}
{\footnotesize\ttfamily \label{namespacemodel__transforms__utils_a8fe3c75ffa223e00cc9e6b7de96ce5a8} 
model\+\_\+transforms\+\_\+utils.\+shorten\+\_\+variable\+\_\+shared\+\_\+names (\begin{DoxyParamCaption}\item[{}]{model}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Replaces shared names with a shorter string corresponding to a unique index.\end{DoxyVerb}
 \Hypertarget{namespacemodel__transforms__utils_adbf51ae8b8982c16a42349f50e1f9a99}\index{model\_transforms\_utils@{model\_transforms\_utils}!tflite\_flatbuffer\_align@{tflite\_flatbuffer\_align}}
\index{tflite\_flatbuffer\_align@{tflite\_flatbuffer\_align}!model\_transforms\_utils@{model\_transforms\_utils}}
\doxysubsubsection{\texorpdfstring{tflite\_flatbuffer\_align()}{tflite\_flatbuffer\_align()}}
{\footnotesize\ttfamily \label{namespacemodel__transforms__utils_adbf51ae8b8982c16a42349f50e1f9a99} 
model\+\_\+transforms\+\_\+utils.\+tflite\+\_\+flatbuffer\+\_\+align (\begin{DoxyParamCaption}\item[{}]{input\+\_\+model\+\_\+path}{, }\item[{}]{output\+\_\+model\+\_\+path}{}\end{DoxyParamCaption})}

